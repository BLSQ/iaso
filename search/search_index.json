{"config":{"lang":["en","fr","es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"AWS-Deployment.html","title":"How Iaso is deployed on AWS","text":"<p>on ElasticBeanstalk + RDS </p>"},{"location":"AWS-Deployment.html#main-parts","title":"Main parts","text":"<ul> <li>Creation of the HOST environment where the Iaso code will be deployed as well as the related services</li> <li>The deployment of the code itself and of new version</li> </ul>"},{"location":"AWS-Deployment.html#host-infrastructure","title":"Host infrastructure","text":"<p>This documentation concerned the main Iaso deployment, that are done on AWS.</p> <p>The main pillar is AWS  Elastic beanstalk</p> <p>Which is kind of a magic solution from Amazon that tie several of their service together, handle deployment logic, etc...</p> <p>In the past we configured it by hands but now we are moving toward having it  all handled via Terrraform so it is in code (we can have an history, avoid misclick, do complex ops etc...).</p> <p>The technical term for this is \"Provisioning\" if you want to look it up.</p>"},{"location":"AWS-Deployment.html#setup-of-the-elastic-beainstalk","title":"Setup of the Elastic Beainstalk","text":"<p>See https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create-deploy-python-django.html</p> <p>We have custom commands and configuration in .ebextensions/ and in  and in .platform/ to extend the nginx config.</p>"},{"location":"AWS-Deployment.html#running-django-3-on-elastic-beanstalk-custom-ami","title":"Running Django 3 on Elastic Beanstalk / Custom AMI","text":"<p>Django 3 requires version 2+ of the gdal library. Sadly, Beanstalk is based on Amazon Linux that contain an outdated version of GDAL.</p> <p>To fix this you have to create  a custom AMI to use in your Elastic Beanstalk environments and compile and your own version of gdal and it's dependencies.</p> <p>See the AWS documentation on creating adn using a custom AMI and the Django documentation on compiling the GIS libraries</p> <p>Custom build of the following libraries were done:</p> <ul> <li>geos</li> <li>SQLite</li> <li>proj</li> <li>proj-data</li> <li>spatialite</li> <li>gdal</li> </ul> <p>You can check <code>scripts/create_ami.sh</code> for reference</p> <p>Read AWS documentation on creating adn using a custom AMI but in summary:</p> <ol> <li>In EC2 -&gt; AMIs, identify the AMI of the Elastic Beanstalk EC2 server(Ex: Choose a public AMI in which python3.9 installed with Amazon Linux 2).</li> <li>Select the AMI and launch a new instance based on it. </li> <li>Specify the instance name and choose a key pair.</li> <li>Don't forget to set in the advanced section:</li> </ol> <pre><code>#cloud-config\n  repo_releasever: repository version number\n  repo_upgrade: none\n</code></pre> <ol> <li>Connect via SSH to the instance</li> <li>Install the dependencies (see scripts/create_ami.sh)</li> <li>Then go to Actions -&gt; Image -&gt; Create Image</li> <li>When it's ready, go to the Beanstalk Instance Settings and specify the AMI reference of the image we just created.</li> </ol>"},{"location":"AWS-Deployment.html#where-is-the-code","title":"Where is the code ?","text":"<p>Infrastructure and configuration in the Github repository BLSQ/terraform-iaso-eb There is good documentation from Mbayang in the <code>docs/</code> folder. Visibility is restricted.</p> <p>In the <code>BLSQ/iaso</code> Github repository: * <code>.github</code> For the workflow info * <code>scripts/</code> * <code>.ebextension</code> For the Elastic beanstalk specific command * <code>.platform</code> Configuration override</p>"},{"location":"AWS-Deployment.html#related-services","title":"Related services","text":"<ul> <li>S3 bucket: For the static and the user uploaded media (in AWS)</li> <li>Enketo (in another AWS Elastic Beanstalk)</li> <li>Postgresql RDS (in AWS)</li> <li>Queue Service for background Worker  (in AWS SQS)</li> <li>Sentry: error handling and notification (as Saas)</li> <li>MailGun (as Saas)</li> <li>Route53: DNS redirection (in AWS)</li> </ul> <p>Two type of env in elastic beanstalk: * web * worker</p> <p>We tie them via an \"env\" tag in AWS, so we can deploy them at the same time</p> <p>One Elastic Beanstalk Env can contain multipe \"EC2 Instance\", that is virtual machine server.  Their number auto scale according to rule in elastic beanstalk. Usually we have 1 instance for Worker and 2 for Web.</p>"},{"location":"AWS-Deployment.html#s3-bucket","title":"S3 bucket","text":"<ul> <li>Static: Push static in them so they can be properly cached and CDN (not sure we actually do this)</li> <li>Media: Store uploaded media by the users : Form response (XML), media attached to Form response (photos), gpkg, form definition, etc.. </li> </ul> <p>Static are readable by all.</p> <p>Media are only accessible via Signed url that expire after a laps of time (15 minutes I think) and that are generated on the fly by iaso when needed.</p>"},{"location":"AWS-Deployment.html#cicd","title":"CI/CD","text":"<p>Deployment of new version is done via Github action.</p> <p>Each change on main are automically deployed on the staging environment</p> <p>Deployment to other env have to be manually triggered</p>"},{"location":"AWS-Deployment.html#deployement-process","title":"Deployement process","text":"<p>How a new version of Iaso is deployed</p> <p>This is a simplified view, some details are omitted for clarity</p> <ol> <li>A user trigger the deploy worflow in github actions (or it is trigger automatically for staging)</li> <li>In the github worker: (code in .github/workflows/deploy.yml)<ol> <li>Determine version number. Call set_version to set it.</li> <li>It build all the JS/CSS and other ressource for the front-end</li> <li>Add the to the git repo</li> <li>scripts/eb-deploy.py:<ol> <li>Connect to the AWS api to fetch all the beanstalk environments for the <code>iaso</code> environment. e.g. : <code>staging</code> -&gt; <code>iaso-staging2</code> and <code>iaso-staging2-worker</code></li> <li>For each beanstalk env, trigger <code>eb deploy</code> (from awseb cli):<ol> <li>Make a zip file of the content of the git repo (done by eb deploy). Including the compiled asset</li> <li>Call ElasticBeanstalk API to deploy it</li> </ol> </li> </ol> </li> </ol> </li> <li>In the Iaso servers (EC2 instances): Our code/config for this is in the directory <code>.ebextensions</code> Action markqe with \u00a5 are part of Elastic beanstalk logic<ol> <li>Deployment is triggered \u00a5</li> <li>New app version is copied in <code>/var/app/staging</code> \u00a5</li> <li>The dependencies in requirements.txt are installed  \u00a5</li> <li>Our logic is executed<ol> <li>Server translations are compiled</li> <li>The frontend (compiled JS, image, css) is pushed to the S3 bucket.</li> <li>Database migration are done</li> <li>Cache table is created</li> </ol> </li> <li><code>/var/app/staging</code> is moved in <code>/var/app/current</code> \u00a5</li> <li>If these steps fail, Elastic beanstalk will do a rollback and revert to the previous version. Note since we do manually the maching between worker and web, sometime we have the problem that one is rolled back and not the other and we have a version mismatch. We sometime also have the problem with incompatible database migrations. \u00a5</li> <li>Send a Slack notification to notify of the success of failure of the github deployment.</li> </ol> </li> </ol>"},{"location":"AWS-Deployment.html#related-services-in-more-details","title":"Related services in more details","text":"<ul> <li>S3 bucket: For the static and the user uploaded media (in AWS)</li> <li>Enketo (in another AWS Elastic Beanstalk)</li> <li>Postgresql RDS (in AWS)</li> <li>Queue Service for background Worker  (in AWS SQS)</li> <li>Sentry: error handling and notification (as Saas)</li> <li>MailGun (as Saas)</li> <li>Route53: DNS redirection (in AWS)</li> </ul>"},{"location":"AWS-Deployment.html#enketo","title":"Enketo","text":"<p>Deployed separately, handled via Elastic Beanstalk also, linked to Iaso via environment variable. Mbayang manage this</p>"},{"location":"AWS-Deployment.html#aws-sqs","title":"AWS SQS","text":"<p>Queue system used for Worker, see worker section in README</p>"},{"location":"AWS-Deployment.html#s3-bucket_1","title":"S3 bucket","text":"<p>S3 see above</p>"},{"location":"AWS-Deployment.html#architecture-inside-the-vm","title":"Architecture inside the VM","text":"<p>Code is in the <code>/var/app/current</code></p> <p>Systemctl launch the web server  as the <code>web</code> unit. This is done via Gunicorn under the web user, gunicorn launch multiple Django server.</p> <p>There is a NGINX in front of gunicorn. The above is handled automatically via Iaso</p> <p>The logs can be listed inside the VM via <code>journalctl -u web</code></p> <p>We have 2 crons (for now). They can be seen  by using <code>systemctl list-timers</code></p>"},{"location":"Azure-Storage-Configuration.html","title":"Azure Storage Configuration for Iaso","text":"<p>This document explains how to configure Iaso to use Azure Blob Storage instead of AWS S3 or local storage.</p>"},{"location":"Azure-Storage-Configuration.html#overview","title":"Overview","text":"<p>Iaso supports three storage providers: - Local: Files stored on the local filesystem (default for development) - AWS S3: Files stored in Amazon S3 (current production setup) - Azure Blob Storage: Files stored in Azure Blob Storage (new option)</p>"},{"location":"Azure-Storage-Configuration.html#environment-variables","title":"Environment Variables","text":"<p>To enable Azure Storage, set the following environment variables:</p>"},{"location":"Azure-Storage-Configuration.html#required-variables","title":"Required Variables","text":"<pre><code># Enable Azure Storage\nUSE_AZURE_STORAGE=true\n\n# Azure Storage Account credentials (choose one method)\nAZURE_STORAGE_ACCOUNT_NAME=your_storage_account_name\nAZURE_STORAGE_ACCOUNT_KEY=your_storage_account_key\n\n# OR use connection string (alternative to account name/key)\nAZURE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your_account;AccountKey=your_key;EndpointSuffix=core.windows.net\n</code></pre>"},{"location":"Azure-Storage-Configuration.html#optional-variables","title":"Optional Variables","text":"<pre><code># Container name for general storage (default: \"iaso\")\nAZURE_CONTAINER_NAME=iaso\n\n# Custom domain for CDN (optional)\nAZURE_CUSTOM_DOMAIN=static.yourdomain.com\n\n# CDN URL for static files (overrides Azure URLs)\nSTATIC_URL=https://your-cdn.com/static/\n</code></pre>"},{"location":"Azure-Storage-Configuration.html#storage-container-structure","title":"Storage Container Structure","text":"<p>The system uses a single container with folder organization: - Container: <code>iaso</code> (or <code>AZURE_CONTAINER_NAME</code>) - <code>static/</code> folder: For static files (JS, CSS, images) - <code>media/</code> folder: For user-uploaded files</p> <p>This approach is more efficient and follows Azure Storage best practices.</p>"},{"location":"Azure-Storage-Configuration.html#url-patterns","title":"URL Patterns","text":"<p>Depending on your configuration, files will be served from:</p>"},{"location":"Azure-Storage-Configuration.html#with-custom-domain","title":"With Custom Domain","text":"<pre><code>Static files: https://yourdomain.com/static/\nMedia files: https://yourdomain.com/media/\n</code></pre>"},{"location":"Azure-Storage-Configuration.html#without-custom-domain","title":"Without Custom Domain","text":"<pre><code>Static files: https://your_storage_account.blob.core.windows.net/iaso/static/\nMedia files: https://your_storage_account.blob.core.windows.net/iaso/media/\n</code></pre>"},{"location":"Azure-Storage-Configuration.html#with-cdn","title":"With CDN","text":"<pre><code>Static files: https://your-cdn.com/static/\nMedia files: https://your_storage_account.blob.core.windows.net/media/\n</code></pre>"},{"location":"Azure-Storage-Configuration.html#setup-steps","title":"Setup Steps","text":""},{"location":"Azure-Storage-Configuration.html#1-create-azure-storage-account","title":"1. Create Azure Storage Account","text":"<ol> <li>Go to Azure Portal</li> <li>Create a new Storage Account</li> <li>Note down the account name and access key</li> </ol>"},{"location":"Azure-Storage-Configuration.html#2-create-container","title":"2. Create Container","text":"<p>The container will be created automatically when first accessed, but you can create it manually:</p> <pre><code># Using Azure CLI\naz storage container create --name iaso --account-name your_account_name\n</code></pre> <p>The <code>static/</code> and <code>media/</code> folders will be created automatically when files are uploaded.</p>"},{"location":"Azure-Storage-Configuration.html#3-configure-environment-variables","title":"3. Configure Environment Variables","text":"<p>Set the required environment variables in your deployment environment:</p> <pre><code>export USE_AZURE_STORAGE=true\nexport AZURE_STORAGE_ACCOUNT_NAME=your_storage_account_name\nexport AZURE_STORAGE_ACCOUNT_KEY=your_storage_account_key\n</code></pre>"},{"location":"Azure-Storage-Configuration.html#4-test-configuration","title":"4. Test Configuration","text":"<p>Run the following commands to test your configuration:</p> <pre><code># Collect static files\npython manage.py collectstatic --noinput\n\n# Test file upload (if you have admin access)\n# Upload a file through the Django admin interface\n</code></pre>"},{"location":"Azure-Storage-Configuration.html#migration-from-s3","title":"Migration from S3","text":"<p>If you're migrating from AWS S3 to Azure Storage:</p> <ol> <li>Data Migration: Use Azure Data Factory or AzCopy to migrate existing files</li> <li>Update Environment: Change from S3 to Azure environment variables</li> <li>Test Thoroughly: Verify all file uploads and downloads work correctly</li> <li>Update CDN: If using a CDN, update it to point to Azure Storage</li> </ol>"},{"location":"Azure-Storage-Configuration.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"Azure-Storage-Configuration.html#common-issues","title":"Common Issues","text":"<ol> <li>Authentication Errors: Verify your account name and key are correct</li> <li>Container Not Found: The container is created automatically, but ensure your account has proper permissions</li> <li>CORS Issues: Configure CORS settings in Azure Storage if accessing from web browsers</li> </ol>"},{"location":"Azure-Storage-Configuration.html#cors-configuration","title":"CORS Configuration","text":"<p>If you encounter CORS issues, configure Azure Storage CORS:</p> <pre><code># Using Azure CLI\naz storage cors add --account-name your_account_name \\\n  --services blob \\\n  --methods GET HEAD POST PUT DELETE OPTIONS \\\n  --origins \"*\" \\\n  --allowed-headers \"*\" \\\n  --exposed-headers \"*\" \\\n  --max-age 86400\n</code></pre>"},{"location":"Azure-Storage-Configuration.html#security-considerations","title":"Security Considerations","text":"<ol> <li>Access Keys: Store access keys securely, never commit them to version control</li> <li>Network Security: Consider using Azure Private Endpoints for enhanced security</li> <li>Encryption: Azure Storage provides encryption at rest by default</li> <li>Access Control: Use Azure RBAC to control access to storage accounts</li> </ol>"},{"location":"Azure-Storage-Configuration.html#cost-optimization","title":"Cost Optimization","text":"<ol> <li>Storage Tier: Use appropriate storage tiers (Hot, Cool, Archive)</li> <li>Lifecycle Management: Configure lifecycle policies to move data to cheaper tiers</li> <li>CDN: Use Azure CDN to reduce bandwidth costs</li> <li>Monitoring: Monitor usage and costs through Azure Portal</li> </ol>"},{"location":"Azure-Storage-Configuration.html#example-configuration-files","title":"Example Configuration Files","text":""},{"location":"Azure-Storage-Configuration.html#docker-compose-development","title":"Docker Compose (Development)","text":"<pre><code>version: '3.8'\nservices:\n  web:\n    environment:\n      - USE_AZURE_STORAGE=true\n      - AZURE_STORAGE_ACCOUNT_NAME=your_account_name\n      - AZURE_STORAGE_ACCOUNT_KEY=your_account_key\n      - AZURE_CONTAINER_NAME=iaso-dev\n</code></pre>"},{"location":"Azure-Storage-Configuration.html#elastic-beanstalk-production","title":"Elastic Beanstalk (Production)","text":"<pre><code>option_settings:\n  aws:elasticbeanstalk:application:environment:\n    USE_AZURE_STORAGE: \"true\"\n    AZURE_STORAGE_ACCOUNT_NAME: \"your_account_name\"\n    AZURE_STORAGE_ACCOUNT_KEY: \"your_account_key\"\n    AZURE_CONTAINER_NAME: \"iaso-prod\"\n    AZURE_CUSTOM_DOMAIN: \"static.yourdomain.com\"\n</code></pre>"},{"location":"Azure-Storage-Configuration.html#support","title":"Support","text":"<p>For issues related to Azure Storage configuration, please: 1. Check the Azure Storage documentation 2. Verify your environment variables are set correctly 3. Test with a simple file upload/download 4. Check Django logs for detailed error messages </p>"},{"location":"index.html","title":"Welcome to the documentation of IASO","text":""},{"location":"index.html#introduction-to-iaso","title":"Introduction to IASO","text":"<p>IASO is an innovative, open-source, trilingual (EN/FR/ES) data collection platform with advanced geospatial features to plan, monitor and evaluate health, environmental or social programmes in low- and middle-income settings (LMICs). IASO is recognized as a Digital Public Good by the Digital Public Good Alliance and listed as a Digital Square Software Global Good, a testament to its proven impact. For more information and detailed use cases, please visit IASO website.</p> <p>IASO comprises:</p> <ul> <li>a web dashboard - intended for supervisors to organize data collection and geographical data management</li> <li>a mobile application that also works offline - intended to field users to fill out forms and send data when network is available</li> <li>a matching and scripting interface to analyze, compare and merge several geographic data sources</li> <li>a bi-directional integration with DHIS2, the widely used Health Management Information System in Low- and middle-income countries</li> </ul> <p>In terms of features, IASO can be summarized around four main components which are interconnected and expand the powers of one another:</p> <ul> <li> <p>Geospatial data management (Georegistry)</p> <ul> <li>Manage multiple master lists of organizational units (e.g. health areas, districts, facilities, or schools) including their GPS coordinates and boundaries</li> <li>Keep track of changes made to the organization units</li> <li>Map multiple geographic data sources</li> <li>Propose changes to org units from IASO mobile application and validate them on the web</li> </ul> </li> <li> <p>Geo-structured data collection</p> <ul> <li>Create data collection forms using the widely known XLS form format and upload them to IASO</li> <li>Link your form to one or several organization unit type (e.g. National/Regional/District/Health facility) to geo-structure your data collection</li> <li>Keep track of changes with versioning of your data collection forms</li> <li>Validate from the web all data collection form submissions sent from IASO mobile application</li> <li>Monitor data collection completeness per organization unit level and drill-down to identify where issues happen</li> </ul> </li> <li> <p>Geo-enabled Microplanning</p> <ul> <li>Manage teams of users and teams of teams</li> <li>Assign data collection duties to teams and users using a map interface</li> <li>Create plannings with a scope, a time span, and one or several data collection form(s)</li> </ul> </li> <li> <p>Entities - these can be individuals (e.g. health programme beneficiaries) or physical objects (e.g. vaccines parcel, mosquito net, etc.). Workflows allows the tracking of entities by opening specific forms according to previous answers given to previous forms.</p> <ul> <li>Create entity types (beneficiaries, stocks, or other)</li> <li>Assign workflows to entity types</li> <li>Register entities via mobile app (offline)</li> <li>Synchronize mobile and web applications</li> <li>Compare and merge entities as needed</li> <li>Record entity data in an NFC card</li> </ul> </li> </ul> <p>The platform has been implemented in Benin, Burkina Faso, Burundi, Cameroon, Central African Republic, the Democratic Republic of Congo, Haiti, Ivory Coast, Mali, Niger, Nigeria and Uganda. It is the official georegistry in Burkina Faso since 2023. IASO has also been implemented at regional level (AFRO region) in support to the Global Polio Eradication Initiative for its geospatial and health facility registries capabilities.</p>"},{"location":"index.html#technical-stack","title":"Technical stack","text":"<p>IASO is made of a white labeled Android application using Java/Kotlin, reusing large parts of the ODK projects, and a web platform programmed using Python/GeoDjango on top of PostGIS.  Frontend is mainly React/Leaflet.  The API is implemented via Django rest framework, all data is stored in Postgresql or the media/ directory. One of the aims is the ease of integration with other platforms. We already have csv and geopackage imports and exports and target easy integration with OSM.</p> <p>The companion mobile app for Android allows form submission and and org unit creation. Forms can also be filled in a web interface via the Enketo companion service. </p>"},{"location":"decisions/0000-use-one-api-endpoint-per-operation.html","title":"Use One API Endpoint Per Operation","text":"<ul> <li>Status: accepted</li> <li>Date: 2025-07-23</li> </ul>"},{"location":"decisions/0000-use-one-api-endpoint-per-operation.html#context-and-problem-statement","title":"Context and Problem Statement","text":"<p>The code base has 2 types of endpoints: centralized, all-purpose endpoints around a model (e.g: OrgUnit), or ultra-specific endpoints that serve a single purpose. We need to settle on one philosophy going forward to get a consistent easy to maintain code base</p>"},{"location":"decisions/0000-use-one-api-endpoint-per-operation.html#decision-drivers","title":"Decision Drivers","text":"<ul> <li>Feature stability</li> <li>ease of maintenance</li> <li>ease of API use</li> <li>development cost</li> <li> <p>function (old_index, new_index) {     // Shortcut helper to move item to end of array     if (-1 === new_index) {         new_index = this.length - 1;     }</p> <p>if (new_index &gt;= this.length) {     var k = new_index - this.length;     while (k-- + 1) {         this.push(undefined);     } } this.splice(new_index, 0, this.splice(old_index, 1)[0]); return this; // for testing purposes }</p> </li> </ul>"},{"location":"decisions/0000-use-one-api-endpoint-per-operation.html#considered-options","title":"Considered Options","text":"<ul> <li>Multi-purpose endpoint</li> <li>Specific endpoints</li> </ul>"},{"location":"decisions/0000-use-one-api-endpoint-per-operation.html#decision-outcome","title":"Decision Outcome","text":"<p>Chosen option: \"Specific endpoints\", because Removing a single point of failure seems worth the trade-offs, and maintening several small endpoints seems manageable</p>"},{"location":"decisions/0000-use-one-api-endpoint-per-operation.html#positive-consequences","title":"Positive Consequences","text":"<ul> <li>More stable APIs</li> <li>APIs easier to document and test</li> </ul>"},{"location":"decisions/0000-use-one-api-endpoint-per-operation.html#negative-consequences","title":"Negative Consequences","text":"<ul> <li>Lots of refactoring needed</li> </ul>"},{"location":"decisions/0000-use-one-api-endpoint-per-operation.html#pros-and-cons-of-the-options","title":"Pros and Cons of the Options","text":""},{"location":"decisions/0000-use-one-api-endpoint-per-operation.html#multi-purpose-endpoint","title":"Multi-purpose endpoint","text":"<p>Have one endpoint that can receive multiple parameters so users can tailor the response to their needs</p> <ul> <li>Good, because Easy for users to know which endpoint to use</li> <li>Good, because No need to develop a new endpoint for each use case</li> <li>Good, because Centralized API logic</li> <li>Bad, because Single point of failure. If the endpoint goes down, failure happens across the board</li> <li>Bad, because Becomes hard to maintain as use cases and edge cases pile up</li> </ul>"},{"location":"decisions/0000-use-one-api-endpoint-per-operation.html#specific-endpoints","title":"Specific endpoints","text":"<p>Have one tailor made endpoint per use case</p> <ul> <li>Good, because No single point of failure</li> <li>Good, because Easy to maintain as amount of logic and code per endpoint remains limited</li> <li>Good, because No side-effects when modifying an API</li> <li>Bad, because Can lead to a lot of code duplication, which can be a pain to maintain</li> <li>Bad, because Generates more custom development</li> <li>Bad, because Can lead to multiple endpoints covering the same use case if not managed correctly by the team (eg: multiple dropdowns for the same model)</li> </ul>"},{"location":"pages/dev/how_to/add_new_permission/add_new_permission.html","title":"How to add a new permission in Iaso","text":""},{"location":"pages/dev/how_to/add_new_permission/add_new_permission.html#1-add-permission-in-the-model","title":"1. Add permission in the model","text":"<ul> <li>Go to `/hat/menupermissions/models.py``</li> <li>Add a private constant with the string value of the permission: `_MY_PERMISSION = \"iaso_my_permission\"``</li> <li>Add a constant to combine it with <code>_PREFIX</code>: <code>MY_PERMISSION = _PREFIX + _MY_PERMISSION</code></li> <li>Add the permission to the <code>permissions</code> property of <code>CustomPermissionSupport</code>'s <code>Meta</code> class: <code>(_MY_PERMISSION, _(\"Access some stuff\"))</code></li> </ul>"},{"location":"pages/dev/how_to/add_new_permission/add_new_permission.html#2-include-the-permission-in-a-module","title":"2. Include the permission in a module","text":"<ul> <li>Go to <code>/hat/menupermissions/constants.py</code></li> <li>Add the permission to a module from <code>MODULE_PERMISSIONS</code></li> <li>If no existing module fits, create one (see exiting modules for inspiration)</li> <li>If a new module is created, add it to <code>MODULES</code> (in the same file)</li> <li>If it's a new module run migration to add it in modules options for the account</li> </ul>"},{"location":"pages/dev/how_to/add_new_permission/add_new_permission.html#3-include-the-permission-in-the-corresponding-group","title":"3. Include the permission in the corresponding group","text":"<ul> <li>Go to <code>/hat/menupermissions/constants.py</code></li> <li>Add the permission to a group from <code>PERMISSIONS_PRESENTATION</code></li> <li>If no existing group fits, create one (see exiting groups for inspiration)</li> <li>If the corresponding group exists add the new permission to that group (see exiting groups for inspiration)</li> </ul>"},{"location":"pages/dev/how_to/add_new_permission/add_new_permission.html#4-if-the-added-permission-must-be-coupled-with-another-permission-like-read-and-edit","title":"4. If the added permission must be coupled with another permission like read and edit","text":"<ul> <li>Go to <code>/hat/menupermissions/constants.py</code></li> <li>Add the added permission and it's related permission as an item of the <code>READ_EDIT_PERMISSIONS</code> dictionnary</li> <li>The item should have a key which reprensente the string name which will be displayed</li> <li>The item should have a dictionnary reprensenting the coupled permissions, the keys (should be two keys) are <code>read</code> and <code>edit</code> or other keys like <code>no-admin</code> and <code>admin</code></li> <li>The item should look like <code>item_key\": {\"read\": \"added_permission\", \"edit\": \"coupled_permission\"}</code></li> <li>Add translations for all the keys(<code>item_key, read and edit</code>) and the tooltip message of the principal key(<code>item_key</code>)</li> </ul>"},{"location":"pages/dev/how_to/add_new_permission/add_new_permission.html#5-make-and-run-migration","title":"5. Make and run migration","text":"<p><code>docker compose run --rm iaso manage makemigrations &amp;&amp; docker compose run --rm iaso manage migrate</code></p>"},{"location":"pages/dev/how_to/add_new_permission/add_new_permission.html#6-add-the-permission-in-the-front-end","title":"6. Add the permission in the front-end","text":"<ul> <li>Go to <code>/hat/assets/js/apps/Iaso/utils/permissions.ts</code>. Add and export a constant with the permission key, in a similar way as what was done for the backend in step 1.</li> <li>When using the permission in the front-end: import the constant, don't write the key in a string.</li> </ul>"},{"location":"pages/dev/how_to/add_new_permission/add_new_permission.html#7-add-translations-in-the-front-end","title":"7. Add translations in the front-end","text":"<ul> <li>Add a translation for the permission, and its tooltip in <code>permissionMessages.ts</code>. The tooltip key should have the format: <code>&lt;permission name&gt;_tooltip</code> to enable the component to recognize and translate it.</li> <li>Add corresponding translations in <code>en.json</code> and <code>fr.json</code></li> </ul>"},{"location":"pages/dev/how_to/add_new_permission/add_new_permission.html#8-add-translation-for-new-module-if-applicable","title":"8. Add translation for new module (if applicable)","text":"<ul> <li>Go to <code>/hat/assets/js/apps/Iaso/domains/modules/messages.ts</code></li> <li>Add translation for the new module. The translation key should follow the pattern: `iaso.module.' <ul> <li>Example: codename = \"PAYMENTS\" =&gt; translation key = iaso.module.payments</li> </ul>"},{"location":"pages/dev/how_to/attach_file_to_forms/attach_file_to_forms.html","title":"Attach a file to a form","text":"<p>In ODK forms,  you can use external files (images, videos, audios,  CSVs, etc.) to enrich your forms.</p> <p>This is also possible in IASO, but you need to upload your files and attach them to the related form.</p> <p>After you have successfully created your form in the web interface, go to the details of your form, where you can see all the versions.</p> <p></p> <p>Select the tab \"ATTACHMENTS\" and click on \"ADD/UPDATE\".</p> <p></p> <p>You will be able to upload your file.</p> <p></p> \u26a0\ufe0f Note If a file with the same name already exists, it will be overridden. Once a file has been overridden, it cannot be recovered."},{"location":"pages/dev/how_to/configure_black_on_vsc/configure_black_on_vsc.html","title":"Configure black on vsc","text":""},{"location":"pages/dev/how_to/configure_black_on_vsc/configure_black_on_vsc.html#configuring-black-auto-formatting-in-vs-code","title":"Configuring Black Auto-formatting in VS Code","text":"<p>To set up automatic formatting with Black in Visual Studio Code:</p> <ol> <li>Install the \"Black Formatter\" extension in VS Code:</li> <li>Open VS Code</li> <li>Go to the Extensions view (Ctrl+Shift+X or Cmd+Shift+X on Mac)</li> <li>Search for \"Black Formatter\"</li> <li> <p>Click \"Install\" for the extension by Microsoft</p> </li> <li> <p>Create a <code>.vscode/settings.json</code> file in your project root if it doesn't exist.</p> </li> <li> <p>Add the following to <code>settings.json</code>:</p> </li> </ol> <p>```json    {         \"editor.formatOnSave\": true,         \"[python]\": {             \"editor.defaultFormatter\": \"ms-python.black-formatter\",             \"editor.formatOnSave\": true         },         \"black-formatter.args\": [\"--config\", \"${workspaceFolder}/pyproject.toml\"],         \"black-formatter.path\": [\"${workspaceFolder}/.venv/bin/black\"]     }</p> <p>```</p> <ol> <li>Set up and activate your virtual environment:</li> </ol> <p><code>python3.9 -m venv .venv    source .venv/bin/activate</code></p> <ol> <li>Install development requirements, which include Black:</li> </ol> <p><code>pip install -r requirements-dev.txt</code></p> <p>This ensures you're using the version of Black specified in the project's requirements.</p> <ol> <li>(Optional) If you want to exclude certain directories from formatting, you can add them to a <code>.vscode/.prettierignore</code> file:</li> </ol> <p><code>.git    .venv    venv    node_modules</code></p> <p>Now, VS Code will automatically format your Python files using Black when you save them, using the settings specified in your <code>settings.json</code> file and the version of Black specified in your project's requirements.</p> <p>Note: This configuration is local to your VS Code environment and won't affect other developers or CI processes that might use the <code>pyproject.toml</code> file.</p>"},{"location":"pages/dev/how_to/contribute/contribute.html","title":"Contribute","text":""},{"location":"pages/dev/how_to/contribute/contribute.html#code-formatting","title":"Code formatting","text":"<p>We have adopted Black  as our code formatting tool. Line length is 120.</p> <p>The easiest way to use is is to install the pre-commit hook: 1. Install pre-commit: pip install pre-commit 2. Execute pre-commit install to install git hooks in your .git/ directory.</p> <p>Another good way to have it working is to set it up in your code editor. Pycharm, for example, has good support for this.</p> <p>The pre-commit is not mandatory but Continuous Integration will check if the formatting is respected!</p>"},{"location":"pages/dev/how_to/contribute/contribute.html#tests-and-linting","title":"Tests and linting","text":"<p>For the Python backend, we use the Django builtin test framework. Tests can be executed with</p> <pre><code>docker compose exec iaso ./manage.py test\n</code></pre>"},{"location":"pages/dev/how_to/contribute/contribute.html#translations","title":"Translations","text":"<p>We have automated the translation process using custom management commands. This process involves generating translation files, checking for missing translations, and compiling them for use in the application. The process also includes fetching translations from other Django apps, including those located in plugin folders.</p>"},{"location":"pages/dev/how_to/contribute/contribute.html#steps-for-managing-translations","title":"Steps for Managing Translations","text":"<ol> <li>Generate and Check Translations:</li> </ol> <p>Use the <code>make_translations</code> management command to generate translation files and check for any missing translations. This command will process <code>.txt</code>, <code>.py</code>, and <code>.html</code> files across the entire project, including any plugins, ensuring that all user-facing text is captured.</p> <p><code>bash    python manage.py make_translations</code></p> <p>This command will update the <code>.po</code> files in the <code>hat/locale/</code>, <code>iaso/locale/</code>, and any other relevant directories. It will also report any missing translations that need to be addressed.</p> <ol> <li>Compile Translations:</li> </ol> <p>After ensuring all translations are complete, use the <code>compile_translations</code> command to compile the translation files. This step is necessary to reflect the translations in the application interface.</p> <p><code>bash    python manage.py compile_translations</code></p>"},{"location":"pages/dev/how_to/contribute/contribute.html#important-notes","title":"Important Notes","text":"<ul> <li>The scripts are configured to ignore certain directories and include <code>.py</code> files, as translations are used in API error handling and choice lists.</li> <li>You do not need to add translations for English, as it is the default language. Currently, only French translations are required.</li> <li>If you encounter issues with locale paths, ensure that the <code>LOCALE_PATHS</code> setting in <code>settings.py</code> is correctly configured to include the necessary directories.</li> </ul> <p>By following these steps, you can efficiently manage translations within the Iaso platform, including those from additional Django apps and plugins.</p>"},{"location":"pages/dev/how_to/contribute/contribute.html#code-reloading","title":"Code reloading","text":"<p>In development the servers will reload when they detect a file change, either in Python or Javascript. If you need reloading for the bluesquare-components code, see the \"Live Bluesquare Components\" section. </p>"},{"location":"pages/dev/how_to/contribute/contribute.html#troubleshooting","title":"Troubleshooting","text":"<p>If you need to restart everything</p> <pre><code>docker compose stop &amp;&amp; docker compose start\n</code></pre> <p>If you encounter problems, you can try to rebuild everything from scratch.</p> <pre><code># kill containers\ndocker compose kill\n# remove `iaso` container\ndocker compose rm -f iaso\n# build containers\ndocker compose build\n# start-up containers\ndocker compose up\n</code></pre>"},{"location":"pages/dev/how_to/contribute/contribute.html#jupyter-notebook","title":"Jupyter Notebook","text":"<p>To run a Jupyter Notebook, just copy the env variable from runaisasdev.sh, activate the virtualenv and run</p> <pre><code>python manage.py shell_plus --notebook\n</code></pre>"},{"location":"pages/dev/how_to/contribute/contribute.html#testing-prod-js-assets-in-development","title":"Testing prod js assets in development","text":"<p>During local development, by default, the Javascript and CSS will be loaded from a webpack server with live reloading of the code. To locally test the compiled version as it is in production ( minified and with the same compilation option). You can launch docker compose with the <code>TEST_PROD=true</code> environment variable set.</p> <p>e.g <code>TEST_PROD=true docker compose up</code></p> <p>This can be useful to reproduce production only bugs. Please also test with this configuration whenever you modify webpack.prod.js to validate your changes.</p> <p>Alternatively this can be done outside of docker by running:</p> <ol> <li><code>npm run webpack-prod</code> to do the build</li> <li>Launching the django server with <code>TEST_PROD</code>    e.g. <code>TEST_PROD=true python manage.py runserver</code>.</li> </ol>"},{"location":"pages/dev/how_to/create_entities_in_web_ui/create_entities_in_web_ui.html","title":"How to create entities in web interface","text":"<p>Use case: develop or test entity related features in the web interface</p>"},{"location":"pages/dev/how_to/create_entities_in_web_ui/create_entities_in_web_ui.html#1-get-some-xls-forms","title":"1. Get some XLS Forms","text":"<p>At least one form will be needed as reference form. More would be optimal as it would allow to test the follow-up feature.</p>"},{"location":"pages/dev/how_to/create_entities_in_web_ui/create_entities_in_web_ui.html#2-create-forms-and-form-versions","title":"2. Create Forms and form versions","text":"<p>For each XLS form:</p> <ul> <li>Open the menu, go to Forms</li> <li>Click the Create button</li> <li>Fill in all mandatory fields and Save</li> <li>Click the Create Version button</li> <li>Use an XLS form to create the version</li> </ul>"},{"location":"pages/dev/how_to/create_entities_in_web_ui/create_entities_in_web_ui.html#3-create-one-or-several-entitytypes","title":"3. Create one or several <code>EntityType</code>s","text":"<ul> <li>From the menu, go to Beneficairies &gt; Beneficiary types</li> <li>Click create</li> <li>Assign one of the created forms as reference form for the benefiacry type</li> </ul> <p>Repeat as needed</p>"},{"location":"pages/dev/how_to/create_entities_in_web_ui/create_entities_in_web_ui.html#4-create-submissions-for-the-reference-forms","title":"4. Create submissions for the reference form(s)","text":"<ul> <li>Go to Forms &gt; Submissions</li> <li>Using the filters, search for the reference form(s) that were created in the previous step</li> <li>For each form, create a submission</li> </ul> <p>Note: To be able to create submissions, Enketo needs to be running. This can be done with the following command: <code>docker compose -f docker-compose.yml -f docker/docker-compose-enketo.yml up</code></p>"},{"location":"pages/dev/how_to/create_entities_in_web_ui/create_entities_in_web_ui.html#5-create-entities-with-the-django-admin","title":"5. Create <code>Entities</code> with the Django admin","text":"<ul> <li>Go to `/admin``</li> <li>Open the <code>Entities</code> menu entry</li> <li>Fill in the mandatory fields</li> <li>Associate one of the newly created submissions to the <code>Entity</code>. It should be a submission for the form defined as reference form for the <code>EntityType</code> of the <code>Entity</code> being created.</li> <li>Save</li> <li>Repeat as needed.</li> </ul>"},{"location":"pages/dev/how_to/create_entities_in_web_ui/create_entities_in_web_ui.html#6-setting-up-for-deduplication","title":"6. Setting up for deduplication","text":"<ul> <li>In steps 4 and 5, create at least 2 entities with overlapping data, e.g.: Same or very close names, age etc. The idea is to simulate that 2 Entities were created for the same real world person/object.</li> <li>In a python shell, run:</li> </ul> <pre><code>from django.db import connection\n\nwith connection.cursor() as cursor:\n    cursor.execute('CREATE EXTENSION fuzzystrmatch;')\n</code></pre> <p>Note: To open a python shell in docker: <code>docker compose exec iaso ./manage.py shell</code> - In a terminal, launch a task worker: <code>docker compose run iaso manage tasks_worker</code> - Go to <code>/api/entityduplicates_analyzes</code> to launch an algorithm analysis (e.g: inverse) - In Iaso web, go to Benefiaries &gt; Duplicates to see if the algorithm matched the duplicates created in previous steps</p>"},{"location":"pages/dev/how_to/create_entity_workflow/create_entity_workflow.html","title":"Create an entity workflow","text":"<p>As explained in Create forms for entities,  entities are represented by their profile's  submission, and are changed through follow-up forms. Yet, to make this work, we need to create a  workflow that defines which follow-up forms are possible, based on the entity's current state, and how each follow-up form changes the profile.</p>"},{"location":"pages/dev/how_to/create_entity_workflow/create_entity_workflow.html#access-workflows","title":"Access workflows","text":"<p>On the entity type page, click on the \"Workflow\" icon in the \"Action(s)\" column:</p> <p></p> <p>There, you can create a new workflow from scratch, open an existing one, or duplicate an existing one:</p> <p></p>"},{"location":"pages/dev/how_to/create_entity_workflow/create_entity_workflow.html#workflow-statuses","title":"Workflow statuses","text":"<p>Workflows can be in three different states:</p> <ul> <li>Draft: This is the default state in which you can still edit or delete a workflow</li> <li>Published: There can only be one published workflow per entity type. In this state, the workflow cannot be edited anymore.</li> <li>Unpublished: Workflows in this state cannot be edited nor deleted anymore, but can be promoted to published again.</li> </ul>"},{"location":"pages/dev/how_to/create_entity_workflow/create_entity_workflow.html#editing-a-workflow","title":"Editing a workflow","text":""},{"location":"pages/dev/how_to/create_entity_workflow/create_entity_workflow.html#the-name","title":"The name","text":"<p>The name is only useful to you and your team, it doesn't matter for the mobile application. It can be anything that  makes sense for your team, like a reference number of an approved UML diagram or an approved date.</p>"},{"location":"pages/dev/how_to/create_entity_workflow/create_entity_workflow.html#follow-ups","title":"Follow-ups","text":"<p>The follow-up forms are a list of forms which are going to be offered to the user as next forms to fill based on conditions which applies to the entity's profile.</p> <p></p> <p>In the example above, if the gender of the entity is \"Male\", we will offer the \"Test image\" form. There can also be more than one form offered if the conditions are met.</p> <p>If there are multiple follow-ups which conditions are met, all their forms will be offered as next in the order of the  follow-ups list.</p> <p>Finally, if you want a form to always be offered as next, you can leave the condition empty.</p>"},{"location":"pages/dev/how_to/create_entity_workflow/create_entity_workflow.html#changes","title":"Changes","text":"<p>Changes define which values from the follow-ups submission will override values in the entity's profile submission.</p> <p></p> <p>On the left, you can define which follow-up form will impact the profile. You can also select a form version to filter the questions only present in that version. On the right, you can filter on a specific version of the profile form if  you wish.</p> <p>Underneath, you can select the question that will impact the profile and select the question in the profile that will be  overridden. You can enter as many changes as you want per form.</p> <p>In the example above, the question <code>value</code>'s content, from the form <code>Test new value</code>, will be written into the question <code>previous_value</code> in the profile.</p>"},{"location":"pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html","title":"Create forms for entities","text":"<p>This document explains how to create ODK forms for entities and their workflows.</p>"},{"location":"pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html#the-entitys-profile","title":"The entity's profile","text":"<p>The profile (or reference form) is an ODK form that contains all the entity's information. Those information can be divided in two groups: - General information - which is static and does not change over time (E.g.: first name, last name, address, phone number, license plate, vaccination card number, etc.) - State information - which can vary over time (E.g.: weight, health program a beneficiary belongs to, status, etc.)</p> <p>General information is usually entered by the user and is referenced throughout the forms' questions of a given workflow State information is <code>calculate</code> questions with a default calculation (E.g.: <code>\"\"</code>, <code>0</code>, etc.)</p> <p>As a good practice, we keep the general information questions together at the top and state information questions together at the bottom. Without including them to any group (<code>begin_group</code> / <code>end_group</code>) so they don't appear when opening the form but their values can be references in the questions of the given form.</p>"},{"location":"pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html#example","title":"Example","text":"<p>A typical profile form would look like this:</p> type name label calculation text first_name First name text last_name Last name date birthday Birthday - - - - calculate total_number_of_visits Total number of visits 0 calculate program Program \"\""},{"location":"pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html#follow-up-forms","title":"Follow-up forms","text":"<p>Follow-up forms are forms which are presented based on the profile's value like defined in the workflow. A follow-up form can access values from the profile and also override values in the profile (based on the changes configured in the workflow).</p> <p>We usually split the follow-up forms in three parts: - The <code>calculate</code> questions which declare the information we want to retrieve from the profile - The form itself. In other words, the questions we want to ask the user. - The <code>calculate</code> questions which declare the changes we want to apply to the profile</p> <p>There is also an extra optional part which is a list of <code>note</code> questions which display the <code>calculate</code> questions that will override the profile. The <code>note</code> question allows the mobile application user to read from the ODK form the result of the calculation. This last part is optional but very useful to have a quick overview of what the values will be.</p>"},{"location":"pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html#example_1","title":"Example","text":"<p>Let's imagine we would like to show a form that asks if the person showed up. If they did, we increment the number of visits, otherwise we leave it as is.</p> <p>It would look like this:</p> type name label calculation calculate first_name First name \"\" calculate total_number_of_visits Total number of visits 0 - - - - select_one yes_no showed_up Has ${first_name} showed up today? - - - - calculate new_total_number_of_visits New Total number of visits \\${total_number_of_visits} + if(${showed_up} == \"yes\", 1, 0) - - - - note note_new_total_number_of_visits The new total number of visits will be: ${new_total_number_of_visits}"},{"location":"pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html#tips-and-tricks","title":"Tips and tricks","text":""},{"location":"pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html#avoid-changing-profiles-question-names-and-types","title":"Avoid changing profile's question names and types","text":"<p>Because entities can stay for a long time, when changing the profile, we try to migrate previous form versions to the new form versions. When you change a question's name or type, this conversion can fail. You can also have weird side effects in the workflows.</p> <p>Therefore, we highly advise that you try to have a stable profile form before you go to production and avoid changing the profile forms as much as possible.</p>"},{"location":"pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html#how-to-reduce-the-data-size-on-the-nfc-card","title":"How to reduce the data size on the NFC card?","text":"<p>Entities can be stored on NFC cards.  Therefore, reducing the size each forms take on the NFC card can greatly increase the amount of submissions we are able to store on the NFC card.</p>"},{"location":"pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html#omitting-questions","title":"Omitting questions","text":"<p>By default, all submissions questions (except notes) are stored on the NFC cards.  However, most \"real\" <code>calculate</code> questions can often be ignored (since their information can be computed based on the rest of the data). Questions that can safely be ignored (question which can be recalculated) can pre prefixed by an underscore (<code>_</code>) to strip them from the binary stored on the NFC card.</p> <p>Also, some questions like <code>first_name</code> in the previous example, which are just cosmetic, can be marked as omitted with the underscore to save space on the NFC card.</p>"},{"location":"pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html#example_2","title":"Example","text":"type name label calculation calculate date_of_birth Date of birth \"\" calculate _current_age Age in months int((today()- date(${date_of_birth})) div 30.44)"},{"location":"pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html#choices-values","title":"Choices values","text":"<p>When you have single/multi select questions, you need to think about how your choice value will be used.  If you use it to override a value in the profile, try to use integer values instead of names.  Names will take a lot of space on the NFC cards whereas integer are small.</p> <p>Note: When the choices are only in one form (not transferred to a <code>calculate</code> question in the profile), their values have no impact.</p>"},{"location":"pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html#example_3","title":"Example","text":"<p>\u274c BAD</p> list_name name label partners InternationalHumanitarianPartners(UNandNGOs) International Humanitarian Partners (UN and INGOs) partners NationalNGO National NGO partners GovernmentPartners Government Partners partners PrivatePartners Private Partners <p>\u2705 GOOD</p> list_name name label partners 1 International Humanitarian Partners (UN and INGOs) partners 2 National NGO partners 3 Government Partners partners 4 Private Partners"},{"location":"pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html#type-indicators","title":"Type indicators","text":"<p>Due to a current limitation, hidden questions must be <code>calculate</code> questions. Those questions default to the type <code>string</code> which is very heavy when stored on the NFC card.</p> <p>For <code>calculate</code> questions for which we know the type and we want to store on the NFC card (in the profile, mostly) we can suffix them with <code>__&lt;type&gt;__</code> as to improve their size. The available types are as follows:</p> Name ends with Type __int__ Integer __integer__ Integer __long__ Long __decimal__ Double __double__ Double __bool__ Boolean __boolean__ Boolean __date__ Date __time__ Time __date_time__ DateTime __datetime__ DateTime <p>Note: When using a type indicator in a profile question and then using this in a follow-up form, do not assume the value is of the type mentioned. It's always a good practice to parse it correctly.</p>"},{"location":"pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html#example_4","title":"Example","text":"type name label calculation calculate last_visit_date__date__ Last visit date \"\" calculate days_since_last_visit Days since last visit int(decimal-date-time(date(${last_visit_date__date__)) - decimal-date-time(today()))) <p>See how <code>last_visit_date__date__</code> is surrounded by <code>date()</code> in the calculation.</p>"},{"location":"pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html#display-a-calculate-question","title":"Display a calculate question","text":"<p>In the UI, sometimes we want to display the value of a <code>calculate</code> question. In that case, a new <code>calculate</code> question with the prefix <code>_display_</code> can be added.</p>"},{"location":"pages/dev/how_to/create_mobile_reports/create_mobile_reports.html","title":"Requirements","text":"<p>Make sure to have an entity workflow and forms avalaible in Iaso.</p> <p>You can find the documentation for that in the sections Create forms for entities and Create an entity workflow.</p>"},{"location":"pages/dev/how_to/create_mobile_reports/create_mobile_reports.html#how-to-run-coda-mobile-report-locally","title":"How to run coda mobile report locally","text":"<p>The current report is based on nutrition programs with beneficiaries split into 2 entity types: - Childen Under 5 - Pregnant and breastfeeding woman </p>"},{"location":"pages/dev/how_to/create_mobile_reports/create_mobile_reports.html#1-get-the-code-and-install-the-dependencies","title":"1. Get the code and install the dependencies","text":"<pre><code>git clone git@github.com:BLSQ/mobile-coda-report.git\ncd mobile-coda-report\nyarn install\n</code></pre>"},{"location":"pages/dev/how_to/create_mobile_reports/create_mobile_reports.html#2-start-the-local-node-server","title":"2. Start the local node server","text":"<pre><code>yarn start\n</code></pre>"},{"location":"pages/dev/how_to/create_mobile_reports/create_mobile_reports.html#3-getting-json-sample-data-for-development","title":"3. Getting json sample data for development","text":"<p>It requires to have the CODA mobile app debug version installed on your device. The debugging version allows to get sample data.</p>"},{"location":"pages/dev/how_to/create_mobile_reports/create_mobile_reports.html#connect-the-device-to-your-computer-and-run-scrcpy-command-from-the-terminal","title":"Connect the device to your computer and run <code>scrcpy</code> command from the terminal","text":"<p>You can download <code>scrcpy</code> from their GitHub page: [https://github.com/Genymobile/scrcpy].</p> <p>Then run it:</p> <p>Either run  <code>scrcpy</code> or <code>scrcpy -s &lt;device id&gt;</code> (E.g.: <code>scrcpy -s R58MA48E00H</code>, the device id changes from one device to another)</p> <p>Open the CODA mobile app on the device, then click the <code>See reports</code> link at the bottom left of your screen to access the mobile report.</p> <p></p> <p>In your Chrome browser, enter the following URL: <code>chrome://inspect/</code>, then inspect link:</p> <p></p> <p>You should see the same report page as you get on your mobile device</p> <p>In the browser console, tape: - <code>Android.loadForms()</code>, copy the content and paste it in the  <code>/src/fake/FakeData.ts</code> as <code>FAKE_DATA</code> const content. </p> <ul> <li><code>Android.currentOrgUnit()</code> copy and paste it in <code>/src/fake/FakeLocalHealthFacility.ts</code> as <code>FAKE_LOCAL_HF</code> const content. This allow to get data only collected within the org unit level.</li> </ul> <p>Note that getting the data from browser console is possible only for debug version!</p>"},{"location":"pages/dev/how_to/create_mobile_reports/create_mobile_reports.html#4-exploring-the-code","title":"4. Exploring the code","text":"<p>Open the cloned folder with an editor like vscode. You will get the following structure:</p> <p></p>"},{"location":"pages/dev/how_to/create_mobile_reports/create_mobile_reports.html#5-how-to-debug","title":"5. How to debug","text":"<p>From the code editor, open the file <code>/src/Android.tsx</code> and check if the sample data are imported in the header like:</p> <pre><code>import FAKE_DATA from './fake/FakeData';\nimport FAKE_LOCAL_HF from './fake/FakeLocalHealthFacility';\n</code></pre> <p>Within <code>LoadForms()</code> function, comment the existing const:</p> <p><code>const formsToLoad</code> and <code>const localHealthFacility</code> </p> <p>Then add:</p> <pre><code>const formsToLoad = JSON.parse(FAKE_DATA);\nconst localHealthFacility = JSON.parse(FAKE_LOCAL_HF);\n</code></pre> <p>This is for reading sample(fake) data from your local env.</p> <p>Then from your browser go to http://127.0.0.1:3000/ or http://localhost:3000</p> <p>The app reports 2 types of beneficiaries : - Childen Under 5 - Pregnant and breastfeeding woman</p> <p>To allow you to navigate back inside the report from within your browser, you need to make the back button visible. In your code editor of choice, open <code>/src/App.tsx</code>, under line 82, replace \"hidden\" with \"visible\".</p> <p>Each sub report is splitted into: - Main - Medical - Followup category - eRegister</p> <p></p>"},{"location":"pages/dev/how_to/create_mobile_reports/create_mobile_reports.html#6-how-to-deploy-a-new-report","title":"6. How to deploy a new report","text":"<p>The report is deployed on Iaso via the web interface.</p>"},{"location":"pages/dev/how_to/create_mobile_reports/create_mobile_reports.html#1-prepare-the-report-zip-file-to-deploy","title":"1. Prepare the report zip file to deploy","text":"<p>*/!\\ Make sure you have removed the FAKE DATA and made back the back button hidden in <code>/src/App.tsx</code> before you create a zip /!*</p> <pre><code>yarn run build\ncd build/static/css\n</code></pre> <p>Cut all content of <code>css</code> folder</p> <pre><code>cd ../\n</code></pre> <p>Paste in the build folder</p> <pre><code>cd ../js\n</code></pre> <p>Cut all content of <code>js</code> folder</p> <pre><code>cd ../\n</code></pre> <p>Paste in the build folder as well</p> <p>Open the <code>index.html</code> file with your code editor, make sure to have HTML plugin formatter activated then format the content file</p> <p>In header tag, on:  - line 8, with <code>&lt;script&gt;&lt;/script&gt;</code> tag, on the <code>src</code> attribute, remove the path <code>/static/js/</code>. Just keep the main css file name. - line 9, with <code>&lt;link&gt;</code> tag  attribute, remove the path <code>/static/css/</code>.</p> <p>In order to reference the right path, then remove css and js folder as they are empty.</p> <p>Inside the <code>build/static</code> folder, create the zip file with the whole content by selecting all files then zip. Provide a name for the zip and let the process finish completely.</p>"},{"location":"pages/dev/how_to/create_mobile_reports/create_mobile_reports.html#2-upload-the-zip-file","title":"2. Upload the zip file","text":"<p>Login with a super user account (with admin access) to Django admin interface: `/admin``:</p> <ul> <li>Go to <code>/admin</code></li> <li>Open the <code>Report versions</code> menu</li> <li>Click on <code>ADD REPORT VERSION</code></li> <li>Fill the Name, Status(make sure to select Published) and upload the zip file</li> <li>Save</li> </ul> <p>Then:</p> <ul> <li>Open the <code>Report</code> menu</li> <li>Click on <code>ADD REPORT</code></li> <li>Fill the Name, select the right version(created previously) and Project</li> <li>Save</li> </ul>"},{"location":"pages/dev/how_to/create_mobile_reports/create_mobile_reports.html#3-view-report-from-mobile-app","title":"3. View report from mobile app","text":"<p>Open the CODA mobile and Refresh data then Refresh Beneficiaries to download the latest report version.</p> <p>After refreshing data, your new mobile report is accessible from the bottom left link <code>See reports</code>.</p> <p></p>"},{"location":"pages/dev/how_to/create_registry_in_web_ui/create_registry_in_web_ui.html","title":"How to create registry in web interface","text":"<p>Use case: develop or test registry related features in the web interface</p>"},{"location":"pages/dev/how_to/create_registry_in_web_ui/create_registry_in_web_ui.html#1-get-some-submission","title":"1. Get some Submission","text":"<p>Select a submission you are going to use has <code>reference_instance</code> in an org unit.</p>"},{"location":"pages/dev/how_to/create_registry_in_web_ui/create_registry_in_web_ui.html#2-get-some-org-unit","title":"2. Get some Org unit","text":"<p>We will use one organization unit and link a reference submission to it. Make sure you choose a org unit having children and that they are all validated. Make also sure that the type of this org unit has sub org unit types, and that those sub types are those used by the children org units. This org unit should have a shape and be visible by the account you are using. Children should also be visible, location (point or shape) is not mandatory.</p>"},{"location":"pages/dev/how_to/create_registry_in_web_ui/create_registry_in_web_ui.html#3-add-reference-instance-to-org-unit","title":"3. Add reference instance to org unit","text":"<ul> <li>Go to `/admin``</li> <li>Open the <code>Org units</code> menu entry</li> <li>Edit the org unit we choosed at step 2</li> <li>copy the id of the submission we choosed at step 1 in <code>Reference instance</code> field</li> <li>save</li> </ul>"},{"location":"pages/dev/how_to/create_registry_in_web_ui/create_registry_in_web_ui.html#4-optionnal-create-submissions-for-children","title":"4. Optionnal: create submissions for children","text":"<ul> <li>Go to Forms &gt; Submissions</li> <li>Using the filters, search for a form, doesn't need to be a specific one</li> <li>For each children of the main org unit, create a submission</li> </ul> <p>Note: To be able to create submissions, Enketo needs to be running. This can be done with the following command: <code>docker compose -f docker-compose.yml -f docker/docker-compose-enketo.yml up</code></p>"},{"location":"pages/dev/how_to/create_registry_in_web_ui/create_registry_in_web_ui.html#5-test-registry-page","title":"5. Test registry page","text":"<ul> <li>Go to Org units &gt; Registry</li> <li>Search for the main org unit we choosed in step 2</li> <li>Click on <code>View registry</code></li> <li>You should see the registry page, showing a map of the org unit with the children, the reference instance on the right</li> <li>If you click on list tab, you should see the list of children org units, including those without a location</li> <li>if you completed step 4, you can select the form you used in this step in the dropdown and check that those submissions are present at the bottom of the page</li> <li>You can find an example of registry here on staging. Credentials are in 1Password, look for <code>registry-demo</code></li> </ul>"},{"location":"pages/dev/how_to/debug_backend/debug_backend.html","title":"Debugging the Backend","text":""},{"location":"pages/dev/how_to/debug_backend/debug_backend.html#django-debug-toolbar","title":"Django Debug Toolbar","text":"<p>You can activate the Django Debug Toolbar.</p> <p>To do so, create a <code>hat/local_settings.py</code> files and configure the toolbar.</p> <p>E.g.:</p> <pre><code>from .settings import *  # noqa\n\nfrom debug_toolbar.middleware import show_toolbar\n\n\nINSTALLED_APPS += [\"debug_toolbar\"]\n\nMIDDLEWARE += [\"debug_toolbar.middleware.DebugToolbarMiddleware\"]\n\n\ndef custom_show_toolbar(request):\n    included_urls = [\"/__debug__\", \"/admin\", \"/api\"]\n    included = any(request.path.startswith(url) for url in included_urls)\n    return show_toolbar(request) and included\n\n\nDEBUG_TOOLBAR_CONFIG = {\n    \"DISABLE_PANELS\": [\n        \"debug_toolbar.panels.redirects.RedirectsPanel\",\n        # ProfilingPanel makes the django admin extremely slow.\n        \"debug_toolbar.panels.profiling.ProfilingPanel\",\n    ],\n    \"SHOW_TEMPLATE_CONTEXT\": True,\n    \"SHOW_TOOLBAR_CALLBACK\": custom_show_toolbar,\n}\n</code></pre>"},{"location":"pages/dev/how_to/deploy/deploy.html","title":"Deploy","text":""},{"location":"pages/dev/how_to/deploy/deploy.html#0-make-sure-everything-is-there","title":"0. Make sure everything is there","text":"<ul> <li>run the tests</li> <li>check with team mates</li> </ul> <p>For IASO deployment make sure you ran eb init with following info</p> <pre><code>eb init\nSelect a default region\n5) eu-central-1 : EU (Frankfurt)\nSelect an application to use\n4) Iaso\nDo you wish to continue with CodeCommit? (y/N) (default is n): n\n</code></pre>"},{"location":"pages/dev/how_to/deploy/deploy.html#1-prepare-assets","title":"1. Prepare assets","text":"<p>To avoid long/failing deployment, we commit the production assets in the repository</p> <pre><code>git checkout development\ngit pull\nrm hat/assets/webpack/*\nnpm run webpack-prod\ngit add hat/assets/webpack/\ngit commit -m 'Committing assets'\ngit push\n</code></pre> <p>Troubleshooting :</p> <ul> <li>npm install : might be needed</li> </ul>"},{"location":"pages/dev/how_to/deploy/deploy.html#2-deploy-to-staging","title":"2. Deploy to staging","text":"<p>Make sure you have eb installed and run eb init</p> <p>Then you deploy the <code>development</code> branch to staging</p> <pre><code>eb use Iaso-staging\neb deploy\n</code></pre> <p>eb deploy will take of (via container commands see ./.ebextensions/50_container_commands.config)</p> <ul> <li>deploying</li> <li>copying the resources and putting them in S3</li> <li>running the pending migrations</li> </ul> <p>Troubleshooting :</p> <ul> <li>you might need to dig in the eb activity logs</li> </ul>"},{"location":"pages/dev/how_to/deploy/deploy.html#3-deploy-to-production","title":"3. Deploy to production","text":"<p>Technically : we should merge development in master, and deploy master in production but for the momenent use \"just deploy\" to developement to prod</p> <pre><code>eb use Iaso-env\neb deploy\n</code></pre> <p>Check the production</p> <p>Troubleshooting :</p> <ul> <li>you might need to dig in the eb activity logs</li> </ul>"},{"location":"pages/dev/how_to/deploy/deploy.html#4-deploy-to-playground","title":"4. Deploy to playground","text":"<p>For the Playground, deploy as for staging and prod for the web server, but you also need to update the jupyter server (using the pem file you can find on 1password)</p> <p>Note jupyter is currently using the development branch too.</p> <pre><code>ssh -i ~/.ssh/lightsail.pem ubuntu@18.196.197.98\ncd iaso\ngit pull\nsource bin/activate\npip install -r requirements.txt\nkillall python\nnohup ./run.sh &amp;\n</code></pre> <p>Obviously, a more stable playground setup would be welcome.</p> <p>Troubleshooting :</p> <ul> <li>UNPROTECTED PRIVATE KEY FILE! : <code>chmod 600 ~/.ssh/lightsail.pem</code></li> </ul>"},{"location":"pages/dev/how_to/embed_superset/embed_superset.html","title":"Embed superset","text":""},{"location":"pages/dev/how_to/embed_superset/embed_superset.html#superset-dashboard-integration","title":"Superset Dashboard Integration","text":"<p>Iaso supports embedding Superset dashboards for advanced analytics and reporting. To configure this integration, you need to set up the following environment variables:</p> <pre><code>SUPERSET_URL=\"https://your-superset-instance.com\"\nSUPERSET_ADMIN_USERNAME=\"admin_username\"\nSUPERSET_ADMIN_PASSWORD=\"admin_password\"\n</code></pre> <p>These credentials must be for an admin user of your Superset instance, as they are used by <code>iaso/api/superset.py</code> to create guest tokens for dashboard embedding.</p>"},{"location":"pages/dev/how_to/embed_superset/embed_superset.html#creating-embedded-superset-pages","title":"Creating Embedded Superset Pages","text":"<p>Once the environment variables are configured, you can create embedded Superset dashboards through the Django admin interface (for the moment, setting it up via the <code>/dashboard/pages</code> is not fully supported yet):</p> <ol> <li>Go to <code>/admin/iaso/page/</code> in your Iaso instance</li> <li>Create a new Page with:<ul> <li>Type: \"Superset dashboard\"</li> <li>Superset dashboard ID: The ID of the dashboard in your Superset instance</li> <li>Superset dashboard UI config: Optional JSON configuration for UI customization (you can find examples in the embedded SDK documentation)</li> <li>Slug: A unique URL slug for accessing the embedded dashboard</li> </ul> </li> </ol> <p>The embedded dashboard will be accessible at <code>/pages/{your-slug}/</code> and will use guest token authentication for secure access.</p>"},{"location":"pages/dev/how_to/exclude_featureflag_related_module/exclude_featureflag_related_module.html","title":"How to exclude a featureflag related to a module","text":""},{"location":"pages/dev/how_to/exclude_featureflag_related_module/exclude_featureflag_related_module.html#1-add-a-new-module-for-which-to-exclude-its-related-feature-flag","title":"1. Add a new module for which to exclude its related feature flag","text":"<ul> <li>Go to <code>/hat/menupermissions/constants.py</code></li> <li>Add to the dictionnary <code>FEATUREFLAGES_TO_EXCLUDE</code> a new item</li> <li>The key is the name of the module like <code>DATA_COLLECTION_FORMS</code> in capitale letter</li> <li>The value is a list of featureflags(code in capitale letter) to be excluded like <code>[\"FEATUREFLAG_1\",\"FEATUREFLAG_2\"]</code></li> <li>The whole <code>FEATUREFLAGES_TO_EXCLUDE</code> should be like <code>FEATUREFLAGES_TO_EXCLUDE = { \"MODULE_1\": [\"FEATUREFLAG_1\"], \"MODULE_2\": [\"FEATUREFLAG_2\", \"FEATUREFLAG_3\"],}</code></li> </ul>"},{"location":"pages/dev/how_to/exclude_featureflag_related_module/exclude_featureflag_related_module.html#2-add-a-feature-flag-to-an-existing-module-to-be-excluded","title":"2. Add a feature flag to an existing module to be excluded","text":"<ul> <li>Go to <code>/hat/menupermissions/constants.py</code></li> <li>Check the key corresponding to the module</li> <li>Add the featureflag code to the value list of the corresponding module(key)</li> </ul>"},{"location":"pages/dev/how_to/iaso_special_question_names/iaso_special_question_names.html","title":"IASO special question names","text":"<p>On top of providing a way to receive the profile's value in follow-up forms (See Create forms for entities),  IASO has a few question names that are filled-in automatically.</p> <p>The following are special question names.</p> Question name Information current_ou_id The OrgUnit ID for which this form has been opened current_ou_name The OrgUnit name for which this form has been opened current_ou_type_id The OrgUnit's Type ID for which this form has been opened current_ou_type_name The OrgUnit's Type name for which this form has been opened current_ou_is_root Whether the OrgUnit which this form has been opened is root parentX_ou_id The OrgUnit's Xth parent's ID for which this form has been opened parentX_ou_name The OrgUnit's Xth parent's name for which this form has been opened parentX_ou_type_id The OrgUnit's Xth parent's Type ID for which this form has been opened parentXou_type_name The OrgUnit's Xth parent's Type name for which this form has been opened parentX_ou_is_root Whether the OrgUnit's Xth parent which this form has been opened is root <p>Note: In <code>parent**X**_</code> value, <code>X</code> is replaced by a number (1, 2, 3, etc.) going up to the root parent.</p>"},{"location":"pages/dev/how_to/iaso_special_question_names/iaso_special_question_names.html#example","title":"Example","text":"type name label calculation calculate current_ou_id Current OrgUnit ID \"\" calculate parent3_ou_is_root Is third parent root? 0"},{"location":"pages/dev/how_to/iaso_specific_intents/iaso_specific_intents.html","title":"IASO specific intents","text":"<p>In ODK Forms,  it is possible to launch external apps/tools to populate questions. IASO has a few built-in tools you can use in order to retrieve IASO related information.</p>"},{"location":"pages/dev/how_to/iaso_specific_intents/iaso_specific_intents.html#application-specific-actions","title":"Application specific actions","text":"<p>Because two or more IASO variant applications can be installed at the same time on the same device, IASO uses an application specific prefix for its actions. Here is the list of prefixes per application.</p> Prefix Application iaso IASO (demo) canevas CIV Vignette canevas Canevas Annuel malifbr FBR - Sant\u00e9 au Mali iaso Registre Sant\u00e9 coda2 CODA2 (SSD) coda2nigeria CODA2 (Nigeria) fboburundi FBP Burundi ihpssc Sites de soins communautaires nigerpbf Fonds d'achat Niger ugandarbf Uganda RBF fbpciv FBP C\u00f4te d'Ivoire camerooncollect Cameroon Collect nigerhfr Carte Sanitaire Niger cameroonrbf PBF Cameroun trypelim Trypelim projectpathways.collect Pathways"},{"location":"pages/dev/how_to/iaso_specific_intents/iaso_specific_intents.html#pick-an-orgunit","title":"Pick an OrgUnit","text":"<p>It is fairly common for ODK forms within IASO to want to select an OrgUnit.  You need to use the following action in <code>body::intent</code>: <code>&lt;prefix&gt;.action.pick_ou(&lt;options&gt;)</code></p> <p>The following options are available:</p> <ul> <li><code>map=''</code>: How to map the returned value to a question. Possible returned values are:</li> <li>id</li> <li>name </li> <li>parentId </li> <li>accuracy </li> <li>latitude </li> <li>longitude </li> <li>orgUnitTypeId </li> <li>path</li> <li><code>limit_root='true'</code>: Whether you want to limit to the user's given root (optional, default: <code>false</code>))</li> <li><code>ou_type='Entity Type name'</code>: The Entity Type name you want to select (optional)</li> <li><code>filter_out_ou_types='Entity Type1,EntityType2'</code>: The Entity Types you want to hide from the list (optional) </li> <li><code>allow_ou_creation='true'</code>: Whether you want to allow creating a new OrgUnit while picking one (optional, default: <code>false</code>)</li> <li><code>disable_ou_creation_location='true'</code>: Whether you want to disable taking the location when creating an OrgUnit. Applies only if not in registry mode (optional, default: <code>false</code>)</li> </ul>"},{"location":"pages/dev/how_to/iaso_specific_intents/iaso_specific_intents.html#example","title":"Example","text":"type name label appearance body::intent begin_group facility_sc SC field-list iaso.action.pick_ou(map='id:facility_sc_id;name:facility_sc_name',ou_type='Hospital') note facility_sc_note Press \"Start\" to choose the facility text facility_sc_name Name of the SC: text facility_sc_id SC identifier end group"},{"location":"pages/dev/how_to/iaso_specific_intents/iaso_specific_intents.html#pick-an-entity","title":"Pick an Entity","text":"<p>The best way to link entities between them at the moment is to pick an entity in a form and keep a link to its ID. <code>&lt;prefix&gt;.action.pick_entity(&lt;options&gt;)</code></p> <p>The following options are available: - <code>map=''</code>: How to map the returned value to a question. Possible returned values are:   - id   - name   - entityTypeId   - EntityTypeName - <code>entity_type='Entity Type name'</code>: The Entity Type name you want to select (optional) - <code>org_unit_id='OU_ID'</code>: The OrgUnit ID you want to limit your selection to (optional)</p>"},{"location":"pages/dev/how_to/iaso_specific_intents/iaso_specific_intents.html#example_1","title":"Example","text":"type name label appearance body::intent begin_group entity_group Entity field-list iaso.action.pick_entity(map='id:entity_id;name:entity_name',org_unit_id='${current_ou_id}', entity_type='Mother') note entity_note Press \"Start\" to choose the mother text entity_name Name: text entity_id Entity identifier end group"},{"location":"pages/dev/how_to/manually_test_enketo/manually_test_enketo.html","title":"Manually test Enketo public_create_url","text":"<p>Ensure you have a usable project, form (with form version etc..) and an orgunit in iaso. And Enketo is working. You should be able to make a submission from the web interface. Do it to verify everything</p> <p>Edit the Project in Django admin. And copy the external token It's automatically generated, so you should always have one</p> <p><code>token='xxxxxxxxx-xxxx-xxxxx-xxxxx-xxxxxxxxx'</code></p> <p>Still in the admin, take the form_id on the Form (caution: this is an external id, a string, different from the form.id) You should have one if you uploaded a correct FormVersion</p> <p><code>form_id= 'FORM_ID'</code></p> <p>On the OrgUnit take the external token: (it's in the dashboard)</p> <p><code>external_org_unit_id= \"AAAA0000000000\"</code></p> <p>Make an url with it:</p> <pre><code>f\"/api/enketo/public_create_url/?period={period}&amp;form_id={form_id}&amp;token={token}&amp;external_org_unit_id={external_org_unit_id}\"\n=&gt; '/api/enketo/public_create_url/?period=202301&amp;form_id=FORM_ID&amp;token=xxxxxxxxx-xxxx-xxxxx-xxxxx-xxxxxxxxx&amp;external_org_unit_id=AAAA0000000000'\n</code></pre> <p>Iaso will return a json with a URL, open it. Fill the form.</p> <p>To test the export, add the to_export=true argument. You will need FormMapping and a DHIS2 configuration to test the full export</p>"},{"location":"pages/dev/how_to/rebuild_front/rebuild_front.html","title":"Rebuilding the Frontend","text":""},{"location":"pages/dev/how_to/rebuild_front/rebuild_front.html#docker","title":"Docker","text":""},{"location":"pages/dev/how_to/rebuild_front/rebuild_front.html#removing-existing-docker-images","title":"Removing Existing Docker Images:","text":"<pre><code>docker rmi -f iaso-webpack:latest\n</code></pre>"},{"location":"pages/dev/how_to/rebuild_front/rebuild_front.html#build-the-new-docker-image","title":"Build the new Docker image:","text":"<pre><code>docker compose build --no-cache webpack\n</code></pre>"},{"location":"pages/dev/how_to/rebuild_front/rebuild_front.html#local","title":"Local","text":""},{"location":"pages/dev/how_to/rebuild_front/rebuild_front.html#removing-node_modules","title":"Removing node_modules:","text":"<pre><code>rm -rf node_modules\n</code></pre>"},{"location":"pages/dev/how_to/rebuild_front/rebuild_front.html#clean-npm-cache","title":"Clean npm cache:","text":"<pre><code>npm cache clean --force\n</code></pre>"},{"location":"pages/dev/how_to/rebuild_front/rebuild_front.html#reinstall-npm-packages","title":"Reinstall npm packages:","text":"<pre><code>npm ci\n</code></pre>"},{"location":"pages/dev/how_to/run_docs_locally/run_docs_locally.html","title":"How to run this site locally","text":"<ul> <li>Clone the repository</li> <li>Start a virtual environment</li> <li>cd to <code>/docs/</code></li> <li>Run <code>pip install -r requirements.txt</code></li> <li>cd to the root folder of iaso</li> <li>Run <code>mkdocs serve</code></li> </ul>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html","title":"Setup a dev environment","text":"<p>A running local instance for development can be spun up via docker compose which will install and configure all deps in separate container. As such your computer should only need:</p> <ul> <li>git</li> <li>docker</li> <li>docker compose</li> </ul> <p>If docker compose give you trouble, make sure it can connect to the docker daemon.</p> <p>If you use an Apple Silicon Mac, ensure <code>export DOCKER_DEFAULT_PLATFORM=linux/amd64</code> is set.</p> <p>A <code>pgdata-iaso</code> folder, containing the database data, will be created in the parent directory of the git repository.</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#1-environment-variables","title":"1. Environment variables","text":"<p>The docker-compose.yml file contains sensible defaults for the Django application.</p> <p>Other environment variables can be provided by a .env file.</p> <p>As a starting point, you can copy the sample .env.dist file and edit it to your needs.</p> <pre><code>cp .env.dist .env\n</code></pre> <p>note: All the commands here need to be run in the project directory in which the repository was cloned</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#2-build-the-containers","title":"2. Build the containers","text":"<p>This will build and download the containers.</p> <pre><code>docker compose build\n</code></pre>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#3-start-the-database","title":"3. Start the database","text":"<pre><code>docker compose up db\n</code></pre>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#4-run-migrations","title":"4. Run migrations","text":"<pre><code>docker compose run --rm iaso manage migrate\n</code></pre> <p>If you get a message saying that the database iaso does not exist, you can connect to your postgres instance using </p> <pre><code>psql -h localhost -p 5433 -U postgres\n</code></pre> <p>then type </p> <pre><code>create database iaso; \n</code></pre> <p>to create the missing database.</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#5-start-the-server","title":"5. Start the server","text":"<p>To start all the containers (backend, frontend, db)</p> <pre><code>docker compose up\n</code></pre> <p>The web server will be reachable at <code>http://localhost:8081</code>.</p> <p>The <code>docker-compose.yml</code> file describes the setup of the containers.</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#6-create-a-superuser","title":"6. Create a superuser","text":"<p>To login to the app or the Django admin, a superuser needs to be created with:</p> <pre><code>docker compose exec iaso ./manage.py createsuperuser\n</code></pre> <p>You can now login in the admin at <code>http://localhost:8081/admin</code>.</p> <p>Then additional users with custom groups and permissions can be added through the Django admin or loaded via fixtures.</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#7-create-and-import-data","title":"7. Create and import data","text":"<p>To create the initial account, project and profile, do the following:</p> <pre><code>docker compose exec iaso ./manage.py create_and_import_data\n</code></pre> <p>You can now login on <code>http://localhost:8081</code> but still need to import your own data.</p> <p>An alternative to this and the following steps is to import data from DHIS2.</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#8-create-a-form","title":"8. Create a form","text":"<p>Run the following command to create a form:</p> <pre><code>docker compose exec iaso ./manage.py create_form\n</code></pre> <p>At this point, if you want to edit forms directly on your machine using Enketo, go to the Enketo setup section of this README (down below).</p> <p>Once you are done, you can click on the eye for your newly added form, click on \"+ Create\", tap a letter, then enter, select the org unit, then click \"Create submission\".</p> <p>If Enketo is running and well setup, you can fill the form now.</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#9-start-adding-features","title":"9. Start adding features","text":"<p>You can now start to develop additional features on Iaso!</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#10-import-orgunit-forms-and-submission-from-dhis2","title":"10. Import OrgUnit, Forms and Submission from DHIS2","text":"<p>Alternatively or in addition to steps 7-8, you can import data from the DHIS2 demo server (play.dhis2.org):</p> <pre><code>docker compose run --rm iaso manage seed_test_data --mode=seed --dhis2version=2.35.3\n</code></pre> <p>The hierarchy of OrgUnit, group of OrgUnit, Forms, and their Submissions will be imported. OrgUnit types are not handled at the moment</p> <p>Log in to  http://127.0.0.1:8081/dashboard with :</p> <ul> <li>user : testemail2.35.3</li> <li>password: testemail2.35.3</li> </ul>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#11-enketo","title":"11. Enketo","text":"<p>To submit and edit existing form submission from the browser, an Enketo service is needed. </p> <p>To enable the Enketo editor in your local environment, include the additional docker compose configuration file for Enketo. Do so by invoking docker compose with both files.</p> <pre><code>docker compose -f docker-compose.yml -f docker/docker-compose-enketo.yml up\n</code></pre> <p>No additional configuration is needed. The first time the docker image is launched, it will download dependencies and do a build witch may take a few minutes. Subsequents launches are faster.</p> <p>You can check that the server is correctly launched by going to http://localhost:8005</p> <p>To seed your DB with typical example forms editable by Enketo, see import data from DHIS2</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#12-database-dump","title":"12. Database dump","text":"<p>To create a copy of your iaso database in a file (dump) you can use:</p> <pre><code>docker compose exec db pg_dump -U postgres iaso  -Fc &gt; iaso.dump\n</code></pre> <p>The dumpfile will be created on your host. The <code>-Fc</code> meant it will use an optimised Postgres format (which take less place). If you want the plain sql command use <code>-Fp</code></p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#13-restore-database-from-dump","title":"13. Restore database from dump","text":"<ol> <li>Ensure the database server is running but not the rest. Close your docker compose, ensure it is down with <code>docker compose down</code></li> <li>Launch the database server with <code>docker compose up db</code> </li> <li>Choose a name for you database. In this example  it will be <code>iaso5</code>    You can list existing databases using <code>docker compose exec db psql -U postgres -l</code></li> <li>Create the database <code>docker compose exec db psql -U postgres -c \"create database iaso5\"</code></li> <li>Restore the dump file to put the data in your database</li> </ol> <pre><code>cat iaso.dump | docker compose exec -T db pg_restore -U postgres -d iaso5 -Fc --no-owner /dev/stdin\n</code></pre> <ol> <li>Edit your <code>.env</code> file to use to this database in the <code>RDS_DB_NAME</code> settings.</li> <li>Start Iaso. Cut your docker compose (see 0) and relaunch it fully. Warning: Modification in your .env file are not taken into account unless you entirely stop your docker compose</li> </ol>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#14-health","title":"14. Health","text":"<p>On the /health/ url you can find listed the Iaso version number, environment, deployment time, etc... that might help you understand how this server instance is deployed for debugging. e.g.  https://iaso.bluesquare.org/health/</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#15-set-up-a-local-dhis2-server","title":"15. Set up a local DHIS2 server","text":"<p>Experimental. For development if you need a local dhis2 server, you can spin up one in your docker compose by using the <code>docker/docker-compose-dhis2.yml</code> configuration file.</p> <p>Replace your invocations of <code>docker compose</code> by <code>docker compose -f docker-compose.yml -f docker/docker-compose-dhis2.yml</code> you need to specify both config files. e.g to launch the cluster:</p> <pre><code>docker compose -f docker-compose.yml -f docker/docker-compose-dhis2.yml up\n</code></pre> <p>The DHIS2 will be available on your computer on http://localhost:8080 and is reachable from Iaso as http://dhis2:8080. The login and password are admin / district. If you use it as an import source do not set a trailing /</p> <p>Database file are stored in <code>../pgdata-dhis2</code> and dhis2 log and uploaded files in <code>docker/DHIS2_home</code>.</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#16-sample-dhis2-database","title":"16. Sample dhis2 database","text":"<p>You will probably require some sample data in your instance. It is possible to populate your DHIS2 server with sample data from a database dump like it's done for the official play servers. The DHIS2 database take around 3 GB.</p> <p>The steps as are follow: Download the file, stop all the docker, remove the postgres database directory, start only the database docker, load the database dump and then restart everything.</p> <pre><code>wget https://databases.dhis2.org/sierra-leone/2.36.4/dhis2-db-sierra-leone.sql.gz\ndocker compose down\nsudo rm ../pgdata-dhis2 -r\ndocker compose up db_dhis2\nzcat dhis2-db-sierra-leone.sql.gz| docker compose exec -T db_dhis2 psql -U dhis dhis2 -f /dev/stdin\ndocker compose up\ncd Projects/blsq/iaso\ndocker compose up dhis2 db_dhis2\n</code></pre>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#17-set-up-single-sign-on-sso-with-a-local-dhis2","title":"17. Set up Single Sign On (SSO) with a local DHIS2","text":"<p>If you want to test the feature with your local dhis2 you can use the following step. This assume you are running everything in Docker containers</p> <ol> <li>Launch DHIS2 with iaso within docker compose <code>docker compose -f docker-compose.yml -f docker/docker-compose-dhis2.yml up</code>  With the default docker compose setup, iaso is on port 8081 and dhis2 on port 8081 on your machine</li> <li>These step assume you have loaded your DHIS2 with the play test data but it's not mandatory. To see how to do it, look at previous section</li> <li>Configure an Oauth client in DHIS2: open http://localhost:8080/dhis-web-settings/index.html#/oauth2</li> <li>Add new client:</li> <li>Name : what you want</li> <li>ClientId: What you want (must be the same as your external credential in Iaso)</li> <li>Client Secret : there is one generated, copy it and save it for a latter step</li> <li>Grant Type: check Authorization code</li> <li> <p>Redirect URI : http://localhost:8081/api/dhis2/{same as client id}/login/</p> </li> <li> <p>Setup external credential in iaso</p> </li> <li>open admin http://localhost:8081/admin/</li> <li>go to External Credentials | http://localhost:8081/admin/iaso/externalcredentials/</li> <li>Add external credentials on the top right | http://localhost:8081/admin/iaso/externalcredentials/add/</li> <li>Account: The account for which you want to enable dhis2 auth</li> <li>Name : Same as DHIS2 Client ID</li> <li>Login : http://dhis2:8080/</li> <li>Password: the client secret you saved in step 2</li> <li>Url: http://localhost:8081/</li> </ol> <p>5 Create a new user in Iaso, grant it some rights</p> <ol> <li> <p>In DHIS2 retrieve the id for the user</p> <ul> <li>Current way I have found it is to go to http://localhost:8080/api/me and copy the id field</li> <li>But you can also find a user here and it's in the url http://localhost:8080/dhis-web-user/index.html#/users</li> </ul> </li> <li> <p>Add the dhis2 id to the Iaso user : Open the target user in the iaso Admin http://localhost:8081/admin/iaso/profile/ and add it to the dhis2 id field, save.</p> </li> <li> <p>Unlog from iaso or in a separate session/container</p> </li> <li>Try the feature by opening : http://localhost:8080/uaa/oauth/authorize?client_id={your_dhis2_client_id}&amp;response_type=code</li> </ol>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#18-test-forms-from-iaso-mobile-application","title":"18. Test forms from Iaso mobile application","text":""},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#1-setup-ngrok","title":"1 - Setup Ngrok","text":"<p>Download and setup Ngrok on https://ngrok.com/. Once Ngrok installed and running you must add your ngrok server url in <code>settings.py</code> by adding the following line :</p> <pre><code>FILE_SERVER_URL = os.environ.get(\"FILE_SERVER_URL\", \"YOUR_NGROK_SERVER_URL\")\n</code></pre> <p>After this step you have to import  <code>settings.py</code> and add <code>FILE_SERVER_URL</code> to <code>forms.py</code> in iaso/models/forms as shown on the following lines :</p> <pre><code>\"file\": settings.FILE_SERVER_URL + self.file.url,\n\"xls_file\": settings.FILE_SERVER_URL + self.xls_file.url if self.xls_file else None\n</code></pre>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#2-setup-the-mobile-app","title":"2 - Setup the mobile app","text":"<p>Once Ngrok installed and running you have to run the app in developer mode (tap 10 times on the Iaso icon at start ) and connect the mobile app to your server by selecting the 3 dots in the top right corner and select \"change server url\". When connected to your server, refresh all data and your app will be ready and connected to your development server.</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#19-sso-with-dhis2","title":"19. SSO with DHIS2","text":"<p>You can use DHIS2 as identity provider to login on Iaso. It requires a little configuration on DHIS2 and Iaso in order to achieve that. </p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#1-setup-oauth2-clients-in-dhis2","title":"1 - Setup OAuth2 clients in DHIS2","text":"<p>In DHIS2 settings you must setup your Iaso instance as Oauth2 Clients. Client ID and Grant types must be : * Client ID : What you want (Must be the same as your external credential name in Iaso) * Grant Types : Authorization code</p> <p>Redirect URIs is your iaso server followed by : <code>/api/dhis2/{your_dhis2_client_id}/login/</code></p> <p>For example : https://myiaso.com/api/dhis2/dhis2_client_id/login/</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#2-configure-the-oauth2-connection-in-iaso","title":"2 - Configure the OAuth2 connection in Iaso","text":"<p>In iaso you must setup your dhis2 server credentials.  To do so, go to <code>/admin</code> and setup as follow :  </p> <ul> <li>Name: {your_dhis2_client_id} ( It must be exactly as it is in your DHIS2 client_id and DHIS2 Redirect URIs)</li> <li>Login: Your DHIS2 url (Ex : https://sandbox.dhis2.org/ )</li> <li>Password: The secret provided by DHIS2 when you created your OAuth2 client.</li> <li>Url: Your Iaso Url (Ex: https://myiaso.com/)</li> </ul> <p>Don't forget the <code>/</code> at the end of the urls.</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#3-workflow-for-single-sign-on-as-a-sequence-diagram","title":"3. Workflow for Single Sign On as a sequence diagram","text":"<pre><code>sequenceDiagram\n    autonumber\n    Note right of Browser: user open url to login\n    Browser-&gt;&gt;DHIS2: GET /uaa/oauth/authorize&lt;br&gt;?client_id={your_dhis2_client_id}\n    loop if not logged\n        DHIS2-&gt;&gt;Browser: Login screen\n        Browser-&gt;&gt;DHIS2: Enter credentials\n        DHIS2-&gt;&gt;Browser: Login ok\n    end\n    DHIS2 --&gt;&gt; Browser: 200 Authorize Iaso? Authorize/Deny\n    Browser -&gt;&gt; DHIS2: POST /authorize\n    DHIS2 --&gt;&gt; Browser: 303  redirect\n    Browser -&gt;&gt; IASO: GET /api/dhis2/&lt;dhis2_slug&gt;/login/?code=\n    IASO -&gt;&gt; DHIS2: POST /uaa/oauth/token/\n    DHIS2 --&gt;&gt; IASO: access token\n    IASO -&gt;&gt; DHIS2 : GET /api/me\n    DHIS2 --&gt;&gt; IASO: credential info\n    Note right of IASO: find matching IASO user\n    Note right of IASO: Log in session\n    IASO --&gt;&gt; Browser: 303 Redirect &amp; set cookies\n    Browser -&gt;&gt; IASO: Use iaso normally as logged user.\n</code></pre>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#20live-bluesquare-components","title":"20.Live Bluesquare components","text":"<p>It is possible to configure the project to load a version of Bluesquare components from a local git repository instead of the one installed from a package. This enabled to develop feature necessitating modification in the components code.</p> <p>To do so:  * place the repository in the parent repository of Iaso <code>../bluesquare-components/</code>  * install the dependency for bluesquare-component by running npm install in its directory  * set the environment variable <code>LIVE_COMPONENTS=true</code>  * start your docker compose</p> <pre><code>cd ..\ngit clone git@github.com:BLSQ/bluesquare-components.git\ncd  bluesquare-components\nnpm install\ncd ../iaso\nLIVE_COMPONENTS=true docker compose up\n</code></pre> <p>This way the page will reload automatically if you make a change to the bluesquare-components code.</p> <p>This functionality also works if you launch webpack outside of docker.</p> <p>If you encounter any problem, first check that your repo is on the correct branch and the deps are up-to-date</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#21-task-worker","title":"21. Task worker","text":"<p>In local development, you can run a worker for background tasks by using the command:</p> <pre><code>docker compose run iaso manage tasks_worker\n</code></pre> <p>Alternatively, you can call the url <code>tasks/run_all</code> which will run all the pending tasks in queue.</p>"},{"location":"pages/dev/how_to/setup_dev_env/setup_dev_env.html#22-customization","title":"22. Customization","text":"<p>You can override default application title, logo and colors using the <code>.env</code> file and specify those variables:</p> <pre><code>THEME_PRIMARY_COLOR=\"&lt;hexa_color&gt;\"\nTHEME_PRIMARY_BACKGROUND_COLOR=\"&lt;hexa_color&gt;\"\nTHEME_SECONDARY_COLOR=\"&lt;hexa_color&gt;\"\nAPP_TITLE=\"&lt;app_title&gt;\"\nFAVICON_PATH=\"&lt;path_in_static_folder&gt;\"\nLOGO_PATH=\"&lt;path_in_static_folder&gt;\"\nSHOW_NAME_WITH_LOGO=\"&lt;'yes' or 'no'&gt;\"\nHIDE_BASIC_NAV_ITEMS=\"&lt;'yes' or 'no'&gt;\"\n</code></pre> <p>Those settings are optional and are using a default value if nothing is provided</p>"},{"location":"pages/dev/how_to/setup_dev_env/setuper.html","title":"Setuper","text":""},{"location":"pages/dev/how_to/setup_dev_env/setuper.html#introduction","title":"Introduction","text":"<p>The setuper.py script:</p> <ul> <li>kickstarts a fully working Iaso environment</li> <li>by generating contents for the database</li> <li>using the Iaso API</li> </ul> <p>It will:</p> <ul> <li>generate a random account name</li> <li>create the corresponding account, data source, source version, first user </li> <li>import an org unit sample </li> <li>import a test form</li> <li>create a few submissions of this form </li> <li>create a few entities</li> </ul> <p>Once the script has run, you can log in to your server using the account name as login and password. </p>"},{"location":"pages/dev/how_to/setup_dev_env/setuper.html#how-to-use","title":"How To Use","text":"<ol> <li> <p>Backup your DB</p> <pre><code>docker compose exec db pg_dump -U postgres iaso  -Fc &gt; ~/Desktop/iaso.dump\n</code></pre> </li> <li> <p>Use an empty DB</p> <pre><code># Find your Iaso DB.\ndocker compose exec db psql -U postgres -l\n\n# Delete your Iaso DB.\ndocker compose exec db psql -U postgres -c \"drop database if exists iaso\"\n\n# Create your Iaso DB.\ndocker compose exec db psql -U postgres -c \"create database iaso\"\n</code></pre> </li> <li> <p>Run the Django server in a first terminal (this will run DB migrations)</p> <pre><code>docker compose up iaso\n</code></pre> </li> <li> <p>Run a worker in a second terminal</p> <pre><code>docker compose run iaso manage tasks_worker\n</code></pre> </li> <li> <p>Create a superuser</p> <pre><code>docker compose exec iaso ./manage.py createsuperuser\n</code></pre> </li> <li> <p>Prepare the setuper (it requires a local Python 3)</p> <pre><code>cd setuper\n</code></pre> <ul> <li> <p>Create a virtual env for your local Python:</p> <p>python3 -m venv venv    source venv/bin/activate</p> </li> </ul> </li> <li> <p>Install requirements:</p> <pre><code>   pip install -r requirements.txt\n</code></pre> <ul> <li> <p>Update <code>credentials.py</code> because we need a user with API access (use your superuser credentials)</p> <p>cp data/sample-credentials.py credentials.py</p> </li> </ul> </li> <li> <p>Run the setuper</p> <pre><code>python3 setuper.py\n</code></pre> </li> </ol>"},{"location":"pages/dev/how_to/use_iaso_apis/use_iaso_apis.html","title":"Use iaso apis","text":"<p>It's a relatively standard json based API built using the Django Rest Framework. </p> <p>Here is a sample Python script showing how to fetch your list of submissions: </p> <pre><code>import os\nimport requests\n\n# API setup\nserver = \"https://iaso.bluesquare.org\"\ncreds = {\n    \"username\": USERNAME,\n    \"password\": PASSWORD\n}\n\ninstances_endpoint = server + \"/api/instances/\"\n\n# get API token\nr = requests.post(server + \"/api/token/\", json=creds)\n\ntoken = r.json().get('access')\nheaders = {\"Authorization\": \"Bearer %s\" % token}\n\n# request submissions data\nr = requests.get(instances_endpoint,\n                 headers=headers)\n\nj = r.json()\n</code></pre> <p>Most endpoints of Iaso provide exports to csv through the mechanisms provided by the Django Rest Framework (by adding <code>format=csv</code> to the url) and some of them provide exports to xlsx (<code>xlsx=true</code>) and geopackage (<code>gpkg=true</code>) formats.</p>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html","title":"Using Plugins in Iaso Frontend","text":"<p>Iaso uses Webpack's Module Federation to dynamically load plugins at runtime. This guide explains how the plugin system works and how to create new plugins.</p>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#overview","title":"Overview","text":"<p>The plugin system allows you to: - Add new features to Iaso without modifying the core codebase - Load plugin code dynamically at runtime - Share common dependencies between plugins and the main application - Extend the UI with new routes and menu items</p>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#how-it-works","title":"How It Works","text":""},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#plugin-discovery","title":"Plugin Discovery","text":"<p>During the build process (both development and production), Iaso:</p> <ol> <li>Scans the <code>/plugins</code> directory for valid plugin folders</li> <li>Looks for plugin configuration files (<code>config.tsx</code>)</li> <li>Generates combined configuration files</li> <li>Makes these files available through Module Federation</li> </ol>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#generated-files","title":"Generated Files","text":"<p>The system generates several files in the <code>hat/assets/js/apps/Iaso/bundle/generated/</code> directory:</p> <ul> <li><code>combinedPluginConfigs.js</code> - Combined configurations from all plugins</li> <li><code>pluginKeys.js</code> - List of available plugin identifiers</li> </ul>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#module-federation","title":"Module Federation","text":"<p>Iaso exposes these generated files through Webpack's ModuleFederationPlugin:</p> <pre><code>new ModuleFederationPlugin({\n    name: 'IasoModules',\n    filename: 'remoteEntry.js',\n    exposes: {\n        './plugins/configs': combinedConfigPath,\n        './plugins/keys': pluginKeysPath,\n    },\n    shared: {\n        // Shared dependencies between plugins and main app\n        react: { singleton: true, eager: true },\n        'react-dom': { singleton: true, eager: true },\n        'react-intl': { singleton: true, eager: true },\n        '@mui/material': { singleton: true, eager: true },\n        'bluesquare-components': { singleton: true, eager: true },\n    },\n})\n</code></pre>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#plugin-structure","title":"Plugin Structure","text":"<p>A valid plugin must follow this structure:</p> <pre><code>plugins/\n\u2514\u2500\u2500 your_plugin/\n    \u251c\u2500\u2500 js/\n    \u2502   \u251c\u2500\u2500 config.tsx       # Required: Plugin configuration\n    \u2502   \u251c\u2500\u2500 index.tsx       # Plugin entry point\n    \u2502   \u251c\u2500\u2500 components/     # Plugin components\n    \u2502   \u2514\u2500\u2500 routes/         # Plugin route components\n    \u2514\u2500\u2500 README.md          # Plugin documentation\n</code></pre>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#plugin-configuration","title":"Plugin Configuration","text":"<p>The <code>config.tsx</code> file must export a configuration object that matches the <code>Plugin</code> type defined in <code>hat/assets/js/apps/Iaso/plugins/types.ts</code>:</p> <pre><code>import { ElementType } from 'react';\nimport { Theme } from '@mui/material/styles';\nimport { MenuItem } from '../domains/app/types';\nimport {\n    RouteCustom,\n    Redirection as RoutingRedirection,\n} from '../routing/types';\n\nexport type Plugin = {\n    routes: RouteCustom[];\n    menu: MenuItem[];\n    translations: Record&lt;string, any&gt;;\n    homeUrl?: string;\n    homeOnline?: ElementType;\n    homeOffline?: ElementType;\n    key?: string;\n    baseUrls: Record&lt;string, string&gt;;\n    paramsConfig: Record&lt;string, string[]&gt;;\n    redirections?: RoutingRedirection[];\n    theme?: Theme;\n    customComponents?: {\n        key: string;\n        component: ElementType;\n    }[];\n};\n\nexport type Plugins = {\n    plugins: Plugin[];\n};\n</code></pre>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#required-properties","title":"Required Properties","text":"<ul> <li><code>routes</code>: Array of custom routes for the plugin</li> <li><code>menu</code>: Array of menu items to be added to the main navigation</li> <li><code>translations</code>: Record of translations for the plugin</li> <li><code>baseUrls</code>: Record of base URLs for the plugin</li> <li><code>paramsConfig</code>: Record of parameter configurations for the plugin</li> </ul>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#optional-properties","title":"Optional Properties","text":"<ul> <li><code>homeUrl</code>: URL for the plugin's home page</li> <li><code>homeOnline</code>: Component to display when the plugin is online</li> <li><code>homeOffline</code>: Component to display when the plugin is offline</li> <li><code>key</code>: Unique identifier for the plugin</li> <li><code>redirections</code>: Array of routing redirections</li> <li><code>theme</code>: Custom theme for the plugin</li> <li><code>customComponents</code>: Array of custom components to be registered</li> </ul>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#example-configuration","title":"Example Configuration","text":"<pre><code>// js/config.tsx\nimport React from 'react';\nimport MyPluginComponent from './components/MyPluginComponent';\nimport MyPluginHome from './components/MyPluginHome';\n\nexport default {\n    routes: [\n        {\n            path: '/my-plugin',\n            component: MyPluginComponent,\n            permissions: ['plugin_access'],\n        },\n    ],\n    menu: [\n        {\n            label: 'My Plugin',\n            icon: 'plugin',\n            path: '/my-plugin',\n            permissions: ['plugin_access'],\n            subMenu: [\n                {\n                    label: 'Sub Feature',\n                    path: '/my-plugin/sub-feature',\n                    permissions: ['sub_feature_access'],\n                },\n            ],\n        },\n    ],\n    translations: {\n        en: {\n            'myPlugin.title': 'My Plugin',\n            'myPlugin.description': 'This is my plugin',\n        },\n        fr: {\n            'myPlugin.title': 'Mon Plugin',\n            'myPlugin.description': 'C\\'est mon plugin',\n        },\n    },\n    homeUrl: '/my-plugin',\n    homeOnline: MyPluginHome,\n    key: 'my-plugin',\n    baseUrls: {\n        api: '/api/my-plugin',\n    },\n    paramsConfig: {\n        'my-plugin': ['id', 'type'],\n    },\n    redirections: [\n        {\n            from: '/old-path',\n            to: '/my-plugin',\n        },\n    ],\n    customComponents: [\n        {\n            key: 'myCustomComponent',\n            component: MyCustomComponent,\n        },\n    ],\n};\n</code></pre>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#development-vs-production","title":"Development vs Production","text":""},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#development-mode","title":"Development Mode","text":"<p>In development (<code>webpack.dev.js</code>): - Files are generated on-the-fly when changes are detected - Hot Module Replacement (HMR) is enabled for quick development - Source maps are available for debugging - Plugin changes are automatically detected and reloaded</p>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#production-mode","title":"Production Mode","text":"<p>In production (<code>webpack.prod.js</code>): - Files are generated once during the build process - Code is minified and optimized - Dead code elimination is performed - Source maps are optional (configurable)</p>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#loading-plugins-at-runtime","title":"Loading Plugins at Runtime","text":"<p>The main application: 1. Loads the plugin keys from <code>IasoModules/plugins/keys</code> 2. Loads configurations from <code>IasoModules/plugins/configs</code> 3. Registers plugin routes in the router 4. Adds plugin menu items to the navigation 5. Initializes plugin components and themes</p>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#creating-a-new-plugin","title":"Creating a New Plugin","text":"<p>Quick start guide:</p> <ol> <li> <p>Create a new directory in the plugins folder:    <code>bash    mkdir -p plugins/my-plugin/js</code></p> </li> <li> <p>Create the basic file structure:    <code>bash    cd plugins/my-plugin    touch js/config.tsx js/index.tsx README.md</code></p> </li> <li> <p>Initialize the plugin configuration:    ```typescript    // js/config.tsx    import React from 'react';    import MyPluginComponent from './components/MyPluginComponent';</p> </li> </ol> <p>export default {        routes: [            {                path: '/my-plugin',                component: MyPluginComponent,                permissions: ['plugin_access'],            },        ],        menu: [            {                label: 'My Plugin',                icon: 'plugin',                path: '/my-plugin',                permissions: ['plugin_access'],            },        ],        translations: {            en: {                'myPlugin.title': 'My Plugin',                'myPlugin.description': 'This is my plugin',            },            fr: {                'myPlugin.title': 'Mon Plugin',                'myPlugin.description': 'C\\'est mon plugin',            },        },        baseUrls: {            api: '/api/my-plugin',        },        paramsConfig: {            'my-plugin': ['id', 'type'],        },    };    ```</p> <ol> <li>Add your plugin's main component:    ```typescript    // js/index.tsx    import React from 'react';</li> </ol> <p>const MyPlugin: React.FC = () =&gt; {        return My Plugin Content;    };</p> <p>export default MyPlugin;    ```</p> <ol> <li>Document your plugin:    ```markdown    # My Plugin</li> </ol> <p>Description of what your plugin does.</p> <p>## Features    - Feature 1    - Feature 2</p> <p>## Required Permissions    - plugin_access</p> <p>## Configuration    Any specific configuration needed.    ```</p>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#translations","title":"Translations","text":"<p>The plugin system includes support for translations. For a comprehensive guide on the translation system, see Using Translations in Iaso Frontend.</p>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#plugin-specific-translation-details","title":"Plugin-Specific Translation Details","text":""},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#translation-structure-in-plugins","title":"Translation Structure in Plugins","text":"<p>A valid plugin with translations should follow this structure:</p> <pre><code>plugins/\n\u2514\u2500\u2500 your_plugin/\n    \u251c\u2500\u2500 js/\n    \u2502   \u251c\u2500\u2500 config.tsx       # Required: Plugin configuration\n    \u2502   \u251c\u2500\u2500 index.tsx       # Plugin entry point\n    \u2502   \u251c\u2500\u2500 components/     # Plugin components\n    \u2502   \u251c\u2500\u2500 routes/         # Plugin route components\n    \u2502   \u2514\u2500\u2500 src/\n    \u2502       \u2514\u2500\u2500 constants/\n    \u2502           \u2514\u2500\u2500 translations/\n    \u2502               \u251c\u2500\u2500 en.json  # English translations (required)\n    \u2502               \u251c\u2500\u2500 fr.json  # French translations (optional)\n    \u2502               \u2514\u2500\u2500 ...      # Other language translations\n    \u2514\u2500\u2500 README.md          # Plugin documentation\n</code></pre>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#adding-translations-to-a-plugin","title":"Adding Translations to a Plugin","text":"<p>To add translations to your plugin: 1. Create a <code>js/src/constants/translations</code> directory in your plugin 2. Add language files (e.g., <code>en.json</code>, <code>fr.json</code>) 3. Structure your translations as a flat object with dot-notation keys:</p> <pre><code>{\n    \"myPlugin.title\": \"My Plugin Title\",\n    \"myPlugin.description\": \"Plugin description\"\n}\n</code></pre> <ol> <li>Make sure to include at least an English translation file (<code>en.json</code>) as it will be used as a fallback for other languages</li> </ol>"},{"location":"pages/dev/how_to/use_plugins/use_plugins.html#translation-fallbacks","title":"Translation Fallbacks","text":"<p>The system uses a fallback mechanism to ensure all strings are translated: 1. If a translation is missing for a specific language, the system will use the English translation 2. If the English translation is also missing, the system will use the key itself 3. Warnings will be displayed in the console during build when fallbacks are used</p>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html","title":"Using Translations in Iaso Frontend","text":"<p>Iaso uses a centralized translation system that works across the main application, plugins, and shared components. This guide explains how the translation system works and how to add new languages.</p>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#overview","title":"Overview","text":"<p>The translation system allows you to: - Maintain translations in a centralized location - Share translations between the main app, plugins, and shared components - Add new languages without modifying the core codebase - Use translations in both development and production environments - Configure language-specific settings like date formats and number formatting</p>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#how-it-works","title":"How It Works","text":""},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#translation-discovery","title":"Translation Discovery","text":"<p>During the build process (both development and production), Iaso:</p> <ol> <li>Scans the main application for translation files</li> <li>Scans all plugins for translation files</li> <li>Scans shared components (bluesquare-components) for translation files</li> <li>Generates combined translation files</li> <li>Makes these files available through Module Federation</li> </ol>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#generated-files","title":"Generated Files","text":"<p>The system generates several files in the <code>hat/assets/js/apps/Iaso/bundle/generated/</code> directory:</p> <ul> <li><code>combinedTranslations.js</code> - Combined translations from all sources</li> <li><code>languageConfigs.js</code> - Language-specific configuration including date formats and number formatting</li> <li><code>combinedConfig.js</code> - Combined configuration for plugins</li> <li><code>pluginKeys.js</code> - Keys for plugin integration</li> </ul>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#module-federation","title":"Module Federation","text":"<p>Iaso exposes these generated files through Webpack's ModuleFederationPlugin:</p> <pre><code>new ModuleFederationPlugin({\n    name: 'IasoModules',\n    filename: 'remoteEntry.js',\n    library: { type: 'self', name: 'IasoModules' },\n    exposes: {\n        './plugins/configs': combinedConfigPath,\n        './plugins/keys': pluginKeysPath,\n        './translations/configs': combinedTranslationsPath,\n        './language/configs': languageConfigsPath,\n    },\n    shared: {\n        react: {\n            singleton: true,\n            eager: true,\n            requiredVersion: false,\n        },\n        'react-dom': {\n            singleton: true,\n            eager: true,\n            requiredVersion: false,\n        },\n        'react-intl': {\n            singleton: true,\n            eager: true,\n            requiredVersion: false,\n        },\n        '@mui/material': {\n            singleton: true,\n            eager: true,\n            requiredVersion: false,\n        },\n        'bluesquare-components': {\n            singleton: true,\n            eager: true,\n            requiredVersion: false,\n        },\n    },\n})\n</code></pre> <p>Additionally, the webpack configuration includes aliases for these exposed modules:</p> <pre><code>resolve: {\n    alias: {\n        'react/jsx-runtime': 'react/jsx-runtime.js',\n        // Add alias for the combined config\n        'IasoModules/plugins/configs': combinedConfigPath,\n        'IasoModules/plugins/keys': pluginKeysPath,\n        'IasoModules/translations/configs': combinedTranslationsPath,\n        'IasoModules/language/configs': languageConfigsPath,\n        // ...\n    },\n    // ...\n}\n</code></pre>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#translation-structure","title":"Translation Structure","text":"<p>Translations are organized in the following structure:</p> <pre><code>hat/\n\u251c\u2500\u2500 assets/\n\u2502   \u2514\u2500\u2500 js/\n\u2502       \u2514\u2500\u2500 apps/\n\u2502           \u2514\u2500\u2500 Iaso/\n\u2502               \u2514\u2500\u2500 translations/\n\u2502                   \u251c\u2500\u2500 en.json\n\u2502                   \u251c\u2500\u2500 fr.json\n\u2502                   \u251c\u2500\u2500 en.config.js\n\u2502                   \u251c\u2500\u2500 fr.config.js\n\u2502                   \u2514\u2500\u2500 ...\nplugins/\n\u2514\u2500\u2500 your_plugin/\n    \u2514\u2500\u2500 js/\n        \u2514\u2500\u2500 translations/\n            \u251c\u2500\u2500 en.json\n            \u251c\u2500\u2500 fr.json\n            \u2514\u2500\u2500 ...\nbluesquare-components/\n\u2514\u2500\u2500 src/\n    \u2514\u2500\u2500 translations/\n        \u251c\u2500\u2500 en.json\n        \u251c\u2500\u2500 fr.json\n        \u2514\u2500\u2500 ...\n</code></pre>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#translation-file-format","title":"Translation File Format","text":"<p>Translation files are JSON files with a flat structure of key-value pairs:</p> <pre><code>{\n  \"common.button.save\": \"Save\",\n  \"common.button.cancel\": \"Cancel\",\n  \"common.button.edit\": \"Edit\",\n  \"common.button.delete\": \"Delete\",\n  \"common.message.confirm\": \"Are you sure?\",\n  \"common.message.success\": \"Operation completed successfully\",\n  \"common.message.error\": \"An error occurred\",\n  \"common.label.name\": \"Name\",\n  \"common.label.description\": \"Description\",\n  \"common.label.status\": \"Status\",\n  \"common.label.date\": \"Date\",\n  \"common.label.type\": \"Type\",\n  \"common.label.actions\": \"Actions\"\n}\n</code></pre>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#language-configuration-files","title":"Language Configuration Files","text":"<p>Each language can have a configuration file (e.g., <code>en.config.js</code>, <code>fr.config.js</code>) that contains language-specific settings:</p> <pre><code>// en.config.js\nexport default {\n    label: 'English',\n    dateFormats: {\n        LT: 'h:mm A',\n        LTS: 'DD/MM/YYYY HH:mm',\n        L: 'DD/MM/YYYY',\n        LL: 'Do MMMM YYYY',\n        LLL: 'Do MMMM YYYY LT',\n        LLLL: 'dddd, MMMM Do YYYY LT',\n    },\n    thousandGroupStyle: 'thousand',\n};\n</code></pre> <p>These configuration files are used to: - Set the display name of the language in the UI - Configure date and time formats - Set number formatting preferences (thousand, lakh, wan)</p>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#development-vs-production","title":"Development vs Production","text":""},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#development-mode","title":"Development Mode","text":"<p>In development (<code>webpack.dev.js</code>): - Translation files are generated on-the-fly when changes are detected - Hot Module Replacement (HMR) is enabled for quick development - Changes to translation files are automatically detected and reloaded</p>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#production-mode","title":"Production Mode","text":"<p>In production (<code>webpack.prod.js</code>): - Translation files are generated once during the build process - Translations are optimized and minified - Source maps are optional (configurable)</p>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#loading-translations-at-runtime","title":"Loading Translations at Runtime","text":"<p>The main application: 1. Loads translations from <code>./assets/js/apps/Iaso/bundle/generated/combinedTranslations.js</code> 2. Loads language configurations from <code>./assets/js/apps/Iaso/bundle/generated/languageConfigs.js</code> 3. Loads plugin configurations from <code>./assets/js/apps/Iaso/bundle/generated/combinedPluginConfigs.js</code> 4. Loads plugin keys from <code>./assets/js/apps/Iaso/bundle/generated/pluginKeys.js</code> 5. Initializes the React-Intl provider with the loaded translations 6. Makes translations available to all components through the React-Intl context</p>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#adding-a-new-language","title":"Adding a New Language","text":"<p>To add a new language to the system, follow these steps:</p>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#1-add-the-language-to-available_languages-environment-variable","title":"1. Add the Language to AVAILABLE_LANGUAGES Environment Variable","text":"<p>First, you need to add the new language code to the <code>AVAILABLE_LANGUAGES</code> environment variable. This variable is used at run time to determine which languages to display.</p> <pre><code># For development\nexport AVAILABLE_LANGUAGES=\"en,fr,es\"\n\n# For production, add to your .env file or deployment configuration\nAVAILABLE_LANGUAGES=en,fr,es\n</code></pre>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#2-copy-and-translate-existing-language-files","title":"2. Copy and Translate Existing Language Files","text":"<p>The simplest way to add a new language is to copy an existing language file (e.g., <code>en.json</code>) and translate all the keys:</p> <pre><code># Main application (required)\ncp hat/assets/js/apps/Iaso/translations/en.json hat/assets/js/apps/Iaso/translations/es.json\n\n# Optional: Plugin translations\n# If not provided, English will be used as fallback\ncp plugins/your_plugin/js/translations/en.json plugins/your_plugin/js/translations/es.json\n\n# Optional: Shared components translations\n# If not provided, English will be used as fallback\ncp bluesquare-components/src/translations/en.json bluesquare-components/src/translations/es.json\n</code></pre> <p>Then edit each file to translate the values while keeping the keys the same:</p> <pre><code>{\n  \"common.button.save\": \"Guardar\",\n  \"common.button.cancel\": \"Cancelar\",\n  \"common.button.edit\": \"Editar\",\n  \"common.button.delete\": \"Eliminar\",\n  \"common.message.confirm\": \"\u00bfEst\u00e1s seguro?\",\n  \"common.message.success\": \"Operaci\u00f3n completada con \u00e9xito\",\n  \"common.message.error\": \"Se produjo un error\",\n  \"common.label.name\": \"Nombre\",\n  \"common.label.description\": \"Descripci\u00f3n\",\n  \"common.label.status\": \"Estado\",\n  \"common.label.date\": \"Fecha\",\n  \"common.label.type\": \"Tipo\",\n  \"common.label.actions\": \"Acciones\"\n}\n</code></pre>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#3-create-a-language-configuration-file-optional","title":"3. Create a Language Configuration File (Optional)","text":"<p>If you need custom date formats or number formatting for your language, create a configuration file:</p> <pre><code># Main application\ncp hat/assets/js/apps/Iaso/translations/en.config.js hat/assets/js/apps/Iaso/translations/es.config.js\n</code></pre> <p>Then edit the file to customize the settings:</p> <pre><code>// es.config.js\nexport default {\n    label: 'Espa\u00f1ol',\n    dateFormats: {\n        LT: 'H:mm',\n        LTS: 'DD/MM/YYYY H:mm',\n        L: 'DD/MM/YYYY',\n        LL: 'D [de] MMMM [de] YYYY',\n        LLL: 'D [de] MMMM [de] YYYY H:mm',\n        LLLL: 'dddd, D [de] MMMM [de] YYYY H:mm',\n    },\n    thousandGroupStyle: 'thousand',\n};\n</code></pre>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#4-rebuild-the-application","title":"4. Rebuild the Application","text":"<p>Rebuild the application to generate the new translation files:</p> <pre><code># Development\nnpm run dev\n\n# Production\nnpm run build\n</code></pre> <p>The system will automatically detect the new language file and include it in the generated files.</p>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#account-specific-custom-translations","title":"Account-Specific Custom Translations","text":"<p>Iaso supports account-specific custom translations that can be managed through the Django admin interface. This feature allows administrators to override default translations for specific accounts.</p>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#how-it-works_1","title":"How It Works","text":"<ol> <li>Account Custom Translations Storage:</li> <li>Custom translations are stored in the <code>custom_translations</code> field of the Account model</li> <li>The field is a JSON field that follows the same structure as regular translation files</li> <li> <p>Each account can have its own set of custom translations</p> </li> <li> <p>Translation Override Process:</p> </li> <li>When a user logs in, their account's custom translations are loaded</li> <li>These custom translations are merged with the default translations</li> <li>Custom translations take precedence over default translations</li> <li>The merging happens at the key level for each language</li> </ol>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#example-of-custom-translations-structure","title":"Example of Custom Translations Structure","text":"<pre><code>{\n    \"fr\": {\n        \"iaso.label.entities\": \"B\u00e9n\u00e9ficiaires personnalis\u00e9s\",\n        \"iaso.label.entity\": \"B\u00e9n\u00e9ficiaire personnalis\u00e9\"\n    },\n    \"en\": {\n        \"iaso.label.entities\": \"Custom Beneficiaries\",\n        \"iaso.label.entity\": \"Custom Beneficiary\"\n    }\n}\n</code></pre>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#managing-custom-translations","title":"Managing Custom Translations","text":"<p>To manage custom translations for an account:</p> <ol> <li>Log in to the Django admin interface</li> <li>Navigate to the Account model</li> <li>Select the account you want to modify</li> <li>Edit the <code>custom_translations</code> field</li> <li>Save the changes</li> </ol>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#important-notes","title":"Important Notes","text":"<ul> <li>Custom translations are merged with default translations at runtime</li> <li>Only authenticated users with an account will see their custom translations</li> <li>Anonymous users will see only the default translations</li> <li>Custom translations are scoped to the account level</li> <li>Changes to custom translations take effect immediately after saving</li> <li>The system maintains a clean separation between default and custom translations</li> </ul>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#date-formatting-in-components","title":"Date Formatting in Components","text":"<p>Several components can be enhanced to use language-specific date formats:</p> <ol> <li>formatValue Function (<code>hat/assets/js/apps/Iaso/domains/instances/utils/index.tsx</code>):</li> <li>Use language-specific formats for date and datetime values</li> <li> <p>Ensure consistent date formatting across the application</p> </li> <li> <p>convertDate Function (<code>plugins/polio/js/src/domains/Campaigns/campaignHistory/config.tsx</code>):</p> </li> <li>Update to use language configs for date formatting</li> <li>Ensure dates are displayed according to the user's locale</li> </ol>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#number-formatting","title":"Number Formatting","text":"<p>The application already has some components using language configs for number formatting, but this can be extended:</p> <ol> <li>NumberCell Component:</li> <li>Already uses language configs for thousand separators and decimal points</li> <li> <p>Can be used as a reference for other number formatting components</p> </li> <li> <p>formatThousand Function:</p> </li> <li>Extend to use language-specific formatting</li> <li> <p>Ensure consistent number formatting across the application</p> </li> <li> <p>formatRoundNumber Function (<code>plugins/polio/js/src/domains/Budget/utils.tsx</code>):</p> </li> <li>Update to use language-specific formatting</li> <li>Ensure numbers are displayed according to the user's locale</li> </ol>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#form-inputs","title":"Form Inputs","text":"<p>Form inputs can be enhanced to support language-specific formatting:</p> <ol> <li>InputComponent:</li> <li>Already has good support for language-specific number formatting</li> <li> <p>Can be used as a reference for other input types</p> </li> <li> <p>Other Input Types:</p> </li> <li>Extend language-specific formatting to other input types</li> <li>Ensure consistent input formatting across the application</li> </ol>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#plugin-translations","title":"Plugin Translations","text":"<p>Plugins can provide their own translations that are automatically integrated into the main translation system. This allows plugins to be fully localized without modifying the core application.</p>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#plugin-translation-structure","title":"Plugin Translation Structure","text":"<p>Plugins should organize their translations in the following structure:</p> <pre><code>plugins/\n\u2514\u2500\u2500 your_plugin/\n    \u2514\u2500\u2500 js/\n        \u2514\u2500\u2500 src/\n            \u2514\u2500\u2500 constants/\n                \u2514\u2500\u2500 translations/\n                    \u251c\u2500\u2500 en.json  # English translations (required)\n                    \u251c\u2500\u2500 fr.json  # French translations (optional)\n                    \u2514\u2500\u2500 ...      # Other language translations\n</code></pre>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#plugin-translation-keys","title":"Plugin Translation Keys","text":"<p>To avoid conflicts with the main application and other plugins, plugin translation keys should be prefixed with the plugin's name:</p> <pre><code>{\n  \"myPlugin.title\": \"My Plugin Title\",\n  \"myPlugin.description\": \"Plugin description\",\n  \"myPlugin.button.save\": \"Save\",\n  \"myPlugin.button.cancel\": \"Cancel\"\n}\n</code></pre>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#plugin-translation-integration","title":"Plugin Translation Integration","text":"<p>During the build process: 1. The system scans all plugins for translation files 2. Plugin translations are combined with the main application translations 3. The combined translations are exposed through Module Federation 4. Plugins can access their translations using the same React-Intl hooks as the main application</p>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#plugin-translation-example","title":"Plugin Translation Example","text":"<p>Here's an example of how to use translations in a plugin component:</p> <pre><code>import React from 'react';\nimport { useIntl } from 'react-intl';\n\nconst MyPluginComponent: React.FC = () =&gt; {\n    const intl = useIntl();\n\n    return (\n        &lt;div&gt;\n            &lt;h1&gt;{intl.formatMessage({ id: 'myPlugin.title' })}&lt;/h1&gt;\n            &lt;p&gt;{intl.formatMessage({ id: 'myPlugin.description' })}&lt;/p&gt;\n            &lt;button&gt;{intl.formatMessage({ id: 'myPlugin.button.save' })}&lt;/button&gt;\n        &lt;/div&gt;\n    );\n};\n\nexport default MyPluginComponent;\n</code></pre>"},{"location":"pages/dev/how_to/use_tranlations/use_translations.html#plugin-translation-fallbacks","title":"Plugin Translation Fallbacks","text":"<p>The system uses a fallback mechanism to ensure all strings are translated: 1. If a translation is missing for a specific language, the system will use the English translation 2. If the English translation is also missing, the system will use the key itself 3. Warnings will be displayed in the console during build when fallbacks are used</p> <p>For more information on creating plugins with translations, see Using Plugins in Iaso Frontend.</p>"},{"location":"pages/dev/how_to/write_visit_on_nfc/write_visit_on_nfc.html","title":"Forewords","text":"<p>In the context of CODA2, Iaso will have to write some forms\u2019 information on an NFC card. The NFC card\u2019s size may vary in the future, but the current size of the card is 8k. Yet, the card is currently split into two partitions; one is used by CODA and the other by SCOPE. SCOPE has 6kB out of the 8, leaving 2kB to CODA.</p> <p>Famoco provided the implementation for the CODA 1.5 application.</p> <p>We know that the patient\u2019s profile can take up to 500B, and the subsequent visits can take up to 144B with a total of 8 visits maximum.</p> <p>This gives us a total of 1652B if all slots are filled.</p> <p>I assume that the remaining 396B (2048 - 1652) is the encryption overhead.</p> <p>Assuming Famoco is using an AES/CBC symmetric encryption with a salt of 256B and an IV (initialization vector) of 16B over the whole data, the assumption would hold.</p>"},{"location":"pages/dev/how_to/write_visit_on_nfc/write_visit_on_nfc.html#famocos-split","title":"Famoco\u2019s split","text":"<p>In the documentation provided by Famoco, called DESFireService_v1.0.1, they mention two types of writing:</p> <ol> <li> <p>File \u201c01\u201d, which we\u2019ll call the profile, is up to 500B</p> </li> <li> <p>File \u201c02\u201d, which we\u2019ll call the visits, is of variable length based     &gt; on the type of card used.</p> </li> </ol> <p>The profile is marked as a binary file overridden on each writing.</p> <p>The visits are marked as a cyclic record. Every time a visit is recorded, it is added to the previous ones. If the max length is reached, the oldest record is deleted to make room for the new one (FIFO).</p> \u2753 It is yet to be defined if a model outside of Famoco should follow the same split and enforce the writing of one record at a time."},{"location":"pages/dev/how_to/write_visit_on_nfc/write_visit_on_nfc.html#ndef-messages-and-ndef-records","title":"NDEF Messages and NDEF Records","text":"<p>NFC Data Exchange Format (or NDEF) is a lightweight binary format, used to encapsulate typed data. It is specified by the NFC Forum, for transmission and storage with NFC. However, it is transport agnostic.</p> <p>The format defines Messages and Records:</p> <ul> <li> <p>An NDEF Record contains typed data, such as MIME-type media, a URI,     &gt; or a custom application payload.</p> </li> <li> <p>An NDEF Message is a container for one or more NDEF Records.</p> </li> </ul>"},{"location":"pages/dev/how_to/write_visit_on_nfc/write_visit_on_nfc.html#why-use-ndef","title":"Why use NDEF?","text":"<p>As described in the Android documentation, It is mandatory for all Android devices with NFC to correctly enumerate Ndef on NFC Forum Tag Types 1-4, and implement all NDEF operations as defined in said documentation.</p> <p>Therefore, it guarantees that a perfectly written tag will be readable by all Android devices with NFC.</p> <p>Finally, the overhead of NDEF is existent but can be considered negligible compared to the advantages it brings. Based on this StackOverflow answer, the overhead is roughly 12 bytes:</p> <ul> <li> <p>NDEF Header byte: 1 byte</p> </li> <li> <p>NDEF type length field: 1 byte</p> </li> <li> <p>NDEF payload length field: 1-4 bytes</p> </li> <li> <p>NDEF type name \"iaso:p\" (external type): 6 bytes</p> </li> </ul>"},{"location":"pages/dev/how_to/write_visit_on_nfc/write_visit_on_nfc.html#encryption","title":"Encryption","text":"<p>Famoco\u2019s devices are relying on a Secure Access Module (or SAM) chip which encrypts and guarantees a secured shared secret across the authorized devices.</p> <p>Unfortunately, regular Android devices can't rely on such a chip. Therefore, we must find a solution to encrypt the card's data in a way only decipherable by another authorized device without an internet connection.</p> <p>Since all the authorized devices will need to be able to encrypt and decrypt the data, there is no need to go with asymmetric encryption.</p> <p>The current standard for symmetric encryption is AES.</p>"},{"location":"pages/dev/how_to/write_visit_on_nfc/write_visit_on_nfc.html#the-overhead","title":"The overhead","text":"<p>As explained in this StackOverflow answer, AES doesn\u2019t expand data, but the padding will.</p> <p>The maximum amount of padding is up to the padding algorithm.</p> <p>In the case of PKCS7Padding, it should be up to 16 bytes as defined in the RFC3602.</p> <p>On top of that, it\u2019s good practice to salt the password to make the deciphering even more complex, avoid rainbow tables attacks, and avoid being able to compare two identical records (which is more likely to happen with small forms).</p> <p>AES also comes with the concept of Initialization Vector (or IV) randomly generated on each encryption.</p> <p>The salt and the IV will be communicated in clear text alongside the encrypted data to be able to decrypt it. Therefore, they will add up to the number of bytes written on the card.</p> \ud83d\udd10 As advised by the National Institute of Standards and Technology (NIST), the length of the randomly-generated portion of the salt shall be at least 128 bits (16 bytes). In the current PoC implementation, it\u2019s 256 bytes. \ud83d\udd10 AES requires an IV size of 16 bytes <p>The total overhead is therefore of the size of the salt (256B), the size of the IV (16B), and the padding (up to 16B), which sums up to 288B but could be lowered to 48B if we reduce the salt to 16B for lesser security.</p>"},{"location":"pages/dev/how_to/write_visit_on_nfc/write_visit_on_nfc.html#how-the-data-is-split","title":"How the data is split","text":"<p>The overhead discussed previously is computed per encryption; if we encrypt all the data at once, the overhead is of that amount. If we encrypt the profile and the visits separately, the overhead is multiplied by two. The overhead is much higher if we encrypt the profile and each visit individually.</p> \ud83d\udd10 I don\u2019t have sufficient knowledge to tell if there is any security benefit in one or the other approach. Yet, based on the size of the available space on the card, I assume we should encrypt all the data at once or encrypt the profile and the visits separately but not all the visits apiece."},{"location":"pages/dev/how_to/write_visit_on_nfc/write_visit_on_nfc.html#sharing-the-nfc-password-securely","title":"Sharing the NFC password securely","text":"<p>Every security measure is as strong as its weakest link. The whole encryption mechanism is rendered useless if the password is too weak, easily guessable, or easily accessible.</p> <p>Therefore, we need to find a good way to share the password while considering the complexity for the end user to obtain it.</p> \ud83d\ude08 Keep in mind that nothing is 100% secure. All the solutions we could come up with have flaws, even the SAM chip used by Famoco. Yet, we can only make it harder and harder for someone to retrieve the key to the point that they either can\u2019t retrieve it (missing skills or hardware) or don\u2019t find that it is worth their while."},{"location":"pages/dev/how_to/write_visit_on_nfc/write_visit_on_nfc.html#embedded-inside-the-apk","title":"Embedded inside the APK","text":"<p>The easiest way to share a password across authorized devices is to embed it directly into the APK (an APK is a file containing the code and resources of an application that an Android device can interpret to install it).</p> <p>Yet, this solution is only viable if, and only if, the APK is distributed via a Mobile Device Management (or MDM) and that the MDM can securely prevent people from retrieving the APK from the device.</p> <p>If the APK is distributed via the Play Store (or any other means that is publicly available or that allow retrieving the APK), the password must be considered compromised and rendered useless.</p> <p>This solution is similar to what Famoco is doing since, in their case, the password is embedded and secured inside the SAM chip.</p>"},{"location":"pages/dev/how_to/write_visit_on_nfc/write_visit_on_nfc.html#over-the-network","title":"Over the network","text":"<p>This solution is easy for the end user, but more vulnerable as anyone can make a network request.</p> <p>The client should make an authorized (given a valid token previously retrieved with valid credentials) request to a specific endpoint.</p> <p>The endpoint would receive a public key (from an asymmetric encryption scheme like RSA) of a hardware-backed key pair as described in Android\u2019s documentation.</p> <p>The backend would be able to verify the validity of the key and its certificate chain, pointing to a Google valid certificate, and containing the correct application ID and signature.</p> <p>The password would then be encrypted by the backend with the public key and communicated back to the phone. The application should then be able to decrypt the password and store it securely.</p> <p>This solution involves that only the application can decrypt the given password.</p> \ud83d\udd11 This is the investigated solution at the moment of this writing but we are unsure how secure this would be on a rooted Android device. <p>This solution involves security measures that can be hard for attackers to obtain:</p> <ol> <li> <p>Valid credentials</p> </li> <li> <p>A compromised phone with the application on it.</p> </li> <li> <p>A way to compromise the device in a way it is not detected by     &gt; Android.</p> </li> </ol>"},{"location":"pages/dev/how_to/write_visit_on_nfc/write_visit_on_nfc.html#over-a-physical-device","title":"Over a physical device","text":"<p>If the password is stored inside a physical device (like a USB key, a specific phone application, etc.) that is provided in limited quantities to trusted members of the organization, it can be shared through physical contact between the device to authorize and the trusted member with the physical device.</p> <p>The password is then securely stored on the authorized device for later use.</p> <p>This solution is secure but could be cumbersome. For example, if there are many devices to authorize, it can take a long time to transfer the password on each device. There could also be an issue if the devices are spread across the country, and the trusted members must go to each location to authorize the devices.</p>"},{"location":"pages/dev/how_to/write_visit_on_nfc/write_visit_on_nfc.html#a-mix-of-the-above-solutions","title":"A mix of the above solutions","text":"<p>The solutions provided above are not exhaustive and can also be mixed. For example, we could consider storing the password on a physical device to be encrypted with a key that needs to be retrieved via an authorized network request.</p> <p>The more barrier we put in recovering the key, the more secure it is. Yet, it also makes the logistics for genuine authorized devices more complex.</p>"},{"location":"pages/dev/reference/API/entity.html","title":"API reference: Entity","text":"<p>Entity and related models</p> <p>The entity concept might feel a bit abstract, so it might be useful to reason about them using a concrete example (beneficiaries):</p> <ul> <li>Entities are used to track beneficiaries (=people who will benefit from the help an organization provides). Those beneficiaries can be of different types (E.g.: Children under 5, Pregnant or lactating women, etc.).</li> <li>Those beneficiaries are visited multiple times, so multiple submissions/instances (that we call \"records\") are attached to them via the entity_id foreign key of Instance.</li> <li>In addition to those records, we also want to track some core metadata about the beneficiary, such as their name, age,... Because entities can be of very different natures, we avoid hardcoding those fields in the Entity model, and also reuse the form mechanism: each EntityType has a foreign key to a reference form, and each entity has a foreign key (attributes) to an instance/submission of that form.</li> </ul>"},{"location":"pages/dev/reference/API/entity.html#iaso.models.entity.Entity","title":"<code>Entity</code>","text":"<p>         Bases: <code>SoftDeletableModel</code></p> <p>An entity represents a physical object or person with a known Entity Type</p> <p>Contrary to forms, they are not linked to a specific OrgUnit. The core attributes that define this entity are not stored as fields in the Entity model, but in an Instance / submission</p> Source code in <code>iaso/models/entity.py</code> <pre><code>class Entity(SoftDeletableModel):\n\"\"\"An entity represents a physical object or person with a known Entity Type\n\n    Contrary to forms, they are not linked to a specific OrgUnit.\n    The core attributes that define this entity are not stored as fields in the Entity model, but in an Instance /\n    submission\n    \"\"\"\n\n    name = models.CharField(max_length=255, blank=True)  # this field is not used, name value is taken from attributes\n    uuid = models.UUIDField(default=uuid.uuid4, editable=False)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    entity_type = models.ForeignKey(EntityType, blank=True, on_delete=models.PROTECT)\n    attributes = models.OneToOneField(\n        Instance, on_delete=models.PROTECT, help_text=\"instance\", related_name=\"attributes\", blank=True, null=True\n    )\n    account = models.ForeignKey(Account, on_delete=models.PROTECT)\n    merged_to = models.ForeignKey(\"self\", null=True, blank=True, on_delete=models.PROTECT)\n\n    objects = DefaultSoftDeletableManager.from_queryset(EntityQuerySet)()\n\n    objects_only_deleted = OnlyDeletedSoftDeletableManager.from_queryset(EntityQuerySet)()\n\n    objects_include_deleted = IncludeDeletedSoftDeletableManager.from_queryset(EntityQuerySet)()\n\n    class Meta:\n        verbose_name_plural = \"Entities\"\n\n    def __str__(self):\n        return \"%s %s %s %d\" % (self.entity_type.name, self.uuid, self.name, self.id)\n\n    def get_nfc_cards(self):\n        from iaso.models.storage import StorageDevice\n\n        nfc_count = StorageDevice.objects.filter(entity=self, type=StorageDevice.NFC).count()\n        return nfc_count\n\n    def as_small_dict(self):\n        return {\n            \"id\": self.pk,\n            \"uuid\": self.uuid,\n            \"name\": self.name,\n            \"created_at\": self.created_at,\n            \"updated_at\": self.updated_at,\n            \"entity_type\": self.entity_type_id,\n            \"entity_type_name\": self.entity_type and self.entity_type.name,\n            \"attributes\": self.attributes and self.attributes.as_dict(),\n        }\n\n    def as_small_dict_with_nfc_cards(self, instance):\n        entity_dict = self.as_small_dict()\n        entity_dict[\"nfc_cards\"] = self.get_nfc_cards()\n        return entity_dict\n\n    def as_dict(self):\n        instances = dict()\n\n        for i in self.instances.all():\n            instances[\"uuid\"] = i.uuid\n            instances[\"file_name\"]: i.file_name\n            instances[str(i.name)] = i.name\n\n        return {\n            \"id\": self.pk,\n            \"uuid\": self.uuid,\n            \"created_at\": self.created_at,\n            \"updated_at\": self.updated_at,\n            \"entity_type\": self.entity_type.as_dict(),\n            \"attributes\": self.attributes.as_dict(),\n            \"instances\": instances,\n            \"account\": self.account.as_dict(),\n        }\n\n    def soft_delete_with_instances_and_pending_duplicates(self, audit_source, user):\n\"\"\"\n        This method does a proper soft-deletion of the entity:\n        - soft delete the entity\n        - soft delete its attached form instances\n        - delete relevant pending EntityDuplicate pairs\n        \"\"\"\n        from iaso.models.deduplication import ValidationStatus\n\n        original = copy(self)\n        self.delete()  # soft delete\n        log_modification(original, self, audit_source, user=user)\n\n        for instance in set(filter(None, [self.attributes] + list(self.instances.all()))):\n            original = copy(instance)\n            instance.soft_delete()\n            log_modification(original, instance, audit_source, user=user)\n\n        self.duplicates1.filter(validation_status=ValidationStatus.PENDING).delete()\n        self.duplicates2.filter(validation_status=ValidationStatus.PENDING).delete()\n\n        return self\n</code></pre>"},{"location":"pages/dev/reference/API/entity.html#iaso.models.entity.Entity.soft_delete_with_instances_and_pending_duplicates","title":"<code>soft_delete_with_instances_and_pending_duplicates(audit_source, user)</code>","text":"<p>This method does a proper soft-deletion of the entity: - soft delete the entity - soft delete its attached form instances - delete relevant pending EntityDuplicate pairs</p> Source code in <code>iaso/models/entity.py</code> <pre><code>def soft_delete_with_instances_and_pending_duplicates(self, audit_source, user):\n\"\"\"\n    This method does a proper soft-deletion of the entity:\n    - soft delete the entity\n    - soft delete its attached form instances\n    - delete relevant pending EntityDuplicate pairs\n    \"\"\"\n    from iaso.models.deduplication import ValidationStatus\n\n    original = copy(self)\n    self.delete()  # soft delete\n    log_modification(original, self, audit_source, user=user)\n\n    for instance in set(filter(None, [self.attributes] + list(self.instances.all()))):\n        original = copy(instance)\n        instance.soft_delete()\n        log_modification(original, instance, audit_source, user=user)\n\n    self.duplicates1.filter(validation_status=ValidationStatus.PENDING).delete()\n    self.duplicates2.filter(validation_status=ValidationStatus.PENDING).delete()\n\n    return self\n</code></pre>"},{"location":"pages/dev/reference/API/entity.html#iaso.models.entity.EntityType","title":"<code>EntityType</code>","text":"<p>         Bases: <code>models.Model</code></p> <p>Its <code>reference_form</code> describes the core attributes/metadata about the entity type (in case it refers to a person: name, age, ...)</p> Source code in <code>iaso/models/entity.py</code> <pre><code>class EntityType(models.Model):\n\"\"\"Its `reference_form` describes the core attributes/metadata about the entity type (in case it refers to a person: name, age, ...)\"\"\"\n\n    name = models.CharField(max_length=255)  # Example: \"Child under 5\"\n    code = models.CharField(\n        max_length=255, null=True, blank=True\n    )  # As the name could change over the time, this field will never change once the entity type created and ETL script will rely on that\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    # Link to the reference form that contains the core attribute/metadata specific to this entity type\n    reference_form = models.ForeignKey(Form, blank=True, null=True, on_delete=models.PROTECT)\n    account = models.ForeignKey(Account, on_delete=models.PROTECT, blank=True, null=True)\n    is_active = models.BooleanField(default=False)\n    # Fields (subset of the fields from the reference form) that will be shown in the UI - entity list view\n    fields_list_view = ArrayField(\n        models.CharField(max_length=255, blank=True, db_collation=\"case_insensitive\"), size=100, null=True, blank=True\n    )\n    # Fields (subset of the fields from the reference form) that will be shown in the UI - entity detail view\n    fields_detail_info_view = ArrayField(\n        models.CharField(max_length=255, blank=True, db_collation=\"case_insensitive\"), size=100, null=True, blank=True\n    )\n    # Fields (subset of the fields from the reference form) that will be used to search for duplicate entities\n    fields_duplicate_search = ArrayField(\n        models.CharField(max_length=255, blank=True, db_collation=\"case_insensitive\"), size=100, null=True, blank=True\n    )\n    prevent_add_if_duplicate_found = models.BooleanField(\n        default=False,\n    )\n\n    class Meta:\n        unique_together = [\"name\", \"account\"]\n\n    def __str__(self):\n        return f\"{self.name}\"\n\n    def as_dict(self):\n        return {\n            \"name\": self.name,\n            \"created_at\": self.created_at,\n            \"updated_at\": self.updated_at,\n            \"reference_form\": self.reference_form.as_dict() if self.reference_form else None,\n            \"account\": self.account.as_dict(),\n        }\n</code></pre>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html","title":"<code>OrgUnitChangeRequestConfiguration</code> API","text":"<p>This document is a first draft of the <code>OrgUnitChangeRequestConfiguration</code> API that was designed by Benjamin in August 2024 and updated by Thibault. It still needs to be updated and completed, once the developments are over.</p>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#1-post-apiorgunitschangesconfigs","title":"1 - POST /api/orgunits/changes/configs/","text":"<p>API used to create or modify a Change Request configuration.</p>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#permissions","title":"Permissions","text":"<ul> <li>Change Request Configuration</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#body","title":"Body","text":"<pre><code>{\n  \"uuid\": \"UUID? - OrgUnitChangeRequestConfiguration UUID\",\n  \"project_id\": \"Int - Project ID\",\n  \"org_unit_type_id\": \"Int - OrgUnit Type ID\",\n  \"org_units_editable\": \"Boolean? - Whether or not OrgUnits of this OrgUnit Type are editable\",\n  \"editable_fields\": [\"Array&lt;String&gt; - List of possible fields\"],\n  \"possible_type_ids\": [\"Array&lt;Int&gt; - List of possible OrgUnit Type IDs that are allowed as new type for this OrgUnit Type\"],\n  \"possible_parent_type_ids\": [\"Array&lt;Int&gt; - List of possible OrgUnit Type IDs that are allowed as new parent for this OrgUnit Type\"],\n  \"group_set_ids\": [\"Array&lt;Int&gt; - List of GroupSet IDs for this OrgUnit Type\"],\n  \"editable_reference_form_ids\": [\"Array&lt;Int&gt; - List of reference Form ID that can be modified\"],\n  \"other_group_ids\": [\"Array&lt;Int&gt; - List of possible Group IDs for this OrgUnit Type\"]\n}\n</code></pre>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#possible-responses","title":"Possible responses","text":""},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#201-created","title":"201 - Created","text":"<p># Do we return ID/UUID when something is successfully created? Let's try to return it, or even the full OUCRC</p>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#400-bad-request","title":"400 - Bad request","text":"<ul> <li>A non-nullable field was null or omitted</li> <li><code>org_unit_type_id</code> is not assigned to the given <code>project_id</code></li> <li>One or more <code>editable_fields</code> value is unknown</li> <li>One or more <code>possible_parent_type_ids</code> is not a suitable for as a parent for the given OrgUnit Type</li> <li>One or more <code>editable_reference_forms</code> is not a reference form for the given OrgUnit Type</li> <li><code>project_id</code> is not null and doesn't exist</li> <li><code>org_unit_type_id</code> is not null and doesn't exist</li> <li>One or more <code>possible_type_ids</code> don't exist</li> <li>One or more <code>possible_parent_type_ids</code> don't exist</li> <li>One or more <code>group_set_ids</code> don't exist</li> <li>One or more <code>editable_reference_form_ids</code> don't exist</li> <li>One or more <code>other_group_ids</code> don't exist</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#401-unauthorized","title":"401 - Unauthorized","text":"<ul> <li>No authentication token or an invalid one was provided</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#403-forbidden","title":"403 - Forbidden","text":"<ul> <li>User doesn't have the proper permission</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#2-get-apiorgunitschangesconfigs","title":"2 - GET /api/orgunits/changes/configs/","text":"<p>API used to list all Change Request configurations.</p>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#permissions_1","title":"Permissions","text":"<ul> <li>Change Request Configuration</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#query-parameters","title":"Query parameters","text":"<ul> <li>page: Int (optional) - Current page (default: 1)</li> <li>limit: Int (optional) - Number of entities returned by page (default: 20)</li> <li>org_unit_type_id: Int (optional) - ID of the <code>OrgUnitType</code> to filter on</li> <li>project_id: Int (optional) - ID of the <code>Project</code> to filter on</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#possible-responses_1","title":"Possible responses","text":""},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#200-ok","title":"200 - OK","text":"<pre><code>{\n    \"count\": \"Long\",\n    \"has_next\": \"Boolean\",\n    \"has_previous\": \"Boolean\",\n    \"page\": \"Long\",\n    \"pages\": \"Long\",\n    \"limit\": \"Long\",\n    \"results\": [\n        {\n            \"id\": \"Int - ID in the database\",\n            \"uuid\": \"UUID - UUID in the database\",\n            \"project\": {\n                \"id\": \"Int - Project ID\",\n                \"name\": \"String - Project name\"\n            },\n            \"org_unit_type\": {\n                \"id\": \"Int - OrgUnit Type ID\",\n                \"name\": \"String - OrgUnit Type name\"\n            },\n            \"org_units_editable\": \"Boolean - Whether or not OrgUnits of this OrgUnit Type are editable\",\n            \"editable_fields\": \"Array&lt;String&gt; - List of possible fields\",\n            \"created_at\": \"Timestamp\",\n            \"created_by\": {\n                \"id\": \"Int - User ID\",\n                \"username\": \"String\",\n                \"first_name\": \"String\",\n                \"last_name\": \"String\"\n            },\n            \"updated_at\": \"Timestamp\",\n            \"updated_by\": {\n                \"id\": \"Int - User ID\",\n                \"username\": \"String\",\n                \"first_name\": \"String\",\n                \"last_name\": \"String\"\n            }\n        }\n    ]\n}\n</code></pre>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#400-bad-request_1","title":"400 - Bad request","text":"<ul> <li>One or more parameters provided couldn't be parsed</li> <li>One or more parameters provided couldn't be matched with the related resource (e.g.: unknown <code>project_id</code>)</li> <li>A given parameter was not recognized</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#401-unauthorized_1","title":"401 - Unauthorized","text":"<ul> <li>No authentication token or an invalid one was provided</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#403-forbidden_1","title":"403 - Forbidden","text":"<ul> <li>User doesn't have the proper permission to access this resource.</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#3-get-apiorgunitschangesconfigsid","title":"3 - GET /api/orgunits/changes/configs/{id}/","text":"<p>API used to fully retrieve a Change Request configuration.</p>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#permissions_2","title":"Permissions","text":"<ul> <li>Change Request Configuration</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#possible-responses_2","title":"Possible responses","text":""},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#200-ok_1","title":"200 - OK","text":"<pre><code>{\n    \"id\": \"Int - ID in the database\",\n    \"uuid\": \"UUID - UUID in the database\",\n    \"project\": {\n        \"id\": \"Int - Project ID\",\n        \"name\": \"String - Project name\"\n    },\n    \"org_unit_type\": {\n        \"id\": \"Int - OrgUnit Type ID\",\n        \"name\": \"String - OrgUnit Type name\"\n    },\n    \"org_units_editable\": \"Boolean - Whether or not OrgUnits of this OrgUnit Type are editable\",\n    \"editable_fields\": \"Array&lt;String&gt; - List of possible fields\",\n    \"possible_types\": [\n        {\n            \"id\": \"Int - OrgUnit Type ID\",\n            \"name\": \"String - OrgUnit Type name\"\n        }\n    ],\n    \"possible_parent_types\": [\n        {\n            \"id\": \"Int - OrgUnit Type ID\",\n            \"name\": \"String - OrgUnit Type name\"\n        }\n    ],\n    \"group_sets\": [\n        {\n            \"id\": \"Int - GroupSet ID\",\n            \"name\": \"String - GroupSet name\"\n        }\n    ],\n    \"editable_reference_forms\": [\n        {\n            \"id\": \"Int - Form ID\",\n            \"name\": \"String - Form name\"\n        }\n    ],\n    \"other_groups\": [\n        {\n            \"id\": \"Int - Group ID\",\n            \"name\": \"String - Group name\"\n        }\n    ],\n    \"created_at\": \"Timestamp\",\n    \"created_by\": {\n        \"id\": \"Int - User ID\",\n        \"username\": \"String\",\n        \"first_name\": \"String\",\n        \"last_name\": \"String\"\n    },\n    \"updated_at\": \"Timestamp\",\n    \"updated_by\": {\n        \"id\": \"Int - User ID\",\n        \"username\": \"String\",\n        \"first_name\": \"String\",\n        \"last_name\": \"String\"\n    }\n}\n</code></pre>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#401-unauthorized_2","title":"401 - Unauthorized","text":"<ul> <li>No authentication token or an invalid one was provided</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#403-forbidden_2","title":"403 - Forbidden","text":"<ul> <li>User doesn't have the proper permission to access this resource.</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#404-not-found","title":"404 - Not found","text":"<ul> <li>The given ID was not found</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#4-get-apimobileorgunitschangesconfigs","title":"4 - GET /api/mobile/orgunits/changes/configs/","text":"<p>API used to list all Change Request configurations for the mobile app.</p>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#permissions_3","title":"Permissions","text":"<ul> <li>User must be authenticated</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#query-parameters_1","title":"Query parameters","text":"<ul> <li>app_id: String - Application ID for which to retrieve the configuration</li> <li>page: Int (optional) - Current page (default: 1)</li> <li>limit: Int (optional) - Number of entities returned by page (default: 20)</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#possible-responses_3","title":"Possible responses","text":""},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#200-ok_2","title":"200 - OK","text":"<pre><code>{\n  \"count\": \"Long\",\n  \"has_next\": \"Boolean\",\n  \"has_previous\": \"Boolean\",\n  \"page\": \"Long\",\n  \"pages\": \"Long\",\n  \"limit\": \"Long\",\n  \"results\": [\n    {\n      \"org_unit_type_id\": \"Int - OrgUnit Type ID\",\n      \"org_units_editable\": \"Boolean - Whether or not OrgUnits of this OrgUnit Type are editable\",\n      \"editable_fields\": [\"Array&lt;String&gt; - List of possible fields\"],\n      \"possible_type_ids\": [\"Array&lt;Int&gt; - List of possible OrgUnit Type IDs that are allowed as new type for this OrgUnit Type\"],\n      \"possible_parent_types\": [\"Array&lt;Int&gt; - List of possible OrgUnit Type IDs that are allowed as new parent for this OrgUnit Type\"],\n      \"group_sets\": [\"Array&lt;Int&gt; - List of GroupSet IDs for this OrgUnit Type\"],\n      \"editable_reference_forms\": [\"Array&lt;Int&gt; - List of reference Form ID that can be modified\"],\n      \"other_groups\": [\"Array&lt;Int&gt; - List of other Group IDs for this OrgUnit Type\"],\n      \"created_at\": \"Timestamp\",\n      \"updated_at\": \"Timestamp\"\n    }\n  ]\n}\n</code></pre>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#400-bad-request_2","title":"400 - Bad request","text":"<ul> <li>One or more of the parameters provided couldn't be parsed</li> <li>One or more of the parameters provided couldn't be matched with the related resource (e.g.: unknown <code>project_id</code>)</li> <li>A given parameter was not recognized</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#401-unauthorized_3","title":"401 - Unauthorized","text":"<ul> <li>No authentication token or an invalid one was provided</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_change_request_configuration.html#403-forbidden_3","title":"403 - Forbidden","text":"<ul> <li>User doesn't have the proper permission to access this resource.</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html","title":"<code>OrgUnitChangeRequest</code> API","text":"<p>\"Change Requests\" can be submitted for an <code>OrgUnit</code> and then reviewed (approved or rejected).</p> <p>This API allows the DHIS2 Health pyramid to be updated using Iaso.</p> <p>The Django model that stores \"Change Requests\" is <code>OrgUnitChangeRequest</code>.</p>"},{"location":"pages/dev/reference/API/org_unit_registry.html#create-an-orgunitchangerequest-object-web-mobile-ia-2421","title":"Create an <code>OrgUnitChangeRequest</code> object - Web + Mobile (IA-2421)","text":"<ul> <li><code>POST /api/orgunits/changes/?app_id=\u2026</code></li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#permissions","title":"Permissions","text":"<ul> <li>User must be authenticated</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#query-parameters","title":"Query parameters","text":"<ul> <li><code>app_id</code>: String - Optional, project for which this is created.</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#body","title":"Body","text":"<pre><code>{\n  \"uuid\": \"UUID - Client generated UUID\",\n  \"org_unit_id\": \"String - id or UUID of the OrgUnit to change\",\n  \"new_parent_id\": \"String? - id or UUID of the parent OrgUnit, null to erase, omitted to ignore.\",\n  \"new_name\": \"String? - Name of the OrgUnit, \\\"\\\" (empty string) to erase, omitted to ignore.\",\n  \"new_org_unit_type_id\": \"Int? - id of the OrgUnitType, null to erase, omitted to ignore.\",\n  \"new_groups\": \"Array of Group ids? - empty array to erase, omitted to ignore.\",\n  \"new_location\": {\n    \"\": \"New geopoint for the OrgUnit, null to erase, omitted to ignore.\",\n    \"latitude\": \"Double - New latitude of the OrgUnit\",\n    \"longitude\": \"Double - New longitude of the OrgUnit\",\n    \"altitude\": \"Double - New altitude of the OrgUnit\"\n  },\n  \"new_location_accuracy\": \"Double - New accuracy of the OrgUnit, null to erase, omitted to ignore.\",\n  \"new_opening_date\": \"Timestamp, null to erase, omitted to ignore.\",\n  \"new_closed_date\": \"Timestamp, null to erase, omitted to ignore.\",\n  \"new_reference_instances\": \"Array of instance ids or UUIDs? - empty array to erase, omitted to ignore.\"\n}\n</code></pre>"},{"location":"pages/dev/reference/API/org_unit_registry.html#possible-responses","title":"Possible responses","text":""},{"location":"pages/dev/reference/API/org_unit_registry.html#201-created","title":"201 - Created","text":""},{"location":"pages/dev/reference/API/org_unit_registry.html#400-bad-request","title":"400 - Bad request","text":"<ul> <li>A not nullable field was null or omitted</li> <li>A <code>String</code> field has an empty value</li> <li><code>new_parent_id</code> is not a valid OrgUnit</li> <li><code>new_org_unit_type_id</code> is not a valid OrgUnitType</li> <li>One of the <code>new_groups</code> id is not a valid Group</li> <li><code>new_reference_instances</code> only one reference instance can exist by org_unit/form pair</li> <li><code>new_org_unit_type_id</code> is not part of the user account</li> <li><code>new_closed_date</code> must be later than <code>new_opening_date</code></li> <li><code>new_parent_id</code> and <code>org_unit_id</code> must have the same version</li> <li><code>new_parent_id</code> is already a child of <code>org_unit_id</code></li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#401-unauthorized","title":"401 - Unauthorized","text":"<ul> <li>No authentication token or an invalid one was provided</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#404-not-found","title":"404 - Not found","text":"<ul> <li>one or more of <code>new_reference_instances</code> ids is not found</li> <li><code>new_parent_id</code> is not found</li> <li><code>new_org_unit_type_id</code> is not found</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#list-orgunitchangerequest-objects-web-only-ia-2422","title":"List <code>OrgUnitChangeRequest</code> objects - Web only (IA-2422)","text":"<ul> <li><code>GET /api/orgunits/changes/</code></li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#permissions_1","title":"Permissions","text":"<ul> <li>User must be authenticated</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#query-parameters_1","title":"Query parameters","text":"<ul> <li><code>page</code>: Int (optional) - Current page (default: 1)</li> <li><code>limit</code>: Int (optional) - Number of entities returned by page (default: 20)</li> <li><code>org_unit_id</code>: Int (optional) - Id of the OrgUnit to which the changes apply (default: null)</li> <li><code>org_unit_type_id</code>: Int (optional) - Id of the OrgUnitType to filter on, either the old OrgUnitType before the change or the new one after the change (default: null)</li> <li><code>status</code>: Array&gt; (optional) - One of <code>new</code>, <code>validated</code>, <code>rejected</code> to filter the requests (default: null)<ul> <li>can be combined, e.g. <code>&amp;status=rejected&amp;status=new</code></li> </ul> <li><code>parent_id</code>: Int (optional) - Id of the old parent OrgUnit to filter on, before the change (default: null)</li> <li><code>project</code>: Int (optional) - Id of the project to filter on.</li> <li><code>groups</code>: List of int, comma separated (optional) - Ids of the old groups to filter on, before the change (default: null)<ul> <li>e.g. <code>&amp;groups=1847,1846</code></li> </ul> </li> <li><code>forms</code>: List of int, comma separated (optional) - Ids of the old forms to filter on, before the change (default: null)<ul> <li>e.g. <code>&amp;forms=12,34</code></li> </ul> </li> <li><code>users</code>: List of int, comma separated (optional) - Ids of the users who either created or last updated the change request (default: null)<ul> <li>e.g. <code>&amp;users=56,78</code></li> </ul> </li> <li><code>user_roles</code>: List of int, comma separated (optional) - Ids of the old user roles to filter on, specifically the roles associated with the user who created the change request (default: null)<ul> <li>e.g. <code>&amp;user_roles=90,123</code></li> </ul> </li> <li><code>with_location</code>: String (optional) - Filters the change requests based on the presence (<code>\"true\"</code>) or absence (<code>\"false\"</code>) of an old location, before the change (default: null)<ul> <li>e.g. <code>&amp;with_location=true</code></li> </ul> </li>"},{"location":"pages/dev/reference/API/org_unit_registry.html#possible-responses_1","title":"Possible responses","text":""},{"location":"pages/dev/reference/API/org_unit_registry.html#200-ok","title":"200 - OK","text":"<pre><code>{\n  \"count\": \"Long\",\n  \"has_next\": \"Boolean\",\n  \"has_previous\": \"Boolean\",\n  \"page\": \"Long\",\n  \"pages\": \"Long\",\n  \"limit\": \"Long\",\n  \"results\": [\n    {\n      \"id\": \"Int - id in the database\",\n      \"uuid\": \"UUID - uuid in the database\",\n      \"org_unit_id\": \"Int - id of the OrgUnit\",\n      \"org_unit_uuid\": \"UUID - uuid of the OrgUnit\",\n      \"org_unit_name\": \"String - name of the OrgUnit\",\n      \"org_unit_type_id\": \"Int - id of the current OrgUnitType\",\n      \"org_unit_type_name\": \"String - name of the current OrgUnitType\",\n      \"status\": \"Enum&lt;Status&gt; - one of `new`, `validated`, `rejected`\",\n      \"groups\": [\n        {\n          \"id\": \"Int - id of the Group\",\n          \"name\": \"String - name of the Group\"\n        }\n      ],\n      \"requested_fields\": \"Array&lt;String&gt; - name of the properties that were requested to change\",\n      \"approved_fields\": \"Array&lt;String&gt;? - name of the properties that were approved to change\",\n      \"rejection_comment\": \"String? - Comment about why the changes were rejected\",\n      \"created_by\": {\n        \"id\": \"Int - id of the User who created that request\",\n        \"username\": \"String?\",\n        \"first_name\": \"String?\",\n        \"last_name\": \"String?\"\n      },\n      \"created_at\": \"Timestamp\",\n      \"updated_by\": {\n        \"\": \"May be null\",\n        \"id\": \"Int - id of the User\",\n        \"username\": \"String?\",\n        \"first_name\": \"String?\",\n        \"last_name\": \"String?\"\n      },\n      \"updated_at\": \"Timestamp?\"\n    }\n  ]\n}\n</code></pre>"},{"location":"pages/dev/reference/API/org_unit_registry.html#400-bad-request_1","title":"400 - Bad request","text":"<ul> <li><code>page</code> or <code>limit</code> cannot be parsed to a correct integer value</li> <li>One or more of the parameters provided couldn't be parsed</li> <li>One or more of the parameters provided couldn't matched to the related resource (E.g.: unknown parent_id)</li> <li>A parameter was given that is not recognized</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#401-unauthorized_1","title":"401 - Unauthorized","text":"<ul> <li>No authentication token or an invalid one was provided</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#403-forbidden","title":"403 - Forbidden","text":"<ul> <li>User doesn't have the proper permission to access this resource.</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#list-orgunitchangerequest-objects-mobile-only-ia-2425","title":"List <code>OrgUnitChangeRequest</code> objects - Mobile only (IA-2425)","text":"<ul> <li><code>GET /api/mobile/orgunits/changes/?app_id=\u2026</code></li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#permissions_2","title":"Permissions","text":"<ul> <li>User must be authenticated</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#query-parameter","title":"Query parameter","text":"<ul> <li><code>app_id</code>: String - Must be provided, project for which this is queried.</li> <li><code>last_sync</code>: DateString - May be null or omitted. Limits the results to everything that was modified after this DateString<ul> <li><code>last_sync</code> filter is built with <code>django.utils.dateparse.parse_datetime</code> and allows:<ul> <li><code>&amp;last_sync=2023-09-26T17:21:22.921692Z</code></li> <li><code>&amp;last_sync=2021-09-26T17:21:22Z</code></li> <li><code>&amp;last_sync=2021-09-26T17:21:22</code></li> <li><code>&amp;last_sync=2021-09-26T17:21</code></li> </ul> </li> </ul> </li> <li><code>page</code>: Int (optional) - Current page (default: 1)</li> <li><code>limit</code>: Int (optional) - Number of entities returned by page (default: 20)</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#possible-responses_2","title":"Possible responses","text":""},{"location":"pages/dev/reference/API/org_unit_registry.html#200-ok_1","title":"200 - OK","text":"<pre><code>{\n  \"count\": \"Long\",\n  \"has_next\": \"Boolean\",\n  \"has_previous\": \"Boolean\",\n  \"page\": \"Long\",\n  \"pages\": \"Long\",\n  \"limit\": \"Long\",\n  \"results\": [\n    {\n      \"id\": \"Int - id in the database\",\n      \"uuid\": \"UUID - uuid in the database\",\n      \"org_unit_id\": \"Int - id of the OrgUnit\",\n      \"org_unit_uuid\": \"UUID - uuid of the OrgUnit\",\n      \"status\": \"Enum&lt;Status&gt; - one of `new`, `validated`, `rejected`\",\n      \"approved_fields\": \"Array&lt;String&gt;? - name of the properties that were approved to change\",\n      \"rejection_comment\": \"String? - Comment about why the changes were rejected\",\n      \"created_at\": \"Timestamp in double\",\n      \"updated_at\": \"Timestamp in double\",\n      \"new_parent_id\": \"String? - id or UUID of the parent OrgUnit, may be null or omitted.\",\n      \"new_name\": \"String? - Name of the OrgUnit, may be null or omitted.\",\n      \"new_org_unit_type_id\": \"Int? - id of the OrgUnitType, may be null or omitted\",\n      \"new_groups\": \"Array of Group ids? - can be empty, null or omitted. Empty means we want to remove all values\",\n      \"new_location\": {\n        \"\": \"New geopoint for the OrgUnit, may be null or omitted\",\n        \"latitude\": \"Double - New latitude of the OrgUnit\",\n        \"longitude\": \"Double - New longitude of the OrgUnit\",\n        \"altitude\": \"Double - New altitude of the OrgUnit\"\n      },\n      \"new_location_accuracy\": \"Double - New accuracy of the OrgUnit\",\n      \"new_opening_date\": \"Timestamp in double\",\n      \"new_closed_date\": \"Timestamp in double\",\n      \"new_reference_instances\": [\n        {\n          \"id\": \"Int\",\n          \"uuid\": \"UUID - provided by the client\",\n          \"form_id\": \"Int\",\n          \"form_version_id\": \"Int\",\n          \"created_at\": \"Timestamp in double\",\n          \"updated_at\": \"Timestamp in double\",\n          \"json\": \"JSONObject - contains the key/value of the instance\"\n        }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"pages/dev/reference/API/org_unit_registry.html#400-bad-request_2","title":"400 - Bad request","text":"<ul> <li><code>app_id</code> was not provided</li> <li><code>page</code> or <code>limit</code> cannot be parsed to a correct integer value</li> <li><code>last_sync</code> cannot be parsed to a correct date time.</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#401-unauthorized_2","title":"401 - Unauthorized","text":"<ul> <li>No authentication token or an invalid one was provided</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#get-an-orgunitchangerequest-object-web-only-ia-2423","title":"Get an <code>OrgUnitChangeRequest</code> object - Web only (IA-2423)","text":"<p><code>GET /api/orgunits/changes/{id}/</code></p>"},{"location":"pages/dev/reference/API/org_unit_registry.html#permissions_3","title":"Permissions","text":"<ul> <li>User must be authenticated</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#possible-responses_3","title":"Possible responses","text":""},{"location":"pages/dev/reference/API/org_unit_registry.html#200-ok_2","title":"200 - OK","text":"<pre><code>{\n  \"id\": \"Int - id in the database\",\n  \"uuid\": \"UUID - uuid in the database\",\n  \"status\": \"Enum&lt;Status&gt; - one of `new`, `validated`, `rejected`\",\n  \"created_by\": {\n    \"id\": \"Int - id of the User who created that request\",\n    \"username\": \"String?\",\n    \"first_name\": \"String?\",\n    \"last_name\": \"String?\"\n  },\n  \"created_at\": \"Timestamp\",\n  \"updated_by\": {\n    \"\": \"May be null\",\n    \"id\": \"Int - id of the User who updated that request\",\n    \"username\": \"String?\",\n    \"first_name\": \"String?\",\n    \"last_name\": \"String?\"\n  },\n  \"updated_at\": \"Timestamp?\",\n  \"requested_fields\": \"Array&lt;String&gt; - name of the properties that were requested to change\",\n  \"approved_fields\": \"Array&lt;String&gt;? - name of the properties that were approved to change\",\n  \"rejection_comment\": \"String? - Comment about why the changes were rejected\",\n  \"org_unit\": {\n    \"id\": \"Int - id in the database\",\n    \"parent\": {\n      \"id\": \"Int - id of the parent OrgUnit\",\n      \"name\": \"String - name of the parent OrgUnit\"\n    },\n    \"name\": \"String - Name of the OrgUnit.\",\n    \"org_unit_type\": {\n      \"id\": \"Int - id of the OrgUnitType\",\n      \"name\": \"String - name of the OrgUnitType\",\n      \"short_name\": \"String - short name of the OrgUnitType\"\n    },\n    \"groups\": [\n      {\n        \"id\": \"Int - id of the Group\",\n        \"name\": \"String - name of the Group\"\n      }\n    ],\n    \"location\": {\n      \"\": \"Geopoint for the OrgUnit\",\n      \"latitude\": \"Double - New latitude of the OrgUnit\",\n      \"longitude\": \"Double - New longitude of the OrgUnit\",\n      \"altitude\": \"Double - New altitude of the OrgUnit\"\n    },\n    \"opening_date\": \"Timestamp?\",\n    \"closed_date\": \"Timestamp?\",\n    \"reference_instances\": [\n      \"Array of form objects - can be empty\",\n      {\n        \"id\": \"Int - id in the database\",\n        \"form_id\": \"id of the form\",\n        \"form_name\": \"Name of the form\",\n        \"values\": [\n          {\n            \"key\": \"String\",\n            \"label\": \"String or translated object\",\n            \"value\": \"String\"\n          }\n        ]\n      }\n    ]\n  },\n  \"new_parent\": {\n    \"\": \"May be null\",\n    \"id\": \"Int - id of the new parent OrgUnit in the database\",\n    \"name\": \"String? - name of the new parent OrgUnit\"\n  },\n  \"new_name\": \"String? - New name of the OrgUnit, may be null or omitted\",\n  \"new_org_unit_type\": {\n    \"\": \"May be null\",\n    \"id\": \"Int? - id of the new OrgUnitType\",\n    \"name\": \"String? - name of the new OrgUnitType\",\n    \"short_name\": \"String? - short name of the new OrgUnitType\"\n  },\n  \"new_groups\": [\n    {\n      \"id\": \"Int - id of the Group\",\n      \"name\": \"String - name of the Group\"\n    }\n  ],\n  \"new_location\": {\n    \"\": \"New GeoPoint? for the OrgUnit, may be null or omitted\",\n    \"latitude\": \"Double - New latitude of the OrgUnit\",\n    \"longitude\": \"Double - New longitude of the OrgUnit\",\n    \"altitude\": \"Double - New altitude of the OrgUnit\"\n  },\n  \"new_location_accuracy\": \"Double? - New accuracy of the OrgUnit\",\n  \"new_opening_date\": \"Timestamp?\",\n  \"new_closed_date\": \"Timestamp?\",\n  \"new_reference_instances\": [\n    \"Array of form objects? - may be null or omitted, cannot be empty\",\n    {\n      \"id\": \"Int - id in the database\",\n      \"form_id\": \"id of the form\",\n      \"form_name\": \"Name of the form\",\n      \"values\": [\n        {\n          \"key\": \"String\",\n          \"label\": \"String or translated object\",\n          \"value\": \"String\"\n        }\n      ]\n    }\n  ],\n  \"old_name\": \"String? - Old name of the OrgUnit, may be an empty\",\n  \"old_org_unit_type\": {\n    \"\": \"May be null\",\n    \"id\": \"Int? - id of the old OrgUnitType\",\n    \"name\": \"String? - name of the old OrgUnitType\",\n    \"short_name\": \"String? - short name of the old OrgUnitType\"\n  },\n  \"old_groups\": [\n    \"Array of old groups objects? - may be empty\",\n    {\n      \"id\": \"Int - id of the Group\",\n      \"name\": \"String - name of the Group\"\n    }\n  ],\n  \"old_location\": {\n    \"\": \"Old GeoPoint? for the OrgUnit, may be null\",\n    \"latitude\": \"Double - New latitude of the OrgUnit\",\n    \"longitude\": \"Double - New longitude of the OrgUnit\",\n    \"altitude\": \"Double - New altitude of the OrgUnit\"\n  },\n  \"old_opening_date\": \"Timestamp? - may be null\",\n  \"old_closed_date\": \"Timestamp? - may be null\",\n  \"old_reference_instances\": [\n    \"Array of old form instance objects? - may be empty\",\n    {\n      \"id\": \"Int - id in the database\",\n      \"form_id\": \"id of the form\",\n      \"form_name\": \"Name of the form\",\n      \"values\": [\n        {\n          \"key\": \"String\",\n          \"label\": \"String or translated object\",\n          \"value\": \"String\"\n        }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"pages/dev/reference/API/org_unit_registry.html#400-bad-request_3","title":"400 - Bad request","text":"<ul> <li>One or more of the parameters provided couldn't be parsed</li> <li>One or more of the parameters provided couldn't matched to the related resource (E.g.: unknown parent_id)</li> <li>A parameter was given that is not recognized</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#401-unauthorized_3","title":"401 - Unauthorized","text":"<ul> <li>No authentication token or an invalid one was provided</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#403-forbidden_1","title":"403 - Forbidden","text":"<ul> <li>User doesn't have the proper permission to access this resource.</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#approve-or-reject-an-orgunitchangerequest-web-only-ia-2424","title":"Approve or reject an <code>OrgUnitChangeRequest</code> - Web only (IA-2424)","text":"<p><code>PATCH /api/orgunits/changes/{id}/</code></p> <p>API to change the status of on change request.</p>"},{"location":"pages/dev/reference/API/org_unit_registry.html#permissions_4","title":"Permissions","text":"<ul> <li>User must be authenticated</li> <li>User must have the <code>ORG_UNITS_CHANGE_REQUEST_REVIEW</code> permission</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#body_1","title":"Body","text":"<pre><code>{\n  \"status\": \"Enum&lt;Status&gt; - One of `validated` or `rejected`\",\n  \"approved_fields\": \"Array&lt;Enum&lt;Field&gt;&gt;? - name of the properties that were approved to change\",\n  \"rejection_comment\": \"String? - Comment about why the changes were rejected\"\n}\n</code></pre>"},{"location":"pages/dev/reference/API/org_unit_registry.html#possible-responses_4","title":"Possible responses","text":""},{"location":"pages/dev/reference/API/org_unit_registry.html#204-no-content","title":"204 - No content","text":"<p>Change were applied successfully</p>"},{"location":"pages/dev/reference/API/org_unit_registry.html#400-bad-request_4","title":"400 - Bad request","text":"<ul> <li><code>status</code> of the change to be patched is not <code>new</code></li> <li><code>status</code> must be <code>approved</code> or <code>rejected</code></li> <li><code>status</code> was <code>validated</code> but <code>approved_fields</code> was null, omitted or empty: at least one <code>approved_fields</code> must be provided</li> <li><code>approved_fields</code> contains one or more unknown fields</li> <li><code>status</code> was <code>rejected</code> but <code>rejection_comment</code> was null, omitted or empty: a <code>rejection_comment</code> must be provided</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#list-reference_instances-objects-for-a-given-orgunit-mobile-only-ia-2420","title":"List <code>reference_instances</code> objects for a given <code>OrgUnit</code> - Mobile only (IA-2420)","text":"<p><code>GET /api/mobile/orgunits/{id or UUID}/reference_instances?app_id=\u2026</code></p> <p>Returns <code>Instance</code> objects marked as <code>reference_instances</code> for an <code>OrgUnit</code> from newest to oldest.</p>"},{"location":"pages/dev/reference/API/org_unit_registry.html#permission","title":"Permission","text":"<ul> <li>Same as downloading instances</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#query-parameters_2","title":"Query parameters","text":"<ul> <li><code>page</code>: Int (optional) - Current page (default: 1)</li> <li><code>limit</code>: Int (optional) - Number of entities returned by page (default: 20)</li> <li><code>app_id</code>: String - project for which this is queried.</li> <li><code>last_sync</code>: DateString - May be null or omitted. Limits the results to everything that was modified after this DateString<ul> <li><code>last_sync</code> filter is built with <code>django.utils.dateparse.parse_datetime</code> and allows:<ul> <li><code>&amp;last_sync=2023-09-26T17:21:22.921692Z</code></li> <li><code>&amp;last_sync=2021-09-26T17:21:22Z</code></li> <li><code>&amp;last_sync=2021-09-26T17:21:22</code></li> <li><code>&amp;last_sync=2021-09-26T17:21</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#possible-response","title":"Possible response","text":""},{"location":"pages/dev/reference/API/org_unit_registry.html#200-ok_3","title":"200 - OK","text":"<pre><code>{\n  \"count\": \"Long\",\n  \"instances\": [\n    {\n      \"id\": \"Int\",\n      \"uuid\": \"UUID - provided by the client\",\n      \"form_id\": \"Int\",\n      \"form_version_id\": \"Int\",\n      \"created_at\": \"Timestamp in double\",\n      \"updated_at\": \"Timestamp in double\",\n      \"json\": \"JSONObject - contains the key/value of the instance\"\n    }\n  ],\n  \"has_next\": \"Boolean\",\n  \"has_previous\": \"Boolean\",\n  \"page\": \"Long\",\n  \"pages\": \"Long\",\n  \"limit\": \"Long\"\n}\n</code></pre>"},{"location":"pages/dev/reference/API/org_unit_registry.html#400-bad-request_5","title":"400 - Bad request","text":"<ul> <li><code>app_id</code> was not provided</li> <li><code>page</code>, <code>limit</code> or <code>version_count</code> cannot be parsed to a correct integer value</li> <li><code>last_sync</code> cannot be parsed to a correct date time.</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#401-unauthorized_4","title":"401 - Unauthorized","text":"<ul> <li>No authentication token or an invalid one was provided (if needed)</li> </ul>"},{"location":"pages/dev/reference/API/org_unit_registry.html#403-forbidden_2","title":"403 - Forbidden","text":"<ul> <li>User doesn't have the proper permission to access this resource (if needed)</li> </ul>"},{"location":"pages/dev/reference/API/payments/payments.html","title":"<code>PaymentStatus</code> API","text":"<p>Mock-ups</p> <p>This API allows the status of payments linked to multiple <code>OrgUnitChangeRequest</code> by the same user to be updated and queried.</p> <p>The Django model that stores \"Payment Status\" is <code>PaymentStatus</code>.</p> <p>The <code>PaymentStatus</code> model has a <code>status</code> field which can have one of the following values:</p> <ul> <li><code>PENDING</code>: This is the default status. It indicates that the payment is yet to be processed.</li> <li><code>SENT</code>: This status indicates that the payment has been processed and sent.</li> <li><code>REJECTED</code>: This status indicates that the payment was not successful and has been rejected.</li> </ul> <p>These statuses are stored as a list of tuples in the <code>STATUS_CHOICES</code> field.</p>"},{"location":"pages/dev/reference/API/payments/payments.html#get-a-paymentstatus-list","title":"Get a <code>PaymentStatus</code> list","text":""},{"location":"pages/dev/reference/API/payments/payments.html#permissions","title":"Permissions","text":"<ul> <li>User must be authenticated</li> <li>User needs <code>iaso_payments</code> permission</li> </ul>"},{"location":"pages/dev/reference/API/payments/payments.html#query-parameters-filters","title":"Query Parameters - Filters","text":"<ul> <li><code>page</code>: Int (optional) - Specifies the current page number. If not provided, the default value is 1.</li> <li><code>order</code>: String (optional) - Specifies the order in which the results should be returned. If not provided, the default ordering value is <code>id</code>.</li> <li><code>limit</code>: Int (optional) - Defines the number of entities to be returned per page. The default value is 20 if not specified.</li> <li><code>user_ids</code>: String (optional) - A comma-separated list of User IDs associated with the payments</li> <li>Example: <code>&amp;user_ids=10,9</code></li> <li><code>user_role_ids</code>: String (optional) - A comma-separated list of User Role IDs associated with the payments</li> <li>Example: <code>&amp;user_role_ids=10,9</code></li> <li><code>org_unit_id</code>: Int (optional) - The ID of the parent organization unit linked to the change requests. This should also include child units.</li> <li><code>from_date</code>: Date - 'YYYY-MM-DD' (optional) - The start date for when the change request has been validated. </li> <li><code>to_date</code>: Date - 'YYYY-MM-DD' (optional) - The end date for when the change request has been validated.</li> </ul>"},{"location":"pages/dev/reference/API/payments/payments.html#possible-responses","title":"Possible responses","text":""},{"location":"pages/dev/reference/API/payments/payments.html#200-ok","title":"200 - OK","text":"<pre><code>{\n  \"count\": \"Long\",\n  \"has_next\": \"Boolean\",\n  \"has_previous\": \"Boolean\",\n  \"page\": \"Long\",\n  \"pages\": \"Long\",\n  \"limit\": \"Long\",\n  \"results\": [\n    \"id\": \"Int - unique id\",\n    \"status\": \"String - PENDING or SENT or REJECTED\",\n    \"change_requests\": [\n      {\n        \"id\": \"Int - change request unique id\",\n        \"org_unit_id\": \"String - id or UUID of the OrgUnit to change\",\n      }\n    ],\n    \"created_by\": {\n      \"id\": \"Int - id of the User who created that payment\",\n      \"username\": \"String - username of user\",\n      \"first_name\": \"String - first name of user\",\n      \"last_name\": \"String - last name of user\",\n    },\n    \"created_at\": \"Timestamp\",\n    \"updated_by\": {\n      \"id\": \"Int - id of the User who updated that payment\",\n      \"username\": \"String - username of user\",\n      \"first_name\": \"String - first name of user\",\n      \"last_name\": \"String - last name of user\",\n    },\n    \"updated_at\": \"Timestamp\",\n    \"user\": {\n        \"id\": \"Int - user unique id\",\n        \"username\": \"String - username of user\",\n        \"first_name\": \"String - first name of user\",\n        \"last_name\": \"String - last name of user\",\n        \"user_role_id\": \"Int - user role id if one\",\n        \"user_role_name\": \"String - user role name if one\",\n        \"telephone\": \"String? - This type of field should be specified\",\n    },\n  ]\n}\n</code></pre>"},{"location":"pages/dev/reference/API/payments/payments.html#400-bad-request","title":"400 - Bad request","text":"<ul> <li><code>page</code> or <code>limit</code> cannot be parsed to a correct integer value</li> </ul>"},{"location":"pages/dev/reference/API/payments/payments.html#401-unauthorized","title":"401 - Unauthorized","text":"<ul> <li>No authentication token or an invalid one was provided</li> </ul>"},{"location":"pages/dev/reference/API/payments/payments.html#403-forbidden","title":"403 - Forbidden","text":"<ul> <li>User doesn't have the proper permission to access this resource.</li> </ul>"},{"location":"pages/dev/reference/API/payments/payments.html#404-not-found","title":"404 - Not found","text":"<ul> <li>payment not fount</li> <li><code>user_id</code>, <code>user_role_id</code>, <code>org_unit_id</code> not found</li> </ul>"},{"location":"pages/dev/reference/API/payments/payments.html#model","title":"Model","text":"<pre><code>class PaymentStatus(models.Model):\n    \"\"\"\n    Model to store the status of payments linked to multiple OrgUnitChangeRequest by the same user.\n    \"\"\"\n\n    class Statuses(models.TextChoices):\n        PENDING = \"pending\", _(\"Pending\")\n        SENT = \"sent\", _(\"Sent\")\n        REJECTED = \"rejected\", _(\"Rejected\")\n\n    status = models.CharField(choices=Statuses.choices, default=Statuses.PENDING, max_length=40)\n    change_requests = models.ManyToManyField(OrgUnitChangeRequest, related_name=\"payment_statuses\")\n    user = models.ForeignKey(User, on_delete=models.CASCADE, related_name=\"payment_statuses\")\n    created_by = models.ForeignKey(User, null=True, blank=True, on_delete=models.SET_NULL, related_name=\"payment_created_set\")\n    updated_by = models.ForeignKey(User, null=True, blank=True, on_delete=models.SET_NULL, related_name=\"payment_updated_set\")\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n</code></pre>"},{"location":"pages/dev/reference/API/payments/payments.html#remarks","title":"Remarks","text":"<ol> <li> <p>Who creates the payments? Typically, a payment is created when a user initiates a transaction. This could be done automatically when a change request is made or manually by an admin user. The creation of a payment could be triggered in the backend code where the change request is processed.</p> </li> <li> <p>Marking change requests as paid: We could add a payment_status field to the OrgUnitChangeRequest model. This field would reference the PaymentStatus of the associated payment. When a payment is processed, We can update this field accordingly.</p> </li> </ol>"},{"location":"pages/dev/reference/analytics/plausible-setup.html","title":"Plausible Analytics Setup","text":"<p>This guide explains how to set up and configure Plausible analytics in Iaso.</p>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#overview","title":"Overview","text":"<p>Iaso supports Plausible analytics integration for tracking user activity and account usage. The system automatically generates analytics scripts and tracks custom events with user and account information.</p>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#analytics-levels","title":"Analytics Levels","text":"<p>The system provides different levels of analytics tracking:</p> <ol> <li>Basic Tracking: Page views for all users (domain only)</li> <li>Enhanced Tracking: Custom events with user/account data for authenticated users</li> <li>Future: Custom analytics scripts for specific customer requirements</li> </ol>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#prerequisites","title":"Prerequisites","text":"<ul> <li>A Plausible account and subscription</li> <li>Access to your Iaso instance</li> <li>Domain name for your Iaso instance</li> </ul>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#step-1-enable-analytics","title":"Step 1: Enable Analytics","text":""},{"location":"pages/dev/reference/analytics/plausible-setup.html#environment-variable","title":"Environment Variable","text":"<p>Add the following environment variable to enable analytics:</p> <pre><code>ENABLE_ANALYTICS=true\n</code></pre> <p>Docker Compose:</p> <pre><code># docker-compose.yml\nservices:\n  iaso:\n    environment:\n      ENABLE_ANALYTICS: \"true\"\n</code></pre> <p>Environment File:</p> <pre><code># .env\nENABLE_ANALYTICS=true\n</code></pre>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#step-2-add-your-domain-to-plausible","title":"Step 2: Add Your Domain to Plausible","text":"<ol> <li>Log into your Plausible dashboard</li> <li>Add a new site with your Iaso domain</li> <li>Enter your domain (e.g., <code>your-iaso-instance.com</code>)</li> <li>Save the site</li> </ol>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#step-3-configure-custom-properties","title":"Step 3: Configure Custom Properties","text":"<p>To see user and account data in your Plausible dashboard, you need to add custom properties:</p>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#required-custom-properties","title":"Required Custom Properties","text":"Property Name Type Description <code>username</code> String User's username <code>user_id</code> Number User's unique ID <code>account_name</code> String Account/organization name <code>account_id</code> Number Account's unique ID"},{"location":"pages/dev/reference/analytics/plausible-setup.html#how-to-add-custom-properties","title":"How to Add Custom Properties","text":"<ol> <li>Go to your site in Plausible</li> <li>Navigate to Settings \u2192 Custom Properties</li> <li>Click \"Add custom property\"</li> <li>Enter the property details:</li> <li>Name: <code>username</code></li> <li>Repeat for all properties</li> <li>Save each property</li> </ol>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#step-4-verify-setup","title":"Step 4: Verify Setup","text":""},{"location":"pages/dev/reference/analytics/plausible-setup.html#check-analytics-script","title":"Check Analytics Script","text":"<ol> <li>Enable analytics: <code>ENABLE_ANALYTICS=true</code></li> <li>Access your Iaso instance</li> <li>Log in as a user</li> <li>Open browser developer tools</li> <li>Check the page source for the Plausible script:    ```html   </li> </ol> <p>```</p>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#check-network-requests","title":"Check Network Requests","text":"<ol> <li>Open browser developer tools</li> <li>Go to Network tab</li> <li>Refresh the page</li> <li>Look for requests to <code>plausible.io</code></li> <li>Verify custom events are being sent</li> </ol>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#step-5-view-analytics-data","title":"Step 5: View Analytics Data","text":""},{"location":"pages/dev/reference/analytics/plausible-setup.html#custom-events","title":"Custom Events","text":"<p>In your Plausible dashboard, you'll see:</p> <ul> <li>Event Name: \"User Login\"</li> <li>Properties: All user and account details</li> <li>Timing: When users log in and access pages</li> </ul>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#dashboard-views","title":"Dashboard Views","text":"<p>You can create custom views to analyze:</p> <ul> <li>User Activity: Most active users</li> <li>Account Usage: Usage per account/organization</li> <li>Feature Usage: Which features are used most</li> <li>User Journeys: Individual user behavior patterns</li> </ul>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#plausible-filters-and-iaso-pages","title":"Plausible Filters and Iaso Pages","text":"<p>Iaso supports creating pages with raw HTML, Superset dashboards, or embedded Plausible dashboards. You can use Plausible's filtering capabilities to create targeted analytics views.</p>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#filtering-by-user-properties","title":"Filtering by User Properties","text":"<p>Plausible allows filtering results using URL parameters. You can create Iaso pages that show filtered analytics data:</p>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#filter-for-non-connected-pages","title":"Filter for Non-Connected Pages","text":"<p>To show only analytics for non-authenticated users (pages without user data):</p> <pre><code>https://plausible.io/your-domain.com?f=is,props:username,(none)\n</code></pre>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#filter-by-account","title":"Filter by Account","text":"<p>To show analytics for a specific account:</p> <pre><code>https://plausible.io/your-domain.com?f=is,props:account_id,123\n</code></pre>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#filter-by-username","title":"Filter by Username","text":"<p>To show analytics for a specific user:</p> <pre><code>https://plausible.io/your-domain.com?f=is,props:username,john_doe\n</code></pre>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#creating-iaso-pages-with-filtered-analytics","title":"Creating Iaso Pages with Filtered Analytics","text":""},{"location":"pages/dev/reference/analytics/plausible-setup.html#1-raw-html-page","title":"1. Raw HTML Page","text":"<p>Create a page with embedded Plausible dashboard:</p> <pre><code>&lt;iframe \n    src=\"https://plausible.io/your-domain.com?f=is,props:account_id,123\" \n    width=\"100%\" \n    height=\"600px\"\n    frameborder=\"0\"&gt;\n&lt;/iframe&gt;\n</code></pre>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#2-plausible-dashboard-page","title":"2. Plausible Dashboard Page","text":"<p>Create a dedicated analytics page:</p> <pre><code>&lt;!-- Full analytics dashboard --&gt;\n&lt;iframe \n    src=\"https://plausible.io/your-domain.com?f=is,props:username,(none)&amp;period=30d\" \n    width=\"100%\" \n    height=\"800px\"&gt;\n&lt;/iframe&gt;\n</code></pre>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#common-filter-patterns","title":"Common Filter Patterns","text":""},{"location":"pages/dev/reference/analytics/plausible-setup.html#account-specific-dashboards","title":"Account-Specific Dashboards","text":"<pre><code># Dashboard for specific account\nhttps://plausible.io/your-domain.com?f=is,props:account_id,678&amp;period=30d\n\n# Dashboard for account by name\nhttps://plausible.io/your-domain.com?f=is,props:account_name,WHO%20Country%20Office\n</code></pre>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#user-specific-views","title":"User-Specific Views","text":"<pre><code># Analytics for specific user\nhttps://plausible.io/your-domain.com?f=is,props:username,john_doe&amp;period=7d\n\n# Analytics for users in specific account\nhttps://plausible.io/your-domain.com?f=is,props:account_id,678&amp;f=is,props:username,(not%20none)\n</code></pre>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#anonymous-vs-authenticated-users","title":"Anonymous vs Authenticated Users","text":"<pre><code># Only anonymous users (non-connected pages)\nhttps://plausible.io/your-domain.com?f=is,props:username,(none)\n\n# Only authenticated users\nhttps://plausible.io/your-domain.com?f=is,props:username,(not%20none)\n</code></pre>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#filter-url-parameters","title":"Filter URL Parameters","text":"Parameter Description Example <code>f=is,props:username,(none)</code> Filter for anonymous users Non-connected pages <code>f=is,props:account_id,123</code> Filter by account ID Account-specific dashboard <code>f=is,props:account_name,WHO</code> Filter by account name Organization dashboard <code>f=is,props:user_id,456</code> Filter by user ID User-specific analytics <code>period=30d</code> Time period Last 30 days <code>period=7d</code> Time period Last 7 days <code>period=1m</code> Time period Last month"},{"location":"pages/dev/reference/analytics/plausible-setup.html#creating-multi-account-dashboards","title":"Creating Multi-Account Dashboards","text":"<p>For organizations managing multiple accounts, you can create comparison dashboards:</p> <pre><code>&lt;!-- Compare multiple accounts --&gt;\n&lt;iframe \n    src=\"https://plausible.io/your-domain.com?f=is,props:account_id,123&amp;f=is,props:account_id,456&amp;period=30d\" \n    width=\"100%\" \n    height=\"600px\"&gt;\n&lt;/iframe&gt;\n</code></pre>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#using-plausible-dashboards-in-iaso-pages","title":"Using Plausible Dashboards in Iaso Pages","text":"<p>To create analytics dashboards in Iaso pages, use the iframe option with a specific Plausible URL:</p> <pre><code>&lt;iframe \n    src=\"https://plausible.io/your-domain.com?f=is,props:account_id,123&amp;period=30d\" \n    width=\"100%\" \n    height=\"600px\"\n    frameborder=\"0\"&gt;\n&lt;/iframe&gt;\n</code></pre> <p>This allows you to embed filtered Plausible analytics directly into your Iaso pages.</p>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#configuration-options","title":"Configuration Options","text":""},{"location":"pages/dev/reference/analytics/plausible-setup.html#environment-variables","title":"Environment Variables","text":"Variable Default Description <code>ENABLE_ANALYTICS</code> <code>true</code> Enable/disable analytics globally"},{"location":"pages/dev/reference/analytics/plausible-setup.html#analytics-data-tracked","title":"Analytics Data Tracked","text":""},{"location":"pages/dev/reference/analytics/plausible-setup.html#page-views","title":"Page Views","text":"<ul> <li>All page visits are automatically tracked</li> <li>Domain is automatically detected from the request</li> </ul>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#custom-events-authenticated-users-only","title":"Custom Events (Authenticated Users Only)","text":"<ul> <li>Event: \"User Login\"</li> <li>Properties:</li> <li><code>username</code>: User's username</li> <li><code>user_id</code>: User's unique ID</li> <li><code>account_name</code>: Account/organization name</li> <li><code>account_id</code>: Account's unique ID</li> </ul>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#non-connected-pages","title":"Non-Connected Pages","text":"<p>For pages without user authentication (embeddable pages, public pages, etc.): - Only domain tracking: Basic page views are tracked - No user data: No custom events or user properties - Privacy-focused: Minimal data collection for anonymous users</p>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#privacy-and-security","title":"Privacy and Security","text":""},{"location":"pages/dev/reference/analytics/plausible-setup.html#data-privacy","title":"Data Privacy","text":"<ul> <li>No PII: Usernames are typically not personally identifiable</li> <li>Account Level: Focuses on organizational usage patterns</li> <li>GDPR Compliant: Plausible is privacy-focused by design</li> <li>No Cookies: Plausible doesn't use cookies</li> </ul>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#security-considerations","title":"Security Considerations","text":"<ul> <li>HTTPS Only: Analytics only works over HTTPS in production</li> <li>Domain Validation: Only tracks on the configured domain</li> <li>User Consent: Consider implementing user consent if required</li> </ul>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"pages/dev/reference/analytics/plausible-setup.html#analytics-not-working","title":"Analytics Not Working","text":"<ol> <li> <p>Check environment variable:    <code>bash    echo $ENABLE_ANALYTICS</code></p> </li> <li> <p>Verify domain in Plausible:</p> </li> <li>Ensure your domain is added to Plausible</li> <li> <p>Check for typos in the domain name</p> </li> <li> <p>Check browser console:</p> </li> <li>Look for JavaScript errors</li> <li> <p>Verify Plausible script is loading</p> </li> <li> <p>Check network requests:</p> </li> <li>Ensure requests to <code>plausible.io</code> are not blocked (i.e. by your ad blocker)</li> <li>Check for CORS issues</li> </ol>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#custom-properties-not-showing","title":"Custom Properties Not Showing","text":"<ol> <li>Verify property names: Must match exactly (case-sensitive)</li> <li>Check property types: Ensure correct data types</li> <li>Wait for data: Custom properties may take time to appear</li> <li>Check event data: Verify events are being sent with properties</li> </ol>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#development-testing","title":"Development Testing","text":"<p>For local development:</p> <ol> <li> <p>Use a test domain:    <code>bash    # In /etc/hosts    127.0.0.1 test-iaso.local</code></p> </li> <li> <p>Add test domain to Plausible:</p> </li> <li> <p>Add <code>test-iaso.local</code> as a site in Plausible</p> </li> <li> <p>Enable analytics locally:    <code>bash    ENABLE_ANALYTICS=true</code></p> </li> <li> <p>Access via test domain:    <code>http://test-iaso.local:8081</code></p> </li> </ol>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"pages/dev/reference/analytics/plausible-setup.html#custom-event-tracking","title":"Custom Event Tracking","text":"<p>You can extend the analytics system to track additional events:</p> <pre><code>// Example: Track feature usage\nwindow.plausible('Feature Used', {\n    props: {\n        feature: 'data_export',\n        username: 'user123',\n        account_name: 'WHO'\n    }\n});\n</code></pre>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#multiple-analytics-providers","title":"Multiple Analytics Providers","text":"<p>The system is designed to support multiple analytics providers. Future versions may include:</p> <ul> <li>Google Analytics</li> <li>Matomo</li> <li>Custom analytics solutions</li> </ul>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#custom-analytics-scripts-future-feature","title":"Custom Analytics Scripts (Future Feature)","text":"<p>The <code>analytics_script</code> field in the Account model is preserved for future use:</p> <ul> <li>Current: Not used in the new analytics system</li> <li>Future: Will allow customers to specify custom analytics scripts</li> <li>Implementation: Will be added in a future version</li> <li>Use Case: For customers who need specific analytics providers or configurations</li> </ul> <p>Note: The current system uses automatic Plausible script generation. Custom scripts will be implemented as an additional feature.</p>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#support","title":"Support","text":"<p>For issues with:</p> <ul> <li>Iaso Analytics Integration: Check this documentation</li> <li>Plausible Service: Contact Plausible support</li> <li>Custom Properties: Refer to Plausible documentation</li> </ul>"},{"location":"pages/dev/reference/analytics/plausible-setup.html#related-documentation","title":"Related Documentation","text":"<ul> <li>Environment Variables</li> <li>Docker Configuration</li> <li>Privacy Policy</li> </ul>"},{"location":"pages/dev/reference/audit/audit.html","title":"Audit","text":"<p>Allow keeping a history of modification done on a Model instance.</p> <p>It is not automatic, model that wish to implement this have to call log_modification manually when changed. Diff are stored in audit.Modification model.</p>"},{"location":"pages/dev/reference/background_tasks/background_tasks.html","title":"Background tasks &amp; worker","text":"<p>Iaso queue certains functions (task) for later execution, so they can run outside an HTTP request. This is used for functions that take a long time to execute so they don't canceled in the middle by a timeout of a connection closed. e.g: bulk import, modifications or export of OrgUnits.  Theses are the functions marked by the decorator @task_decorator, when called they get added to a Queue and get executed by a worker.</p> <p>The logic is based on a fork of the library django-beanstalk-worker from tolomea, please consult it's doc for reference.</p> <p>If you want to develop a new background task, the endpoint <code>/api/copy_version/</code> is a good example of how to create a task and to plug it to the api.</p> <p>To call a  function with the @task decorator, you need to pass it a User objects, in addition to the other function's arguments, this arg represent which user is launching the task. At execution time the task will receive a iaso.models.Task instance in argument that should be used to report progress. It's mandatory for the function, at the end of a successful execution to call task.report_success() to mark its proper completion.</p>"},{"location":"pages/dev/reference/campaigns/subactivities.html","title":"SubActivity and SubActivityScope Models and APIs","text":""},{"location":"pages/dev/reference/campaigns/subactivities.html#models","title":"Models","text":""},{"location":"pages/dev/reference/campaigns/subactivities.html#subactivity","title":"SubActivity","text":"<p>The <code>SubActivity</code> model represents a sub-activity within a round of a campaign. It has the following fields:</p> <ul> <li><code>round</code>: A foreign key to the <code>Round</code> model, representing the round to which the sub-activity belongs.</li> <li><code>name</code>: A string field representing the name of the sub-activity.</li> <li><code>age_unit</code>: A choice field representing the unit of age targeted by the sub-activity. The choices are \"Months\" and \"Years\".</li> <li><code>age_min</code>: An integer field representing the minimum age targeted by the sub-activity.</li> <li><code>age_max</code>: An integer field representing the maximum age targeted by the sub-activity.</li> <li><code>start_date</code>: A date field representing the start date of the sub-activity.</li> <li><code>end_date</code>: A date field representing the end date of the sub-activity.</li> </ul>"},{"location":"pages/dev/reference/campaigns/subactivities.html#subactivityscope","title":"SubActivityScope","text":"<p>The <code>SubActivityScope</code> model represents the scope of a sub-activity, including the selection of an organizational unit and the vaccines used. It has the following fields:</p> <ul> <li><code>group</code>: A one-to-one field to the <code>Group</code> model, representing the group of organizational units for the sub-activity.</li> <li><code>subactivity</code>: A foreign key to the <code>SubActivity</code> model, representing the sub-activity to which the scope belongs.</li> <li><code>vaccine</code>: A choice field representing the vaccine used in the sub-activity. The choices are \"mOPV2\", \"nOPV2\", and \"bOPV\".</li> </ul>"},{"location":"pages/dev/reference/campaigns/subactivities.html#apis","title":"APIs","text":"<p>The <code>SubActivity</code> API allows for the creation, retrieval, update, and deletion of sub-activities. The API endpoint is <code>/api/polio/campaigns_subactivities/</code>.</p>"},{"location":"pages/dev/reference/campaigns/subactivities.html#create","title":"Create","text":"<p>To create a new sub-activity, send a POST request to the endpoint with the following data:</p> <pre><code>{\n    \"round_number\": &lt;round_number&gt;,\n    \"campaign\": &lt;campaign_obr_name&gt;,\n    \"name\": &lt;subactivity_name&gt;,\n    \"start_date\": &lt;start_date&gt;,\n    \"end_date\": &lt;end_date&gt;,\n    \"scopes\": [\n        {\n            \"group\": {\n                \"name\": &lt;group_name&gt;,\n                \"org_units\": [&lt;org_unit_id&gt;]\n            },\n            \"vaccine\": &lt;vaccine_choice&gt;\n        }\n    ]\n}\n</code></pre>"},{"location":"pages/dev/reference/campaigns/subactivities.html#retrieve","title":"Retrieve","text":"<p>To retrieve all sub-activities, send a GET request to the endpoint. To retrieve a specific sub-activity, send a GET request to <code>/api/polio/campaigns_subactivities/&lt;subactivity_id&gt;/</code>.</p>"},{"location":"pages/dev/reference/campaigns/subactivities.html#update","title":"Update","text":"<p>To update a sub-activity, send a PUT request to <code>/api/polio/campaigns_subactivities/&lt;subactivity_id&gt;/</code> with the new data.</p>"},{"location":"pages/dev/reference/campaigns/subactivities.html#delete","title":"Delete","text":"<p>To delete a sub-activity, send a DELETE request to <code>/api/polio/campaigns_subactivities/&lt;subactivity_id&gt;/</code>.</p>"},{"location":"pages/dev/reference/campaigns/subactivities.html#permissions","title":"Permissions","text":"<p>Only authenticated users can interact with the <code>SubActivity</code> API. The user must belong to the same account as the campaign associated with the round of the sub-activity.</p>"},{"location":"pages/dev/reference/clamav/clamav.html","title":"ClamAV","text":""},{"location":"pages/dev/reference/clamav/clamav.html#description","title":"Description","text":"<p>ClamAV is an open-source antivirus that can be used by Iaso to scan files that are uploaded by users.</p> <p>It uses a local Unix socket or a TCP socket. Be careful about how the Iaso-ClamAV connection is configured, there are security risks.</p>"},{"location":"pages/dev/reference/clamav/clamav.html#local-clamav-server","title":"Local ClamAV server","text":"<p>This feature is experimental. For development, if you need a local ClamAV server, you can start one up in your docker compose by using the <code>docker/docker-compose-clamav.yml</code> configuration file.</p> <p>Replace your invocations of <code>docker compose</code> by <code>docker compose -f docker-compose.yml -f docker/docker-compose-clamav.yml</code>. You need to specify both config files. e.g. to launch the cluster:</p> <pre><code>docker compose -f docker-compose.yml -f docker/docker-compose-clamav.yml up\n</code></pre> <p>To start scanning files, you'll need to set two environment variables in Iaso: - <code>CLAMAV_ACTIVE</code> set to <code>True</code>, in order to tell the backend that file uploads must be scanned (default = <code>False</code>) - <code>CLAMAV_FQDN</code> set to the address that Iaso can use to reach your ClamAV instance (<code>localhost</code> in a local IASO installation without Docker, <code>clamav</code> in a IASO installation with Docker)</p> <p>Iaso and ClamAV will communicate over the default ClamAV port, <code>3310</code>, through a TCP socket. If you need to use another port, you'll need to edit the <code>docker/docker-compose-clamav.yml</code> file and provide the new port to Iaso through the <code>CLAMAV_PORT</code> environment variable.</p>"},{"location":"pages/dev/reference/data_model_glossary/data_model_glossary.html","title":"Data model glossary","text":"<p>IASO inspired its terminology both from ODK and from DHIS2. We will highlight some equivalences that might help you.</p> <p>This is not (yet) the complete Data Model, but here are the main concepts/model in Iaso:</p> <ul> <li>Iaso is multi tenant. Tenant are called and represented by the model <code>Account</code>. It represents roughly one client org or country. It also represents the natural limit of right for a user.</li> <li>Each Django's User has a linked Iaso <code>Profile</code> that link it to an <code>Account</code> and store extra parameters for the user.</li> <li>Each tenant can have multiple <code>Project</code>. Projects are linked to one android version App via the <code>app_id</code>. We use the link to control what a user can see from that app.</li> <li><code>DHIS2</code> is a standard server application and web UI in the industry to handle Health Data. Iaso can import and export data (forms and org unit) to it.</li> <li><code>OrgUnit</code> (Organizational Unit) is a Node of the GeoRegistry tree. e.g a particular Country, City or Hospital. each belonging to each other via a <code>parent</code> relationship.</li> <li>They can have a type <code>OrgUnitType</code> e.g. Country, City, Hospital</li> <li>they can belong to multiple <code>Group</code>, e.g. Urban Region or Campaign 2017</li> <li>DHIS2 has the concept of <code>Group</code> but not <code>Type</code> so when importing from a DHIS2 Instance all the type will be Unknown and OrgUnit will belong to group like <code>Clinic</code></li> <li><code>GroupSet</code> are Group of group. Used when we export Group to DHIS2</li> <li>OrgUnit may have a position in space, it can be an area, the  <code>geom</code> field is then used, or just a Point, the <code>location</code> field is then used.<ul> <li>It's technically possible to have both</li> <li>a OrgUnit may have no geographical info</li> <li>a OrgUnit may geographically be outside its parent.</li> </ul> </li> <li><code>DataSource</code> links OrgUnit and Group imported from the same source, e.g a DHIS2 instance, a CSV or a GeoPackage.</li> <li>A <code>source_ref</code> on the imported instance is used to keep the reference from the original source, so we can match it again in the future (when updating the import or exporting it back)</li> <li><code>SourceVersion</code> is used to keep each version separated. e.g each time we import from DHIS2 we create a new version.</li> <li>OrgUnit (for their parent) and Group should only reference other OrgUnit and Group in the same version. (This is not enforced everywhere yet)</li> <li><code>Task</code> are asynchronous function that will be run by a background worker in production. eg: Importing Data from DHIS2. see Worker section below for more info.</li> <li><code>Form</code> is the definition of a Form (list of question and their presentation).<ul> <li>The model contain the metadata, the actual definition is done in a <code>XSLForm</code> as an attached file.</li> <li>Form are linked to one or more Project. This is used to know which Form are presented in the Mobile App.</li> <li>Form can have multiple versions</li> </ul> </li> <li><code>Instance</code> or Form instance is the <code>Submission</code> of a form. A form that has actually been filed by a user.<ul> <li>Instance can be GeoTagged and/or linked to a OrgUnit</li> <li>Note: We are moving to use Submission everywhere in the UI, but it is still in progress. please submit PR.</li> <li>Submission cannot be done via the Iaso UI itself but through Enketo or the Mobile App.</li> </ul> </li> <li><code>APIImport</code> are used to log some request from the mobile app so we can replay them in case of error. See vector_control wiki</li> <li><code>audit.Modification</code> are used to keep a history of modification on some models (mainly orgunit). See audit wiki</li> <li><code>Link</code> are used to match two OrgUnit (in different sources or not) that should be the same in the real world. Links have a confidence score indicating how much we trust that the two OrgUnit are actually the same.</li> </ul> <p>They are usually generated via <code>AlgorithmRun</code>, or the matching is done in a Notebook and uploaded via the API.</p>"},{"location":"pages/dev/reference/doc_setup/doc_setup.html","title":"Doc setup","text":""},{"location":"pages/dev/reference/doc_setup/doc_setup.html#documentation-setup","title":"Documentation setup","text":"<p>Iaso's online documentation is built using mkDocs and deployed on Github pages. A CNAME record allows it to be available on docs.openiaso.com</p>"},{"location":"pages/dev/reference/doc_setup/doc_setup.html#mkdocs-setup","title":"mkDocs setup","text":"<p>The mkDocs build is configured in mkdocs.yml, at the root of the project The docs (markdown files) themselves as well as all other files related to mkdocs are located in the <code>/docs</code> folder</p> <p>The dependencies are in <code>/docs/requirements.txt</code>. The file has been generated using <code>pip-compile</code> and <code>/docs/requirements.in</code>, except for the plugin <code>mkdocs-static-i18n</code> which had its version upgarded manually.</p> <p>The markdown files follow the format <code>&lt;name&gt;.&lt;locale&gt;.md</code> to enable the localization plugin to display the right files</p> <p>The menu is defined in mkdocs.yml: - default menu is under <code>nav`` - french menu is under</code>plugins&gt;i18n&gt;languages&gt;fr&gt; nav`</p> <p>We had to duplicate the whole menu because we have a nested menu. On the flip side this can allow us to have an entirely different menu structure for each language if we wish to do so.</p>"},{"location":"pages/dev/reference/doc_setup/doc_setup.html#github-pages-setup","title":"Github pages setup","text":"<p>There is a <code>deploy_doc</code> Github action that will build and deploy the documentation when pushing on <code>main</code>.  The action itself will deploy the branch <code>gh-pages</code>. This in turn will trigger Github's own action to deploy the Github page.</p> <p>IMPORTANT: - There is a <code>CNAME</code> file in the <code>/docs</code> folder. Removing or altering it will break the redirection of <code>docs.openisao.com</code> to the Github page - The <code>gh-pages</code> branch should be left alone. It only contains the built documentation and none of the Iaso code</p>"},{"location":"pages/dev/reference/docker/docker.html","title":"Docker","text":""},{"location":"pages/dev/reference/docker/docker.html#run-commands-inside-the-docker-container","title":"Run commands inside the docker container","text":"<p>Each docker container uses the entrypoint.</p> <p>The <code>entrypoint.sh</code> script offers a range of commands to start services or run commands. The full list of commands can be seen in the script. The pattern to run a command is</p> <pre><code>docker compose run &lt;container-name&gt; &lt;entrypoint-command&gt; &lt;...args&gt;\n</code></pre> <p>The following are some examples:</p> <ul> <li>Run tests                    <code>docker compose exec iaso ./manage.py test</code></li> <li>Create a shell inside the container    <code>docker compose run iaso bash</code></li> <li>Run a shell command          <code>docker compose run iaso eval curl http://google.com</code></li> <li>Run Django manage.py         <code>docker compose exec iaso ./manage.py help</code></li> <li>Launch a python shell        <code>docker compose exec iaso ./manage.py shell</code></li> <li>Launch a postgresql shell    <code>docker compose exec iaso ./manage.py dbshell</code></li> <li>Create pending ORM migration files <code>docker compose exec iaso ./manage.py makemigrations</code></li> <li>Apply pending ORM migrations <code>docker compose exec iaso ./manage.py migrate</code></li> <li>Show ORM migrations          <code>docker compose exec iaso ./manage.py showmigrations</code></li> <li>To run a background worker   <code>docker compose run iaso manage tasks_worker</code></li> </ul>"},{"location":"pages/dev/reference/docker/docker.html#containers-and-services","title":"Containers and services","text":"<ul> <li>iaso       The python backend in Django</li> <li>webpack    The JS frontend in react</li> <li>db         PostgreSQL database</li> </ul> <p>All the container definitions for development can be found in <code>docker-compose.yml</code>.</p>"},{"location":"pages/dev/reference/docker/docker.html#docker-compose-run-vs-docker-compose-exec","title":"docker compose run vs. docker compose exec","text":"<p><code>docker compose run</code> launches a new docker container, <code>docker compose exec</code> launches a command in the existing container.</p> <p>So <code>run</code> will ensure the dependencies like the database are up before executing. <code>exec</code> main advantage is that it is faster but the containers must already be running (launched manually) </p> <p><code>run</code> will launch the entrypoint.sh script but exec will take a bash command to run which is why if you want to run the django manage.py you will need to use <code>run iaso manage</code> but <code>exec iaso ./manage.py</code></p> <p>Also take care that <code>run</code> unless evoked with the <code>--rm</code> will leave you with a lot of left over containers that take up disk space and need to be cleaned occasionally with <code>docker compose rm</code> to reclaim disk space.</p>"},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html","title":"Table of contents","text":"<p>Table of contents 2</p> <p>What are entities? 3</p> <p>How to create an entity? 3</p> <p>Enable the feature 3</p> <p>Create and upload the profile form 3</p> <p>Create the entity type 4</p> <p>Create an entity 4</p> <p>How to configure how we display an entity? 6</p> <p>In the web interface 6</p> <p>In the list 6</p> <p>In the details screen 7</p> <p>In the mobile application 7</p> <p>In the list 7</p> <p>In the details screen 8</p> <p>Searching for an entity 8</p> <p>On the web 8</p> <p>In the application 9</p> <p>What are workflows? 9</p> <p>Create a workflow 9</p> <p>Follow-ups and changes 10</p> <p>Follow-ups 10</p> <p>Changes 10</p> <p>Using values from the profile in subsequent forms 11</p> <p>Publishing workflows 11</p>"},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#what-are-entities","title":"What are entities?","text":"<p>We call an \u201cEntity\u201d anything that can move or be moved and that we want to track through time and Org Units. For example, a beneficiary, a car, a vaccination card, etc.</p> <p>To differentiate between different kinds of entities, Iaso has a concept of \u201cEntity Type\u201d.</p> <p>Iaso heavily relies on XLSForms, and entities are no exceptions. Therefore, an entity is represented by a submission to a form. This submission is referred to as the profile. The entity type defines which form has to be filled in.</p>"},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#how-to-create-an-entity","title":"How to create an entity?","text":""},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#enable-the-feature","title":"Enable the feature","text":"<p>In order to create an entity, your project must first enable the entity feature flag. You can set this flag either during its creation or by updating it later.</p> <p></p>"},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#create-and-upload-the-profile-form","title":"Create and upload the profile form","text":"<p>Using the sheet application of your choosing, create an XLSForm which will contain all the questions related to your entity that are either fixed (I.e., first name and last name) or can evolve through time (I.e., a program to which an entity can be affiliated to).</p> <p>Upload it on the server using the web application.</p> Note: The questions that can evolve through time should not be editable."},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#create-the-entity-type","title":"Create the entity type","text":"<p>In the entity types screen, click on the \u201cCREATE\u201d button. Give the entity type a name and select the newly uploaded form as a reference form:</p> <p></p> Note: We\u2019ll see later what \u201cList fields\u201d and \u201cDetail info fields\u201d are."},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#create-an-entity","title":"Create an entity","text":"<p>In the mobile application, make sure that the data has been refreshed and are up to date with the backend server. You will now be able to see the entity screen.</p> <p>At the moment, it is not possible to create an Entity from a web interface.</p> <p>Click the \u201cAdd\u201d button in the application.</p> <p></p> <p>Select the entity type you want to create.</p> <p></p> <p>You will be prompted to confirm your selection.</p> <p></p> <p>You can then fill out the form to finalize your first entity.</p>"},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#how-to-configure-how-we-display-an-entity","title":"How to configure how we display an entity?","text":"<p>Within the entity type\u2019s configuration, it is possible for administrators to define which questions are displayed within lists and within the details screen.</p> <p></p> <p>This impacts how the web and mobile applications display entities, as shown below.</p>"},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#in-the-web-interface","title":"In the web interface","text":""},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#in-the-list","title":"In the list","text":""},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#in-the-details-screen","title":"In the details screen","text":""},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#in-the-mobile-application","title":"In the mobile application","text":""},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#in-the-list_1","title":"In the list","text":""},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#in-the-details-screen_1","title":"In the details screen","text":""},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#searching-for-an-entity","title":"Searching for an entity","text":""},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#on-the-web","title":"On the web","text":"<p>In the beneficiary list, you can filter by type and/or enter a query to filter based on the identifier or any of the list fields values.</p> <p></p>"},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#in-the-application","title":"In the application","text":"<p>Clicking on the magnifying glass icon on the entity screen will lead you to the list of all entities and allow you to filter them quickly based on the identifier or any of the list fields values.</p> <p>If you need a more fine-grained selection, you can click on the funnel icon, select a type and fill out the search form (second picture)</p> <p></p>"},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#what-are-workflows","title":"What are workflows?","text":"<p>As stated before, an entity is tracked through time and Org Units. In order to achieve this, Iaso links the subsequent submissions for an entity together and allows subsequent submissions to change the profile. In order for you to choose which forms should be presented next and what values override the properties of the profile, you can define a workflow.</p>"},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#high-level-schema-of-the-workflows-models","title":"High Level Schema of the workflow's models","text":"<pre><code>classDiagram\nclass WorkflowVersion {\n  Workflow workflow\n  String name\n  Form reference_form\n  Enum status\n}\nclass Workflow {\n  EntityType entity_type\n}\nclass EntityType {\n  String name\n  Form reference_form\n  Account account\n  Bool is_active\n}\n\nclass Form {\n String form_id\n String namer\n String device_field\n String location_field\n String correlation_field\n Bool correlatable\n JSON possible_fields\n String period_ty pe\n Bool single_per_period\n Int periods_before_allowed\n Int periods_after_allowed\n Bool derived\n UUID uuid\n}\n\nclass FormVersion {\n  Form form\n  File file\n  File xls_file\n  JSON form_descriptor\n  String version_id\n}\n\nWorkflowVersion --&gt; Form : Foreign Key (reference_form)\nEntityType --&gt; Form : Foreign Key (reference_form)\nEntityType -- Workflow : One To One (entity_type)\nWorkflowVersion --&gt; Workflow : Foreign Key (form) \nFormVersion --&gt; Form : Foreign Key (form)\n</code></pre>"},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#create-a-workflow","title":"Create a workflow","text":"<p>In the entity types\u2019 list, click on the workflow icon </p> <p></p> <p>In the list of the workflow versions, create the \u201cCREATE\u201d button and give the version a name:</p> <p></p>"},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#follow-ups-and-changes","title":"Follow-ups and changes","text":""},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#follow-ups","title":"Follow-ups","text":"<p>They represent the next possible forms based on the state of the profile. They are based on a condition. In the following example, the mobile application will offer \u201cU5 Registration WFP\u201d as the next possible form if the first name is \u201cBill\u201d.</p> <p></p> Reminder: \u201cFirst Name\u201d is one of the questions in the Entity Type\u2019s form."},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#changes","title":"Changes","text":"<p>They represent the mapping of what value from a form will change the values in the profile.</p> <p>In the example below, the \u201cTarget form\u201d is the Entity Type\u2019s form, and the \u201cSource form\u201d is the subsequent submission.</p> <p>When a \u201cU5 Registration WFP\u201d form is filled out, the value entered in \u201cChild\u2019s Age in months\u201d will be copied into the profile\u2019s \u201cAge (Months)\u201d question. And the value entered in \u201cChild\u2019s Name\u201d will be copied into the profile\u2019s \u201cFirst Name\u201d question.</p> <p></p>"},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#using-values-from-the-profile-in-subsequent-forms","title":"Using values from the profile in subsequent forms","text":"<p>Sometimes, you want a subsequent form to use values from the profile. In order to do so, just add a question with the same identifier and type as the value from the profile.</p> <p>I.e., Let\u2019s assume the profile has 2 questions of type \u201ctext\u201d: first_name and last_name. By adding a read-only similar question in your subsequent forms, the value will be available to you.</p>"},{"location":"pages/dev/reference/entities_in_iaso/entities_in_iaso.html#publishing-workflows","title":"Publishing workflows","text":"<p>Once a workflow version has been published, it is marked as finalized, and it cannot be edited anymore. Only workflows in \u201cdraft\u201d can be edited.</p> <p>If you want to edit a finalized workflow, you first need to duplicate it using the \u201cCopy version\u201d button. A new draft version is then created with the same content.</p>"},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html","title":"Entities Deduplication System","text":""},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#overview","title":"Overview","text":"<p>The entities deduplication system is designed to identify and manage potential duplicate entities within the Iaso platform.</p> <p>It provides a flexible framework for detecting duplicates using various algorithms and allows users to review, merge, or ignore potential duplicates.</p>"},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#core-components","title":"Core Components","text":""},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#1-deduplication-algorithms","title":"1. Deduplication Algorithms","text":"<p>The system supports multiple deduplication algorithms.</p> <p>Currently, only the Levenshtein algorithm is supported:</p> <ul> <li>Levenshtein Algorithm:</li> <li>It uses string distance to compare text fields</li> <li>Configurable parameters:<ul> <li><code>levenshtein_max_distance</code>: Maximum allowed distance (default: 3)</li> <li><code>above_score_display</code>: Minimum score to display (default: 50)</li> </ul> </li> <li>Supports different field types:<ul> <li>Text fields: Uses Levenshtein distance</li> <li>Numeric fields: Compares relative differences</li> <li>Boolean fields: Direct comparison</li> <li>Date/Time fields: Compares timestamps</li> </ul> </li> </ul>"},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#entity-similarity-parameters","title":"Entity Similarity Parameters","text":"<p>When comparing entities (e.g. health facilities, campaigns) Iaso uses the Levenshtein distance algorithm to detect similar names. Two parameters control which matches are considered relevant:</p>"},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#1-levenshtein_max_distance-max_distance","title":"1. <code>levenshtein_max_distance</code> (max_distance)","text":"<p>Represents the maximum number of single-character edits (insertions, deletions, substitutions) allowed between two strings.</p> <p>If the Levenshtein distance between two names is greater than this value, the match is discarded.</p> <p>This is a hard cutoff independent of string length.</p> <p>Examples (max_distance = 2):</p> <ul> <li>\"kitten\" vs \"sitten\" \u2192 distance = 1 \u2192 \u2705 kept</li> <li>\"kitten\" vs \"sittin\" \u2192 distance = 2 \u2192 \u2705 kept  </li> <li>\"kitten\" vs \"sitting\" \u2192 distance = 3 \u2192 \u274c rejected</li> </ul> <p>Use this to prevent unrelated matches from being considered, even if they score relatively high on percentage similarity for long strings.</p>"},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#2-above_score_display-percentage-similarity","title":"2. <code>above_score_display</code> (percentage similarity)","text":"<p>Represents the minimum normalized similarity score required to display a potential match in the UI.</p> <p>The score is computed as:</p> <pre><code>similarity = (1 - levenshtein(a,b) / max(len(a), len(b))) \u00d7 100\n</code></pre> <p>Expressed as a percentage between 0% (completely different) and 100% (exact match).</p> <p>Examples:</p> <ul> <li> <p>\"kitten\" vs \"sitting\" \u2192 distance = 3, max length = 7   \u2192 similarity = 1 - 3/7 = 0.57 \u2192 57%</p> </li> <li> <p>\"hopital\" vs \"hospital\" \u2192 distance = 1, max length = 8   \u2192 similarity = 1 - 1/8 = 0.875 \u2192 87.5%</p> </li> </ul> <p>If <code>above_score_display = 80</code>, then only matches with similarity \u2265 80% are displayed.</p>"},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#2-add-a-deduplication-algorithm","title":"2. Add a Deduplication Algorithm","text":"<p>To add an algorithm:</p> <ol> <li>create a file with the algorithm name in <code>iaso/api/deduplication/algos/</code><ul> <li>e.g. <code>levenshtein.py</code></li> </ul> </li> <li>inside that file, create a class for that algorithm that derives from <code>iaso.api.deduplication.base.DeduplicationAlgorithm</code></li> <li>add the algorithm to <code>iaso.models.deduplication.PossibleAlgorithms</code></li> <li>enable the algorithm in <code>iaso.tasks.run_deduplication_algo.run_deduplication_algo</code></li> </ol> <p>This seems like a lot of steps, but it simplifies the understanding of the system until we have to manage dozens of algorithms.</p>"},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#3-entity-duplicate-analysis","title":"3. Entity Duplicate Analysis","text":"<p>The system provides an API to run deduplication analysis:</p> <pre><code>POST /api/entityduplicates_analyzes/\n{\n    \"algorithm\": \"levenshtein\",\n    \"entity_type_id\": \"string\",\n    \"fields\": [\"field1\", \"field2\"],\n    \"parameters\": {\n        \"param1\": \"value1\"\n    }\n}\n</code></pre> <p><code>entity_type_id</code> is the <code>id</code> of the entity type to analyze.</p> <p><code>fields</code> are the fields to compare.</p> <p><code>parameters</code> are the parameters to pass directly to the algorithm (for example, <code>levenshtein_max_distance</code> can be passed to change from default value)</p>"},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#4-duplicate-management","title":"4. Duplicate Management","text":"<p>Once duplicates are identified, they can be managed through several actions:</p>"},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#viewing-duplicates","title":"Viewing Duplicates","text":"<ul> <li>List all potential duplicates</li> <li>View detailed comparison of duplicate entities</li> <li>Filter duplicates by various criteria:</li> <li>Entity type</li> <li>Similarity score</li> <li>Organization unit</li> <li>Form</li> <li>Date range</li> <li>Search terms</li> </ul>"},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#handling-duplicates","title":"Handling Duplicates","text":"<ol> <li>Merge Entities</li> <li>Combine two entities into a new entity</li> <li>Select which values to keep from each entity</li> <li>Preserves all instances from both entities</li> <li> <p>Maintains audit trail of the merge</p> </li> <li> <p>Ignore Duplicates</p> </li> <li>Mark duplicates as ignored</li> <li>Provide reason for ignoring</li> <li>Prevents future processing of ignored pairs</li> </ol>"},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#5-validation-status","title":"5. Validation Status","text":"<p>Duplicates can have one of three statuses:</p> <ul> <li><code>PENDING</code>: Initial state, awaiting review</li> <li><code>VALIDATED</code>: Duplicates have been merged</li> <li><code>IGNORED</code>: Duplicates have been marked as not duplicates</li> </ul>"},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#api-endpoints","title":"API Endpoints","text":""},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#entity-duplicates","title":"Entity Duplicates","text":"<ul> <li><code>GET /api/entityduplicates/</code>: List potential duplicates</li> <li><code>GET /api/entityduplicates/detail/</code>: Get detailed comparison</li> <li><code>POST /api/entityduplicates/</code>: Merge or ignore duplicates</li> </ul>"},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#analysis","title":"Analysis","text":"<ul> <li><code>GET /api/entityduplicates_analyzes/</code>: List analyses</li> <li><code>POST /api/entityduplicates_analyzes/</code>: Start new analysis</li> <li><code>GET /api/entityduplicates_analyzes/{id}/</code>: Get analysis status</li> <li><code>PATCH /api/entityduplicates_analyzes/{id}/</code>: Update analysis status</li> <li><code>DELETE /api/entityduplicates_analyzes/{id}/</code>: Delete analysis</li> </ul>"},{"location":"pages/dev/reference/entities_in_iaso/entity_deduplication.html#security-and-permissions","title":"Security and Permissions","text":"<ul> <li>Requires authentication</li> <li>Two permission levels:</li> <li><code>iaso_entity_duplicates_read</code>: View duplicates</li> <li><code>iaso_entity_duplicates_write</code>: Create analyses and manage duplicates</li> </ul>"},{"location":"pages/dev/reference/env_variables/env_variables.html","title":"Environnement variables","text":""},{"location":"pages/dev/reference/env_variables/env_variables.html#db-connection-related","title":"DB connection related","text":"<p>the url is build based on the following env variables</p> <pre><code>RDS_USERNAME\nRDS_PASSWORD\nRDS_HOSTNAME\nRDS_DB_NAME\nRDS_PORT\n</code></pre> <p>the SQL dashboard use a dedicated user/password with readonly access to the data</p> <pre><code>DB_READONLY_USERNAME \nDB_READONLY_PASSWORD\n</code></pre>"},{"location":"pages/dev/reference/env_variables/env_variables.html#storage-related","title":"Storage related","text":"<p>Iaso supports multiple storage providers for static assets and user-uploaded files:</p>"},{"location":"pages/dev/reference/env_variables/env_variables.html#aws-s3-default-production-storage","title":"AWS S3 (Default production storage)","text":"<p>Storing the various files like</p> <ul> <li>js/css/... static assets</li> <li>raw forms (xlsform), submissions (xml and media),... is done in s3 (or an s3 compatible api like minio)</li> </ul> <pre><code>USE_S3=true\nAWS_ACCESS_KEY_ID:\nAWS_SECRET_ACCESS_KEY:\nAWS_S3_REGION_NAME\nAWS_STORAGE_BUCKET_NAME:\nAWS_S3_ENDPOINT_URL: (used to for ex to point to minio)\n</code></pre>"},{"location":"pages/dev/reference/env_variables/env_variables.html#azure-blob-storage","title":"Azure Blob Storage","text":"<p>Alternative cloud storage option using Azure Blob Storage with a single container and folder structure:</p> <pre><code>USE_AZURE_STORAGE=true\nAZURE_STORAGE_ACCOUNT_NAME: Your Azure Storage account name\nAZURE_STORAGE_ACCOUNT_KEY: Your Azure Storage account key\nAZURE_CONNECTION_STRING: Alternative to account name/key (optional)\nAZURE_CONTAINER_NAME: Container name (default: \"iaso\")\nAZURE_CUSTOM_DOMAIN: Custom domain for CDN (optional)\n</code></pre> <p>Container Structure: - Single container: <code>iaso</code> (or <code>AZURE_CONTAINER_NAME</code>) - Static files: stored in <code>static/</code> folder - Media files: stored in <code>media/</code> folder</p> <p>For detailed Azure Storage configuration, see Azure Storage Configuration.</p> <p>for async task</p> <pre><code>BACKGROUND_TASK_SERVICE    : default to SQS :  possible values are  SQS POSTGRES\nBEANSTALK_SQS_REGION\nBEANSTALK_SQS_URL\n\n</code></pre>"},{"location":"pages/dev/reference/env_variables/env_variables.html#clamav-related","title":"ClamAV related","text":"<p>If you don't set the required variables, ClamAV will not be configured and Iaso will not be able to scan uploaded files.</p> name optional default value description CLAMAV_ACTIVE false <code>False</code> whether uploaded files need to be scanned with ClamAV or not CLAMAV_FQDN false <code>www.some-url.com</code> address that Iaso can use to reach ClamAV - FQDN, not full URL (e.g. <code>clamav.mywebsite.com</code>) CLAMAV_PORT true <code>3310</code> port that Iaso can use to reach ClamAV"},{"location":"pages/dev/reference/env_variables/env_variables.html#compression","title":"Compression","text":"<p>You can enable compression of responses using the django middleware <code>GZipMiddleware</code> by setting the environment variable <code>ENABLE_GZIP</code> to <code>\"true\"</code>. Default is <code>\"false\"</code> since it is generally better to do compression at the web server level (e.g., Nginx or Apache).</p>"},{"location":"pages/dev/reference/env_variables/env_variables.html#security-settings","title":"Security Settings","text":""},{"location":"pages/dev/reference/env_variables/env_variables.html#django-settings","title":"Django settings","text":"<p>Iaso allows to set some of Django security settings as environment variable. To activate these features set the environment variable to <code>\"true\"</code>. Default is <code>\"false\"</code></p> <pre><code>CSRF_COOKIE_HTTPONLY \nCSRF_COOKIE_SECURE \nSESSION_COOKIE_SECURE\n</code></pre>"},{"location":"pages/dev/reference/env_variables/env_variables.html#cors","title":"CORS","text":"<p>It is possible to setup a IASO server with CORS authorizing access from any server with the following environment variable <code>\"ENABLE_CORS\"</code>. Default is <code>\"true\"</code></p>"},{"location":"pages/dev/reference/env_variables/env_variables.html#disabling-login-through-passwords","title":"Disabling login through passwords","text":"<p>Set the environment variable <code>DISABLE_PASSWORD_LOGINS</code>to the value<code>\"true\"</code> in case you wish to deactivate passwords using login:</p> <ul> <li>in the basic login page</li> <li>to connect to the admin</li> <li>through /api/token , which is used by default by the mobile application</li> </ul>"},{"location":"pages/dev/reference/env_variables/env_variables.html#sentry-related","title":"Sentry related","text":"<p>If you don't provide a SENTRY_URL, sentry won't be configured</p> name optional default value description --- SENTRY_URL true - url specific to your sentry account SENTRY_ENVIRONMENT true development environnement (dev, staging, prod,...) SENTRY_TRACES_SAMPLE_RATE true 0.1 float between 0 and 1 : send 10% SENTRY_ERRORS_SAMPLE_RATE true 1.0 float between 0 and 1 : send everything SENTRY_ERRORS_HTTPERROR_SAMPLE_RATE true 0.8 float between 0 and 1 : send 80% of the errors"},{"location":"pages/dev/reference/env_variables/env_variables.html#maintenance-mode","title":"Maintenance mode","text":"<p><code>MAINTENANCE_MODE</code> (default is <code>\"false\"</code>)</p> <p>If you need to set up IASO in maintenance mode, meaning that it will display at / a page indicating that the  server is under maintenance, and give a 404 answer to all requests except for /health or /_health (wich we encourage to use  for status monitoring), you can set the environment variable <code>MAINTENANCE_MODE</code> to the value <code>\"true\"</code></p>"},{"location":"pages/dev/reference/env_variables/env_variables.html#learn-more-url","title":"Learn More URL","text":"<p>The <code>LEARN_MORE_URL</code> environment variable is used to specify a URL that will be displayed on the login page. If set, users can click on a \"Know More\" link or the logo to visit this URL. If <code>LEARN_MORE_URL</code> is not set, the logo will not be clickable, and the link will not be displayed.</p> <pre><code>LEARN_MORE_URL\n</code></pre> <p>In our environments, this will be linked to <code>https://www.openiaso.com/</code>. For customer environments, this can be removed or customized as needed.</p>"},{"location":"pages/dev/reference/env_variables/env_variables.html#product-fruits-integration","title":"Product Fruits Integration","text":"<p>To enable Product Fruits integration, set the following environment variable:</p> <pre><code>PRODUCT_FRUITS_WORKSPACE_CODE=YOUR_CODE\n</code></pre> <p>When this variable is set, Product Fruits will be enabled and only the account name and ID will be sent to the service. This allows for user onboarding and feature discovery.</p>"},{"location":"pages/dev/reference/env_variables/env_variables.html#analytics-integration","title":"Analytics Integration","text":""},{"location":"pages/dev/reference/env_variables/env_variables.html#plausible-analytics","title":"Plausible Analytics","text":"<p>To enable Plausible analytics tracking, set the following environment variable:</p> <pre><code>ENABLE_ANALYTICS=true\n</code></pre> <p>When enabled, Iaso will automatically generate and include Plausible analytics scripts on all pages for authenticated users. The system tracks:</p> <ul> <li>Page views: All page visits</li> <li>Custom events: User login events with account details</li> <li>User information: Username, user ID, account name, and account ID</li> </ul> <p>Note: Analytics is disabled by default and only works when explicitly enabled via the environment variable.</p> <p>For detailed setup instructions, see Plausible Analytics Setup.</p>"},{"location":"pages/dev/reference/env_variables/env_variables.html#frontend-configuration","title":"Frontend Configuration","text":""},{"location":"pages/dev/reference/env_variables/env_variables.html#development-settings","title":"Development Settings","text":"name optional default value description WEBPACK_HOST true <code>localhost</code> Host for the development server WEBPACK_PORT true <code>3000</code> Port for the development server WEBPACK_PROTOCOL true <code>http</code> Protocol for the development server WEBPACK_PATH true <code>./assets/webpack/</code> Path for webpack output files OLD_BROWSER true <code>false</code> Enable compatibility mode for older browsers LIVE_COMPONENTS true <code>false</code> Use local bluesquare-components for development"},{"location":"pages/dev/reference/env_variables/env_variables.html#language-settings","title":"Language Settings","text":"name optional default value description AVAILABLE_LANGUAGES true <code>en,fr</code> Comma-separated list of supported languages"},{"location":"pages/dev/reference/front-end_reference/front-end_reference.html","title":"Front-end reference","text":"<p>Frontend assets include JS, CSS, translations and images. They are all handled by webpack. Most of the structure is taken from this blog post: http://owaislone.org/blog/webpack-plus-reactjs-and-django/</p> <p>Frontend assets are mounted on the pages via the <code>django-webpack-loader &lt;https://github.com/owais/django-webpack-loader&gt;</code>__</p>"},{"location":"pages/dev/reference/front-end_reference/front-end_reference.html#build","title":"Build","text":""},{"location":"pages/dev/reference/front-end_reference/front-end_reference.html#the-2-builds-dev-and-prod","title":"The 2 builds, dev and prod","text":"<ul> <li> <p>There are two webpack configuration files: <code>webpack.dev.js</code> and <code>webpack.prod.js</code>.</p> </li> <li> <p>A JS production build is created inside the docker-file, via <code>npm run build</code></p> </li> <li> <p>the <code>start_dev</code> entry point starts a webpack development server, that watches   assets, rebuilds and does hot reloading of JS Components.</p> </li> </ul>"},{"location":"pages/dev/reference/front-end_reference/front-end_reference.html#css-build","title":"CSS Build","text":"<p>The CSS build is separate, and can contain both <code>.sass</code> and <code>.css</code> files. They spit out a webpack build called <code>styles.css</code>.</p>"},{"location":"pages/dev/reference/front-end_reference/front-end_reference.html#js-build","title":"JS Build","text":"<p>Each page has their own JS entry point (needs to be defined in both webpack files). On top of that, they load a common chunk, containing <code>react</code>, <code>react-intl</code> and other stuff that the <code>webpack common chunk</code> plugin finds is shared between the apps.</p> <p>Including a JS bundle via django-webpack-loader ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</p> <p>If we have created a new JS app <code>MyCustomApp</code> in <code>hat/assets/js/apps/</code>.</p> <p>The entrypoint should be <code>/dashboard/my-custom-app</code></p> <p>Folders and files affected::</p> <pre><code>+ hat/\n  + assets/\n    + js/\n      + apps/\n        + MyCustomApp\n          . index.js\n          . MyCustomApp.js\n          . MyCustomAppContainer.js\n\n  + dashboard/\n    . urls.py\n    . views.py\n\n  + templates/\n    + dashboard/\n      . my_custom_app.html\n\n  . webpack.dev.js\n  . webpack.prod.js\n</code></pre> <p>These are the steps to visualize it within the dashboard:</p> <ul> <li>In <code>hat/webpack.dev.js</code> include a new <code>entry</code>.</li> </ul> <pre><code>    'my_custom_app': [\n    'webpack-dev-server/client?' + WEBPACK_URL,\n    'webpack/hot/only-dev-server',\n    './assets/js/apps/MyCustomApp/index'\n    ],\n</code></pre> <ul> <li>In <code>hat/webpack.prod.js</code> include a new <code>entry</code>.</li> </ul> <pre><code>    'my_custom_app': './assets/js/apps/MyCustomApp/index',\n</code></pre> <ul> <li>In <code>hat/dashboard/views.py</code> include a new view.</li> </ul> <pre><code>    @login_required()  # needs login?\n    @permission_required('cases.view')  # the needed permissions\n    @require_http_methods(['GET'])  # http methods allowed\n    def my_custom_app(request: HttpRequest) -&gt; HttpResponse:\n        return render(request, 'dashboard/my_custom_app.html')\n</code></pre> <ul> <li>In <code>hat/dashboard/urls.py</code> include a new url pattern.</li> </ul> <pre><code>    url(r'^my-custom-app/.*$', views.my_custom_app, name='my_custom_app'),\n</code></pre> <pre><code>  url(r'^my-custom-app/.*$', views.my_custom_app, name='my_custom_app'),\n</code></pre> <ul> <li>In <code>hat/templates/dashboard</code> create a new template file <code>my_custom_app.html</code>.</li> </ul> <pre><code>      {% extends 'app.html' %}\n      {% load i18n %}\n      {% load render_bundle from webpack_loader %}\n\n      {% block header %}\n        &lt;h1 class=\"header__title\"&gt;{% trans 'My Custom App' %}&lt;/h1&gt;\n      {% endblock %}\n\n      {% block content %}\n\n        &lt;div class=\"content\"&gt;\n          &lt;div id=\"app-container\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n\n        {% render_bundle 'common' %}\n        {% render_bundle 'my_custom_app' %}\n        &lt;script&gt;\n          HAT.MyCustomApp.default(\n            document.getElementById('app-container'),\n            '/dashboard/my-custom-app/'\n          )\n        &lt;/script&gt;\n      {% endblock %}\n</code></pre>"},{"location":"pages/dev/reference/front-end_reference/front-end_reference.html#testing-the-production-build","title":"Testing the production build","text":""},{"location":"pages/dev/reference/front-end_reference/front-end_reference.html#stop-any-containers-that-might-be-currently-running","title":". Stop any containers that might be currently running.","text":""},{"location":"pages/dev/reference/front-end_reference/front-end_reference.html#start-the-containers-with","title":". Start the containers with:","text":"<p>.. code:: shell</p> <pre><code>  TEST_PROD=true docker compose up\n</code></pre> <p>When the setup is run with <code>TEST_PROD=true</code>, it will exit the unneeded containers <code>webpack</code> and <code>jupyter</code>. It will also run the webpack build during startup, so that there is no need to rebuild the image for that.</p>"},{"location":"pages/dev/reference/front-end_reference/front-end_reference.html#js-unit-testing","title":"JS Unit Testing","text":"<pre><code>    docker compose run hat test_js\n</code></pre>"},{"location":"pages/dev/reference/front-end_reference/front-end_reference.html#adding-new-assets-in-packagejson","title":"Adding new assets in package.json","text":"<p>Unfortunately, for now you need to rebuild the container after adding or upgrading packages in <code>package.json</code>.</p> <p>.. code:: shell</p> <pre><code>docker compose build\n</code></pre> <p>or</p> <p>.. code:: shell</p> <pre><code>docker compose up --build\n</code></pre>"},{"location":"pages/dev/reference/front-end_reference/front-end_reference.html#translations","title":"Translations","text":"<p>Translations are extracted on the first webpack build. Just like the django translation strings; translations are downloaded for every <code>Travis CI &lt;https://travis-ci.com&gt;</code>__ build, and uploaded on the <code>development</code> branch.</p>"},{"location":"pages/dev/reference/front-end_reference/front-end_reference.html#set-up-vscode-for-front-end-development","title":"Set up VSCode for front-end development","text":"<p>See also: <code>this pull request &lt;https://github.com/BLSQ/iaso/pull/120&gt;</code>__</p> <p>The script <code>show-lint-problems</code> can be turned into a VSCode task that will show all linter errors in VSCode's PROBLEMS Tab.</p> <p>Steps to follow:</p> <ul> <li> <p>Go to Terminal&gt;Configure task</p> </li> <li> <p>Select npm: show-lint-problems</p> </li> <li> <p>Add <code>$eslint-stylish</code> to the <code>problemMatcher</code> array</p> </li> <li> <p>Run the task: Terminal&gt;Run Task...&gt; npm: show-lint-problems.    IMPORTANT: you need to run the task this way. Running the script directly from the terminal using npm will not enable VS Code to display the problems in the PROBLEMS tab</p> </li> <li> <p>You should be able to see and track the problems through the dedicated tab.    CAUTION: if you navigate to a file through the tab, then close the file, it will be removed from the problems list, even if it wasn't changed. This seems to be a problem with using npm through VSCode's tasks</p> </li> </ul>"},{"location":"pages/dev/reference/front-end_reference/front-end_reference.html#depend-on-bluesquare-components-library","title":"Depend on bluesquare-components library","text":"<p>See the <code>library's README &lt;https://github.com/BLSQ/bluesquare-components/blob/main/README.md&gt;</code>__ for the general setup.</p> <p>When depending on a local version of the library:</p> <ul> <li> <p>Your local folder should be on the same level as the iaso folder, so that the path to the tgz file in your package.json is : ../bluesquare-components/bluesquare-components-0.1.0.tgz</p> </li> <li> <p>Run <code>docker compose build --build-arg LIBRARY=&lt;name-of-the-library-image&gt;</code></p> </li> </ul>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html","title":"Backend and API Guidelines","text":""},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#important-considerations","title":"Important considerations","text":"<p>Please do a rough design before any implementation and discuss it with the rest of the team. It doesn't need to be too detailed but you should have at least a list of Model, the important fields on it, the security model and what endpoint you will add.</p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#security","title":"Security","text":"<p>When Adding New feature that will add Model and API please think about the security model. You can start by asking yourself these questions:</p> <ol> <li>Which user should have access to this?</li> <li>How to implement the multi-tenant</li> <li>Are new permission needed?</li> <li>Is the item listable/readable by user without the permission to implement Filter dropdown. For example users without the Form permission but with the Submission permission can still list Form from the API to be able to filter Instance by Form</li> </ol>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#tenancy","title":"Tenancy","text":"<p>Iaso is multi tenant. Tenant are called and represented by the model <code>Account</code>. It represents roughly one client org or country. It also represents the natural limit of right for a user.</p> <p>So all new model and API per default should support tenancy. It's kind of annoying  to add it later.</p> <p>We have two kind of tenancy, one per Project, one per Account. A Project represent a mobile app, there might be several linked to an account. You will have to consider which want you one to use. In some case it might be both.</p> <p>In some case if your new model is linked to existing one it might derive the tenancy from there (for example FormVersion derive their tenancy from Form). </p> <p>In practice this will consist on: 1. adding a ForeignKey to Account or Project on your model. 2. At creation  2. in your ViewSet filtering on the Object in the account (see filtering for user)</p> <p>In most case if this an API for the Mobile the tenancy will be per project. But if that's not the case and  you are really not sure, there is nobody to ask and you need to advance, add it on the Account it will be simpler.</p> <p>Don't hesitate to ask if you don't understand what tenancy means or how it works.</p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#in-the-broad-lines-adding-a-complete-new-feature-will-consist-of","title":"In the broad lines adding a complete new feature will consist of","text":"<ol> <li>The model(s): The modelisation in the Database</li> <li>The serializer(s): Which decide which field  are returned to the client. But also which field(s) are accepted for creating and modifying object</li> <li>The ViewSet(s) which represent the Endpoints (GET PATCH, POST DELETE etc...)</li> <li>The routing, tell which url we use. <code>/api/yourmodel</code></li> <li>The security model : Who can see and modify what and how.</li> </ol>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#new-model-implementation","title":"New Model implementation","text":"<p>Always add the field <code>created_at</code>, <code>updated_at</code>. This allow us the minimum of traceability and is useful in debug.</p> <pre><code>    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n</code></pre> <p>You might need Soft delete (see Soft Delete section)</p> <p>Don't forget the tenancy.</p> <p>Examples: There is a very simple Model/API example in the directory <code>plugins/tests</code> that you can use as a template.</p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#api","title":"API","text":"<p>Please use serializers !</p> <p>This will allow the API to be autodocumented in the swagger and the browsable API interface. You can check the swagger at /swagger/</p> <p>For the ViewSet, always^ inherit  ModelViewSet from iaso.api.common, not the one from DRF ! This will handle the Pagination that is particular to Django correctly out of the box.</p> <p>^ Except in some case obviously but it should be the default</p> <p>For the default case you ModelViewSet should be very simple, and you should not have to reimplement <code>def list()</code> and <code>def create()</code> etc... if you properly did the Serializer and inherited from <code>iaso.api.common.ModelViewset</code></p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#filtering-for-user","title":"Filtering for user","text":"<p>Per default you will want to filter what is viewable by the correctly connected user (at minimum for the tenancy, see relevant section)</p> <p>To do so add a <code>get_queryset()</code> method on your ViewSet which will filter the queryset on the user. It's not a bad idea to move the logic of that code directly on your Model queryset by adding a <code>Queryset.for_user(user: User)</code> on your model so we can reuse it on other models. See for example TeamQuerySet.</p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#permissions","title":"Permissions","text":"<p>We use the DRF system with <code>permission_class</code> see DRF Doc. See also <code>plugins/test/api.py</code> for an example.</p> <p>By default all the API require to be logged but any user can post GET / POST / PATCH / DELETE so beware of that.</p> <p>Further restriction can be added using <code>http_method_names = [\"put\"]</code> if you want to be extra sure, but that shouldn't be the only check method.</p> <p>Do not hesitate to put test to check that the method are effectively restricted to both authorized and unauthenticated user so they are not re-enabled by default.</p> <p>If you want to check if an user has a permission there is a HasPermission class in <code>iaso.api.common.py</code> TODO : expand section</p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#filtering","title":"Filtering","text":"<p>Set the <code>filter_backends</code> config key in your ViewSet, with per default at least, the backends  <code>filters.OrderingFilter</code>  and <code>DjangoFilterBackend</code></p> <pre><code>    filter_backends = [\n        filters.OrderingFilter,\n        DjangoFilterBackend,\n\n    ]\n</code></pre> <p>This will allow ordering and filtering on the key present on the model automatically.</p> <p>The front dev will push you to include special filter with Javascript case name like <code>FormId</code> or stuff which will require special case in list() because that's what they are used to but in 99% of the case this is not needed and there is already a filter in python case <code>form_id</code>. The normal django operator can also be used <code>__in</code> for list, <code>__gte</code> for <code>&gt;=</code> , <code>iexact</code> to ignore case, etc..</p> <p>See the field lookup for the complete reference <code>https://docs.djangoproject.com/en/4.1/ref/models/querysets/#field-lookups</code></p> <p>All these filters are conveniently listed in the swagger for each endpoint and in the browsable API</p> <p>If your model use SoftDelete include the <code>DeletionFilterBackend</code> filter. See the SoftDelete section</p> <pre><code>        DeletionFilterBackend,\n</code></pre> <p>If you need more control on how fields can be used for ordering and filtering you can respectively use <code>ordering_fields</code> and <code>filterset_fields</code>. See the django-filter and drf doc.</p> <p>Frontend expect \"big\" api to accept a <code>search</code> filter which usually does a <code>icontains</code> on any of the model StringField (e.g. name or description) or related model (e.g the org unit name).</p> <p>The <code>filters.OrderingFilter</code> use the <code>?order_by</code> query parameters, multiple field can be specified, separated by <code>,</code>,  <code>-</code> in front of the field can be used to specify to reverse the order</p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#annotation-for-ordering-and-filtering","title":"Annotation for ordering and filtering","text":"<p>In very special case if you need strange manipulation for ordering or filtering, adding an annotation on the queryset might help a lot. Since it does all the calculation on the database side, this allows use to add filter on fields that would otherwise not be possible without retrieving a lot of data on the backend. </p> <p>You might need to add them in  <code>ordering_fields</code> and <code>filterset_fields</code>. (TODO Olivier : check)</p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#mobile","title":"Mobile","text":"<p>If this API is accessible via mobile, add a separate endpoint for the mobile to use, in <code>/api/mobile</code>, even if it is the same as the \"regular\" <code>web</code> endpoint and that you connect it to the same ViewSet. This allows us flexibility if we have to break compatibility in the future.</p> <p>For date in new API endpoint we use the RFC format (2022-03-02 23:34...) that is the default in DRF so there is nothing to be done. Old endpoint might still use the old format in Timestamp.</p> <p>In the endpoint for mobile we  always use Timestamp. You can use TimestampField and DateTimestampField in your Serializer for this.</p> <p>Take special care when modifying the API used by the mobile, we don't have a complete list, but we still have old version of the APP using very old endpoints that newer version don't use anymore.</p> <p>For API endpoint that the mobile APP will POST to, you should check with Martin if you may need the decorator <code>@safe_api_import</code> to ensure no data is lost. See <code>/iaso/hat/vector_control/README.md</code></p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#csv-and-xls-export","title":"CSV and XLS export","text":"<p>For data that will be presented as a table, we will want to provide CSV and XLS export to the user in nearly all cases. </p> <p>We don't use the CSV export provided by DRF for that and use a bit of code that we copy  past and should really be refactored.</p> <p>TODO: Expand section</p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#softdelete","title":"SoftDelete","text":"<p>Soft Delete is a way to mark an Object as deleted without actually deleting it from the database. That way we can still show them to user in the interface it they choose to and the user can restore it easily.</p> <p>We have a standard way to implement it: - Have your model inherit from the SoftDelete. - This will add the deleted_at field. When the field is null it's not deleted  if it contains a data it is deleted.</p> <p>In the ViewSet add the filter DeletionFilterBackend.</p> <p>Test that you can restore by doing a patch on your row on the <code>deleted_at</code> fields</p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#permissions_1","title":"Permissions","text":"<p>if you add a new permission, don't forget to add it in the Frontend, or it will not be displayed properly. See the instruction on the top of <code>menupermissions/models.py</code></p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#django-admin","title":"Django Admin","text":"<p>If you add New model, add them in the Admin if you don't know which fields or filter to add just add at least the minimum, we can expand it latter.</p> <p>Minimum Admin for a Model (BlogPost in this Example), in admin.py</p> <pre><code>class BlogPostAdmin(admin.ModelAdmin):\n    pass\n\nadmin.site.register(BlogPost, BlogPostAdmin)\n</code></pre> <p>If you want a base to be a mot more fancy:</p> <pre><code>    search_fields = (\"title\", \"content\")\n    list_display = (\"title\", \"author\", \"created_at\", \"updated_at\")\n    date_hierarchy = \"created_at\"\n    list_filter = (\"author\", \"updated_at\")\n    readonly_fields = (\"created_at\", \"updated_at\")\n\n</code></pre>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#configuration-settings","title":"Configuration settings","text":"<p>We configure the Iaso deployement (the server) via environment flags. So if you add something configurable on the whole server level do it that way. See https://12factor.net/config if your are not familiar with the philosophy. </p> <p>Note :There are of course some exceptions and thus some settings are configured in the Database. Notably for the Polio plugins. But please keep that exceptional.</p> <p>You can change your own local configuration in the file <code>.env</code>. Do note that if you make any modification in your <code>.env</code> or  in your <code>docker-compose.yml</code> file. You will need to restart the whole docker compose for it to take effect (Ctrl-c your current docker compose and bring it back up with <code>docker compose up</code></p> <p>If you add a new Environement variable to allow some configuration: 1. Do not access the Enviroement variable directly from your python code ! 1. Instead add it as a variable in the <code>settings.py</code>. 1. Add a comment explaing what this variable does. 1. Always provide a default value 1. To allow developer to change the variable locally add it in docker-compose.yml</p> <p>Also KISS, the less configuration the better !</p> <p>There is no comprehensive documentation of all the configuration settings except what is in settings.py so it's important that you comment it well !</p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#example","title":"Example","text":"<ol> <li><code>settings.py</code></li> </ol> <pre><code># Application customizations\nAPP_TITLE = os.environ.get(\"APP_TITLE\", \"Iaso\")\n</code></pre> <ol> <li>Docker-compose</li> </ol> <pre><code>diff --git a/docker-compose.yml b/docker-compose.yml\nindex 057b81e39..49b29ac30 100644\n--- a/docker-compose.yml\n+++ b/docker-compose.yml\n@@ -44,6 +44,7 @@ services:\n       THEME_PRIMARY_BACKGROUND_COLOR:\n       FAVICON_PATH:\n       LOGO_PATH:\n+      APP_TITLE:\n       SHOW_NAME_WITH_LOGO:\n       RDS_USERNAME: postgres\n       RDS_PASSWORD: postgres\n</code></pre> <ol> <li>Your python code</li> </ol> <pre><code>from django.conf import settings\nsettings.APP_TITLE\n</code></pre>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#feature-flags","title":"Feature Flags","text":"<p>Feature flags allow to enable special feature or behaviour for our clients. The use case are: certain workflow that are particular to a client use case or feature that are still in development and that we are co-developing with the client.</p> <p>Example of feature flag: Enable editing an org unit geography directly via the web map or requiring user to log in into the mobile app to submit.</p> <p>We have two kind of flags in iaso: Mobile and Web</p> <ol> <li>To control how the Mobile application behave. Model <code>FeatureFlag</code> that are linked to <code>Project</code> (there might have multiple Mobile application per account)</li> <li>Model <code>AccountFeatureFlag</code> for the whole account. It is mainly used to control the behaviour of the web frontend.</li> </ol> <p>The list of flags are stored in database tables, to add a new Flag migration are used.</p> <p>Usually client can control which Project/Mobile flag they have but not the one on the Account level.</p> <p>To toggle a Mobile Feature flag for a client, add it in the dashboard -&gt; Admin -&gt; Projects -&gt; Edit a project -&gt; <code>Options</code>. </p> <p>To toggle an Account Feature flag, it is in the django Admin</p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#adding-a-new-feature-flag-via-a-migration","title":"Adding a new Feature Flag via a Migration","text":"<p>For example a Project Feature Flag</p> <ol> <li>Create an empty migration:   <code>python manage.py makemigrations --empty yourappname</code></li> <li>Open the generated migration file, and adapt it to Create the migration.</li> <li>It should look like this</li> </ol> <pre><code>def create_feature_flags(apps, schema_editor):\n    FeatureFlag = apps.get_model(\"iaso\", \"FeatureFlag\")\n    FeatureFlag.objects.create(\n        code=\"CHECK_POSITION_FOR_FORMS\",\n        name=\"Mobile: Enforce users are within reach of the Org Unit before starting a form.\",\n    )\n\n\ndef destroy_feature_flags(apps, schema_editor):\n    FeatureFlag = apps.get_model(\"iaso\", \"FeatureFlag\")\n    FeatureFlag.objects.filter(code=\"CHECK_POSITION_FOR_FORMS\").delete()\n\n\nclass Migration(migrations.Migration):\n    dependencies = [\n        (\"iaso\", \"0150_profile_home_page\"),\n    ]\n\n    operations = [\n        migrations.RunPython(create_feature_flags, destroy_feature_flags),\n    ]\n</code></pre> <ol> <li>Run black on it</li> <li>Add the file in git</li> </ol> <p>See https://docs.djangoproject.com/en/4.0/topics/migrations/#data-migrations</p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#typing-and-annotations","title":"Typing and annotations","text":"<p>If you use an annotate and mypy complains when using the field. You can add the field on the model using Annotated. for example:</p> <pre><code>from typing_extensions import Annotated, TypedDict\n\nclass LastBudgetAnnotation(TypedDict):\n    budget_last_updated_at: datetime\n\n\nclass MonSerializeur()\n    def get_budget_last_updated_at(self, campaign: Annotated[Campaign, LastBudgetAnnotation]):\n        if campaign.budget_last_updated_at:\n            return campaign.budget_last_updated_at.strftime(\"%Y-%m-%d\")\n\n\n</code></pre> <p>Do not use the <code>WithAnnotations</code> from django-stubs. it doesn't work with our setup. I think it's a problem of python 3.8</p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#glossary","title":"Glossary","text":"<ul> <li>DRF: Django Rest Framework, the magic framework we use to generate the API</li> <li>mypy: Tool used to check the </li> <li>ci: continuous integration, it the fact that we launch the test on github on each commit</li> <li>There is a Glossary of common Model in the Iaso root Readme. also check it</li> </ul>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#faq","title":"FAQ","text":""},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#i-added-a-new-environement-variable-in-my-env-but-it-is-not-accessible-from-python-or-in-the-settingspy","title":"I added a new environement variable in my .env but it is not accessible from python or in the <code>settings.py</code>","text":"<p>The new environment variable need to be listed in the docker-compose.yml</p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#logging-is-broken","title":"Logging is broken","text":"<p>Symptom : The request are not displayed in the the sever console, or in productoin <code>/var/app/log</code></p> <p>Someone probably imported a function from the <code>tests</code> directory, which disable logging. Please don't do that. Move the imported code elsewhere. See https://github.com/BLSQ/iaso/commit/b22b1bcc31a5b05650b675a3c168285103f9bcf8</p>"},{"location":"pages/dev/reference/guidelines/back-end/back-end.html#in-prod-how-to-see-the-log","title":"in prod how to see the log","text":"<p><code>journalctl -u web</code></p>"},{"location":"pages/dev/reference/guidelines/front-end/front-end.html","title":"Front-end guidelines","text":""},{"location":"pages/dev/reference/guidelines/front-end/front-end.html#prerequisite","title":"Prerequisite","text":"<p>First of all make sure your eslint, prettier, typescript environnement is set properly.</p> <p>On VSC code you can format code following IAOS rules while saving in the settings:</p> <pre><code>\"[javascript]\": {\n    \"editor.formatOnSave\": true,\n},\n\"[typescript]\": {\n    \"editor.formatOnSave\": true,\n},\n</code></pre> <p>Make sure you installed eslint extension too. On each file you can have only one component. Use constants, and config files to store static data. Don't be afraid to split your code into smaller parts, using understandable naming convention. It will help to understand what you are doing in your code.  </p>"},{"location":"pages/dev/reference/guidelines/front-end/front-end.html#legacy","title":"Legacy","text":"<p>Class component, proptypes are still old way to create features in IASO. Please use <code>hooks</code>, <code>typescript</code> and <code>arrow component</code>. We already have a lot of typing done in each domain of the application (forms, submissions, org units, ... )</p>"},{"location":"pages/dev/reference/guidelines/front-end/front-end.html#bluesquare-components","title":"Bluesquare-components","text":"<p>Lots of components used in IASO has been moved to a separate repo. We tried to be the most generic has possible in this repo, people from outside IASO should be able to use it in their own project. To use it locally, checkout the repo on the same level has ISO and run:  <code>LIVE_COMPONENTS=true pm run dev</code> in IASO folder. This will use directly the code from your local repo. To make it available too everybody you have to build new files with <code>npm run clean &amp;&amp; npm run build</code> in bluesquare-component folder. </p>"},{"location":"pages/dev/reference/guidelines/front-end/front-end.html#architecture","title":"Architecture","text":"<p>Main index file is located here: <code>hat/assets/js/apps/Iaso/index</code> This is the entrypoint of the app, setting up providers, theme, react-query query client, custom plugins,...  </p> <p><code>components</code> Used to store generic components that can be used everywhere, like <code>inputComponent</code>, <code>buttons</code>, ...</p> <p><code>domains</code> For every big feature entity in IASO (forms, org units, plannings, ...) we have a domain folder allowing to display related pages. - <code>index</code> is generally used to display a list of items  - <code>details</code> the details of an item - <code>config</code> used to store constants for the domain (columns, default order, ...) - <code>hooks</code>: dedicated hooks to make requests or compute specitic data for the domain - <code>components</code>: mostly intermediate components using smaller ones to construct domain page - <code>messages</code>: translations messages used for this specific domain config: used to store constants like defaultOrder, columns, 'baseUrls'  - <code>types</code>: All types related to the domain</p>"},{"location":"pages/dev/reference/guidelines/front-end/front-end.html#styling-components","title":"Styling components","text":"<p>In our effort to maintain readability and conciseness in our code, we are transitioning away from the <code>makeStyles</code> hook and adopting a new approach for styling our components. We will now use a separate object, <code>styles</code>, to define our styles outside of the component function. This object will then be referenced within the <code>sx</code> prop in our JSX.</p> <p>Here's how to apply this approach:</p> <ol> <li>Define your styles in a <code>styles</code> object using the <code>SxStyles</code> type from <code>hat/assets/js/apps/Iaso/types/general.ts</code>. This helps with readability and keeps the component code clean.</li> <li>Apply styles to your components using the <code>sx</code> prop by referencing the <code>styles</code> object properties.</li> </ol> <p>Example:</p> <pre><code>const styles: SxStyles = {\n    root: {\n        cursor: 'pointer',\n    },\n    tooltip: {\n        color: 'text.primary',\n        bgcolor: 'background.paper',\n        boxShadow: (theme: Theme) =&gt; theme.shadows[1],\n        '&amp; .MuiTooltip-arrow': {\n            color: 'background.paper',\n        },\n    },\n    noResult: {\n        textDecoration: 'underline dotted',\n    },\n};\n\n...\n &lt;Box sx={styles.root}&gt;\n ...\n</code></pre>"},{"location":"pages/dev/reference/guidelines/front-end/front-end.html#maps","title":"Maps","text":"<p>We are using leaflet latest version and react-leaflet (LTS version 3). To use latest version of react-leaflet we need to upgrade to react 18.</p> <p>Styles are located in <code>bluesquare-components</code>, you have to import it on each map:</p> <pre><code>const styles = (theme) =&gt; ({\n    mapContainer: {\n        ...commonStyles(theme).mapContainer,\n    },\n});\n</code></pre>"},{"location":"pages/dev/reference/guidelines/front-end/front-end.html#from-react-leaflet","title":"From react-leaflet","text":"<p>MapContainer</p> <p>The main container of the Map. Props we use: - <code>bounds</code>: not required, bounds of markers and shapes displayed, used by fit to bound, doc here. - <code>boundsOptions</code>: not required, options related to bounds, doc here. - <code>zoomControl</code>: required and set to <code>false</code>, in order to use the <code>CustomZoomControl</code>. - <code>whenCreated</code>: not required,to use a ref of the map in the same component as the MapContainer, you get it by doing     whenCreated={mapInstance =&gt; {         map.current = mapInstance;     }}</p> <p>default props:</p> <pre><code>doubleClickZoom={false}\nscrollWheelZoom={false}\nmaxZoom={currentTile.maxZoom}\nstyle={{ height: '100%' }}\ncenter={[0, 0]}\nzoomControl={false}\nkeyboard={false}\nbounds={bounds}\nboundsOptions={boundsOptions}\n</code></pre> <p>Scalecontrol</p> <p>Used to display a scale on the bottom left of the map.</p> <p>Props we use: - <code>imperial</code>: always set to <code>false</code></p> <p>We use other component from react-leaflet not listed here as they are optionnal and used like describe in their docs.</p>"},{"location":"pages/dev/reference/guidelines/front-end/front-end.html#custom-components","title":"Custom components","text":"<p>CustomZoomControl </p> <p>This will display an extended zoom control on the top left of the map. You can zoom in and out, select an area to zoom in and fit the map to the bounds of the map.  </p> <p>Props: - <code>bounds</code>: not required, computed bounds displayed on the map, doc here. - <code>boundsOptions</code>: not required, options related to bounds, doc here. - <code>bound</code>: not required, a boolean to fit to bounds on load, not working if bounds stays undefined.</p> <p>CustomTileLayer + TilesSwitchDialog </p> <p>Control to display a dialog allowing to change the tile layer of the map, on the top right of the map Those twot components are going together, maybe we should refactor it to a single component.</p> <p>CustomTileLayer Props: - <code>currentTile</code>: required, active tile of the map, usually setted in the map itself with a <code>useState</code>.</p> <p>TilesSwitchDialog Props: - <code>currentTile</code>: required, active tile of the map, usually setted in the map itself with a <code>useState</code>. - <code>setCurrentTile</code>: required, method to update current tile on the map.</p> <p>MapToggleTooltips</p> <p>A switch to show or hide tooltips on the map.</p> <p>Props:</p> <ul> <li><code>showTooltip</code>: required, usually setted in the map itself with a <code>useState</code>.</li> <li><code>setShowTooltip</code>: required, method to showTooltip or not.</li> </ul> <p>MapToggleFullscreen </p> <p>A switch to set the map fullscreen or not.</p> <p>Props:</p> <ul> <li><code>isMapFullScreen</code>: required, usually setted in the map itself with a <code>useState</code>.</li> <li><code>setIsMapFullScreen</code>: required, method to set into fullscreen or not.</li> </ul> <p>MapToggleCluster</p> <p>A switch to allow clustering or not of marker on the map. You should use <code>MarkerClusterGroup</code> from <code>react-leaflet-markercluster</code> </p> <p>Props:</p> <ul> <li><code>isClusterActive</code>: required, usually setted in the map itself with a <code>useState</code>.</li> <li><code>setIsClusterActive</code>: required, method to enable custering of markers or not.</li> </ul> <p>MarkerComponent / CircleMarkerComponent Components used to display a marker on the map. Props: - see js file for not required props, mainly the same props as <code>Marker</code> from react-leaflet. - <code>PopupComponent</code>: not required, Popup used while clicking on the marker - <code>TooltipComponent</code>: not required, Tooltip used while hovering the marker - <code>item</code>: required, an object with <code>latitude</code> an <code>longitude</code> arguments, those are numbers</p> <p>MarkersListComponent Used to display a list of markers</p> <p>Props: - <code>markerProps</code>: not required, props spreaded to the marker - <code>items</code>: required, array of items use by previous component - <code>PopupComponent</code>: not required, Popup used while clicking on the marker - <code>TooltipComponent</code>: not required, Tooltip used while hovering the marker - <code>onMarkerClick</code>: not required, method applied while clicking on the marker on the map - <code>isCircle</code>: not required, display marker as a circle or not - <code>onContextmenu</code>: not required, method applied while right clicking on the marker on the map</p>"},{"location":"pages/dev/reference/guidelines/front-end/front-end.html#tables","title":"Tables","text":"<p>Most tables we use need to support filters and deep linking. We have a <code>TableWithDeepLinking</code> component for that purpose, which is a wrapper on the <code>Table</code> from Bluesuare-components.</p> <p>The typical props to pass are: - <code>data</code>: the table data. Usually originate s from a <code>react-query</code> hook - <code>page</code>: the current page. Usually returned by the API - <code>pageSize</code>: the amount of rows to display on each page. Also comes from the API - <code>count</code>: the total amount of items in the page. From the API - <code>pages: total number of pages. From the API -</code>baseUrl<code>: the baseUrl the table will redirect to  -</code>params<code>: the params of the current location.</code>TableWithDeepLink<code>will combine them with</code>baseUrl<code>to redirect to the correct location -</code>extraProps<code>: an object. The</code>loading<code>key will be used to manage the table's loading state. Other values will force a table re-render when they change (similar to</code>useEffect<code>deps array), which can be useful in some situations -</code>columns<code>: an array of objects of type</code>Column` (imported from bluesquare-components). It's usually defined in a custom hook in order to easily handle translations.</p> <p>Note: <code>useDeleteTableRow</code>  When performing <code>DELETE</code> operations from the table that will reduce the amount of table rows, we can run into a pagination bug. To avoid it, use <code>useDeleteTableRow</code> in the <code>useDelete&lt;whatever&gt;</code> hook that will return the delete function:</p> <pre><code>export const useDeleteWhatever = (\n    params: Record&lt;string, any&gt;,\n    count: number,\n): UseMutationResult =&gt; {\n    const onSuccess = useDeleteTableRow({\n        params,\n        pageKey: 'whateverPage', // optional, will default to \"page\"\n        pageSizeKey: 'whateverPageSize', //optional, will default to \"pageSize\"\n        count,\n        invalidateQueries: ['whatever'], // optional\n        baseUrl: baseUrls.whatever,\n    });\n    return useSnackMutation({\n        mutationFn: deleteWhatever,\n        options: { onSuccess },\n    });\n};\n</code></pre>"},{"location":"pages/dev/reference/guidelines/front-end/front-end.html#filters","title":"Filters","text":"<p>Most tables we display come with one or several filters, most commonly a text search and date filters.</p> <p>It's a global feature in Iaso that all filter searches performed on pages are deep-linked, i.e.: the parameters of the filters are saved in the url, so users can share the results of their search/filtering. This has an impact on the architecture of Iaso:</p> <ul> <li> <p>All search fields need to be declared in <code>routes.js</code>, under the <code>params</code> key. Important: <code>params</code> is an ordered list. Passing them in the wrong order in the URL will result in a 404.</p> </li> <li> <p>Applying a filter doesn't change the component state per se but results in a redirection. Depending on the use cases, we may or may not want to save consecutive filters/searches in the routers history</p> </li> </ul> <p>We have a few ready-made components for filters:</p> <ul> <li><code>InputComponent</code>: handles most types of inputs: text, select, checkbox, radio</li> <li><code>OrgUnitTreeviewModal</code>: handles searches on org units</li> <li><code>DatePicker</code> and <code>DateRange</code>: handle dates</li> </ul> <p><code>InputComponent</code> takes a <code>keyValue</code> prop, which is a string that corresponds to the url parameter that stores the filter value, and an <code>onChange</code> prop which is a function with the signature (keyValue,value) =&gt; void. <code>DateRange</code> takes a <code>keyDateFrom</code> and a <code>keyDateTo</code> that play the same role for the start and end date respectively. </p> <p>We also have a <code>useFilterState</code> hook that handles the state and update methods for filters of a given page:</p> <pre><code> const { filters, handleSearch, handleChange, filtersUpdated } =\n        useFilterState({\n            baseUrl,\n            params,\n            withPagination: false,\n            saveSearchInHistory: false,\n        });\n</code></pre> <ul> <li><code>baseUrl</code>: is the url of the page</li> <li><code>params</code>: the parameters passed to the url. <code>useFilterState</code>  will generate the state for the filters based on those. </li> <li>withPagination: if <code>false</code>  the hook will remove parameters related to table pagination (<code>page</code>, <code>pageSize</code> and so on)</li> <li><code>saveSearchInHistory</code>: if <code>true</code>, the redirection will use <code>redirect</code>  i.o <code>redirectToReplace</code> and the searchg will be saved in the router's history, meaning that using the back arrow will bring the user to the previous search and not the previous page. </li> </ul>"},{"location":"pages/dev/reference/guidelines/front-end/front-end.html#code-style","title":"Code style","text":"<ul> <li>Prefer <code>type?:string</code> to <code>type: string | undefined</code></li> <li>Prefer <code>const</code> to <code>let</code>:</li> </ul> <p>```javascript  // BAD let myVar = \"placeholder\"  if(otherVAlue) {     myVar = otherValue }</p> <p>// GOOD const myVar = otherValue ?? \"placeholder </p> <p>```</p> <ul> <li>Function names should include a verb:</li> </ul> <pre><code>// BAD\nconst username = user =&gt; user.firstname + user.lastname\n\n// GOOD\nconst makeUsername = user =&gt; user.firstname + user.lastname\n</code></pre> <ul> <li>Not all functions are hooks. Hooks should either have some sort of internal state or trigger a side-effect:</li> </ul> <pre><code>// BAD, we're just returning a value\nconst useMyValue = (value :string) =&gt; {\n    return parseInt(value,10)\n}\n\n// GOOD, because of useSafeIntl, the return value will change with user locale\nconst useMyValue = (value :IntlMessage) =&gt; {\n    const { formatMessage } = useSafeIntl()\n    return formatMessage(value)\n}\n\n//GOOD, the returned object is memoized\nconst useMyValue = (value: string) =&gt; {\n    return useMemo(() =&gt; {\n        const result = {\n            isNumber:false, \n            value\n            }\n        if (parseFloat(value)){\n            result.isNumber = true\n        }\n        return result\n    },[value])\n}\n\n// GOOD, as side effect will be triggered after the first render\nexport const useSkipEffectOnMount = (func:Function, deps:Array&lt;unknown&gt;) =&gt; {\n    const didMount = useRef(false);\n\n    useEffect(() =&gt; {\n        if (didMount.current) {\n            func();\n        } else {\n            didMount.current = true;\n        }\n    }, deps);\n};\n\n</code></pre>"},{"location":"pages/dev/reference/guidelines/front-end/front-end.html#remarks","title":"Remarks","text":"<ul> <li>order translations by alphanumeric</li> <li>spacing is by default theme.spacing(2)</li> <li>do not use Grid everywhere or too much</li> <li>all the calls to the api without query params should end by '/'</li> <li>in routes.js, the <code>params</code> listed are ordered, meaning you can get a 404 when they are not in the right order. Related to this, the <code>paginationPathParams</code> that we spread in most routes should come first, right after the <code>accountId</code> to avoid getting 404 because of automatic redirections</li> </ul>"},{"location":"pages/dev/reference/guidelines/git/git.html","title":"Github flow","text":""},{"location":"pages/dev/reference/guidelines/git/git.html#create-and-merge-a-pull-request","title":"Create and merge a pull request","text":"<ul> <li>Make a new branch using the name of the JIRA issue in title</li> <li>Make sure you fill up all sections of the template (changes, how to test, ...)</li> <li>For any new feature make sure you wrote enough python or cypress tests </li> <li>To be mergeable your PR needs to pass build, JS and Python tests.</li> <li>You can also launch Cypress test manually to make sure you didn't brake something else just by tagging <code>@cypress</code> in a comment on your PR</li> <li>Add reviewer(s) to make sure someone is gonna take care of it</li> <li>Merge main in your branch if you have conflicts (we are not doing rebase)</li> <li>If a reviewer request changes apply the changes and mark the discussion on github as resolved when fixed. It will help other reviewers to see if the changes has been done.</li> <li>Re-request a review when all changes are pushed (double check tests again)</li> <li>Wait at least that one reviewer approved the PR and merge the thing</li> <li>Add documentation when necessary (new feature, change in config, etc)</li> </ul>"},{"location":"pages/dev/reference/guidelines/git/git.html#review-a-pull-request","title":"Review a pull request:","text":"<ul> <li>Go to all modified files and parse the code</li> <li>You can write your remarks or change requests directly on the files</li> <li>For each file, click on viewed checkbox while you reviewed it. This can help you to show changes on files after the author fixed your change requests</li> <li>Pull the branch and test the feature locally</li> <li>Approve/comment/request changes while you are done</li> <li>Restart the proccess if the author re-request a review</li> </ul>"},{"location":"pages/dev/reference/guidelines/git/git.html#tips","title":"Tips","text":"<ul> <li>You can always write a draft PR to run the tests or share a discussion with other developers </li> <li>To make sure your PR will pass in the next release you can add the <code>release</code> label to it</li> <li>You can add comments on a file or on multiple lines</li> <li>Black formatting is not automatic on new migration files</li> <li>You can access to the pull requests where your review is requested here</li> <li>When reviewing a PR and adding comments, you can inline a suggestion with the <code>suggestion</code> block. More information can be found here on point 6.</li> </ul>"},{"location":"pages/dev/reference/public_registry/public_registry.html","title":"Configuring a Public Registry","text":"<p>To configure a public registry, follow these steps:</p>"},{"location":"pages/dev/reference/public_registry/public_registry.html#step-1-activate-the-plugin","title":"Step 1: Activate the Plugin","text":"<p>First, you need to activate the plugin by adding <code>\"registry\"</code> to the <code>PLUGINS</code> variable in your settings.</p> <pre><code>PLUGINS = registry,...\n</code></pre>"},{"location":"pages/dev/reference/public_registry/public_registry.html#step-2-make-a-data-source-public","title":"Step 2: Make a Data Source Public","text":"<ol> <li>Open the Django admin interface.</li> <li>Navigate to the data source you want to make public.</li> <li>Select the data source and mark it as public.</li> </ol>"},{"location":"pages/dev/reference/public_registry/public_registry.html#step-3-create-a-public-registry-config","title":"Step 3: Create a Public Registry Config","text":"<ol> <li>In the Django admin interface, navigate to the public registry config section.</li> <li>Click on \"Add\" to create a new public registry config.</li> </ol>"},{"location":"pages/dev/reference/public_registry/public_registry.html#configuration-fields","title":"Configuration Fields","text":"<ul> <li>Host: Enter any URL you want to use as the host.</li> <li>Slug: Set this to <code>default_registry</code> (this value is hardcoded in the front-end at the moment).</li> <li>Whitelist: Leave this field to the default value.</li> <li>Account: Select the account where your data source is located.</li> <li>Root Orgunit: Leave this field empty.</li> <li>Data Source: Select the data source you made public.</li> <li>Source Version: Select the version of the data source.</li> <li>App ID: Fill in the App ID of the project that uses the account and the data source.</li> </ul>"},{"location":"pages/dev/reference/public_registry/public_registry.html#example-configuration","title":"Example Configuration","text":"<p>Here is an example configuration:</p> <ul> <li>Host: <code>https://www.example.com</code></li> <li>Slug: <code>default_registry</code></li> <li>Whitelist: <code>{\"fields\": [\"Name\"]}</code></li> <li>Account: <code>polioTest</code></li> <li>Root Orgunit: (leave empty)</li> <li>Data Source: <code>polio</code></li> <li>Source Version: <code>Polio 1</code></li> <li>App ID: <code>com.poliooutbreaks.app</code></li> </ul>"},{"location":"pages/dev/reference/public_registry/public_registry.html#final-steps","title":"Final Steps","text":"<p>After filling in all the required fields, save the configuration. Your public registry should now be configured and ready to use.</p>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html","title":"SQL Dashboard feature","text":"<p>For super user across account there is a way to run raw read only SQL queries at the <code>/explore/</code> page : https://iaso.bluesquare.org/explore/ e.g SELECT name FROM iaso_orgunittype</p> <p>This is useful to check the database state and query data accross different client account. You can also save query and share them with others.</p> <p>This feature is implemented via the excellent Django SQL Dashboard, their documentation has more complete information:  https://django-sql-dashboard.datasette.io/en/stable/index.html</p>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#tips","title":"Tips","text":""},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#bar-charts","title":"Bar charts","text":"<p>You can generate bar chart by having two column named <code>bar_label</code>  and <code>bar_quantity</code></p> <p>Examples</p>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#example-number-of-org-unit-per-type-in-a-project","title":"Example: Number of Org Unit per type in a project","text":"<pre><code>select iaso_orgunittype.name as bar_label, count(org_unit.id) as bar_quantity  \nfrom iaso_orgunittype  \n    join iaso_orgunittype_projects on iaso_orgunittype.id = iaso_orgunittype_projects.orgunittype_id  \n    left join iaso_orgunit org_unit on iaso_orgunittype.id = org_unit.org_unit_type_id  \n    where iaso_orgunittype_projects.project_id = 1  \ngroup by iaso_orgunittype.id  \norder by  bar_quantity\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#orgunit-hierarchy-linked-to-an-org-unit","title":"OrgUnit hierarchy linked to an org unit","text":"<pre><code>SELECT * FROM iaso_orgunit WHERE path ~ '*.104133.*'\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#use-of-parameters","title":"Use of parameters","text":"<p>You can use parameter, this will automatically create an input.</p> <p>If you save them as a dashboard it will allow passing the paramter in the url</p>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#example-number-of-submission-per-form-and-per-org_unit-in-a-particular-sourceversion-version_id","title":"Example number of submission per form and per org_unit in a particular SourceVersion (version_id)","text":"<pre><code>SELECT \"iaso_orgunit\".\"path\",  \n       \"iaso_orgunit\".\"name\",  \n       \"iaso_instance\".\"form_id\",  \n       count(\"iaso_instance\".\"id\") filter  \n           (WHERE (not (\"iaso_instance\".\"file\" = '' and \"iaso_instance\".\"file\" is not null) and  \n                   not (\"iaso_instance\".\"deleted\" and \"iaso_instance\".\"deleted\" is not null))) as \"instances_count\"  \n\nFROM \"iaso_orgunit\"  \n         JOIN \"iaso_instance\"  \n              ON (\"iaso_orgunit\".\"id\" = \"iaso_instance\".\"org_unit_id\")  \n                  and version_id = %(version_id)s\nGROUP BY \"iaso_orgunit\".path, \"iaso_orgunit\".\"id\", \"iaso_instance\".\"form_id\"  \norder by \"iaso_orgunit\".path  \nlimit 100;\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#use-multiple-ids","title":"Use multiple ids","text":"<p>This tips is useful to allow passing multiple ids, separated per <code>,</code></p> <pre><code>select * from iaso_form where\niaso_form.id = ANY (string_to_array(%(form_ids)s::text, ',')::int[])\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#multi-line-chart","title":"Multi Line chart","text":"<p>You can generate multi line chart by naming columns <code>line_label</code>, <code>line_quantity</code> and <code>line_category</code> (you need all three)</p> <p></p>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#example-cumulative-submission-per-projects-per-month","title":"Example cumulative submission per projects per month","text":"<pre><code>select line_label,\n       line_category,\n       sum(line_quantity) over (PARTITION BY line_category order by line_label) as line_quantity\nfrom (\nselect TO_CHAR(date_trunc('month', COALESCE(iaso_instance.source_created_at, iaso_instance.created_at)), 'YYYY/MM') as line_label, count(*) as line_quantity,  iaso_project.name as line_category from iaso_instance inner join iaso_project on iaso_instance.project_id = iaso_project.id\n group by line_label, iaso_project.name order by line_label, line_quantity desc limit 200\n) as data\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#cumulative-sum","title":"Cumulative sum","text":"<p>To generate a cumulative sum (particularly useful for progression over time). Wrap your query with</p> <pre><code>select line_label,\n       line_category,\n       sum(line_quantity) over (PARTITION BY line_category order by line_label) as line_quantity\nfrom (\n YOUR QUERY\n) as data\n</code></pre> <p>See previous example.</p>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#random-data-generation-example","title":"random data generation example","text":"<pre><code>select line_label,  \n       line_category,  \n       sum(line_quantity) over (PARTITION BY line_category order by line_label) as line_quantity  \nfrom (select TO_CHAR(gen_date.generate_series, 'YYYY/MM') as line_label,  \n             (random() - 0.2) * 1000::int                 as line_quantity,  \n             name                                         as line_category  \n      from (select *  \n            from generate_series('2008-03-01 08:00'::timestamp,  \n                                 '2009-03-04 12:00'::timestamp, '1 month')) gen_date  \n               cross join (VALUES ('foo'), ('bar'), ('baz')) as categories (name)) as data\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#searching-in-org-units-org-unit-types","title":"Searching in Org Units, Org Unit Types","text":"<p>Here are some examples of queries to find Org Units, their types, reference forms and everything linked to the hierarchy of a specific Org Unit.</p> <p>As we are using Postgre's ltree extension and django-ltree to model this hierarchy, specific SQL operators are available to search in a performant way and queries can be cumbersome.</p> <p>Let's say you have a OrgUnit with ID : XXXXXX</p>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#find-the-hierarchy-linked-to-this-org-unit","title":"Find the hierarchy linked to this Org Unit.","text":"<pre><code>SELECT * FROM iaso_orgunit WHERE path ~ '*.XXXXXX.*'\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#find-the-related-org-unit-types","title":"Find the related Org Unit Types :","text":"<pre><code>SELECT * FROM iaso_orgunittype WHERE id IN \n    (SELECT org_unit_type_id FROM iaso_orgunit WHERE path ~ '*.XXXXXX.*')\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#reference-forms-of-these-org-unit-types","title":"Reference forms of these Org Unit Types","text":"<pre><code>SELECT * FROM iaso_form WHERE id IN \n    (SELECT reference_form_id FROM iaso_orgunittype WHERE id IN \n        (SELECT org_unit_type_id FROM iaso_orgunit WHERE path ~ '*.XXXXXX.*'))\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#find-the-form-versions-of-these-reference-forms","title":"Find the Form Versions of these Reference Forms.","text":"<pre><code>SELECT * FROM iaso_formversion WHERE id IN \n    (SELECT id FROM iaso_form WHERE id IN \n        (SELECT reference_form_id FROM iaso_orgunittype WHERE id IN \n            (SELECT org_unit_type_id FROM iaso_orgunit WHERE path ~ '*.XXXXXX.*')))\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#the-instances-linked-to-that-hierarchy","title":"The Instances linked to that hierarchy","text":"<pre><code>SELECT * FROM iaso_instance WHERE org_unit_id IN \n    (SELECT id FROM iaso_orgunit WHERE path ~ '*.104133.*')\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#finding-the-projects-linked-to-that-hierarchy","title":"Finding the projects linked to that hierarchy","text":"<pre><code>SELECT * FROM iaso_project WHERE id in \n    (SELECT project_id FROM iaso_instance WHERE org_unit_id IN \n        (SELECT id FROM iaso_orgunit WHERE path ~ '*.104133.*'))\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#devices-linked-to-that-hierarchy","title":"Devices linked to that hierarchy","text":"<pre><code>SELECT * FROM iaso_device WHERE id in \n    (SELECT device_id FROM iaso_instance WHERE org_unit_id IN \n        (SELECT id FROM iaso_orgunit WHERE path ~ '*.104133.*'))\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#accounts-linked-to-these-projects","title":"Accounts linked to these projects","text":"<pre><code>SELECT * FROM iaso_account WHERE id IN \n    (SELECT account_id FROM iaso_project WHERE id in \n        (SELECT project_id FROM iaso_instance WHERE org_unit_id IN \n            (SELECT id FROM iaso_orgunit WHERE path ~ '*.104133.*')))\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#source-versions-linked-to-these-projects","title":"Source versions linked to these projects","text":"<pre><code>SELECT * FROM iaso_sourceversion WHERE id IN\n    (SELECT default_version_id FROM iaso_account WHERE id IN \n        (SELECT account_id FROM iaso_project WHERE id in \n            (SELECT project_id FROM iaso_instance WHERE org_unit_id IN \n                (SELECT id FROM iaso_orgunit WHERE path ~ '*.104133.*'))))\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#datasources-linked-to-these-versions","title":"Datasources linked to these versions","text":"<pre><code>SELECT * FROM iaso_datasource WHERE id IN (SELECT data_source_id FROM iaso_sourceversion WHERE id IN\n(SELECT default_version_id FROM iaso_account WHERE id IN \n    (SELECT account_id FROM iaso_project WHERE id in \n        (SELECT project_id FROM iaso_instance WHERE org_unit_id IN \n            (SELECT id FROM iaso_orgunit WHERE path ~ '*.104133.*')))))\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#credentials-linked-these-datasources","title":"Credentials linked these datasources","text":"<pre><code>SELECT * FROM iaso_externalcredentials WHERE id IN (SELECT credentials_id FROM iaso_datasource WHERE id IN (SELECT data_source_id FROM iaso_sourceversion WHERE id IN\n(SELECT default_version_id FROM iaso_account WHERE id IN \n    (SELECT account_id FROM iaso_project WHERE id in \n        (SELECT project_id FROM iaso_instance WHERE org_unit_id IN \n            (SELECT id FROM iaso_orgunit WHERE path ~ '*.104133.*'))))))\n</code></pre>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#restrictions","title":"Restrictions","text":"<p>This functionality is severly restricted to prevent the risk of data leak and security issues:</p> <ul> <li>Only a certain set of table are accessible. (notably not the user table password)</li> <li>Since this is ignore the multi tenant rule only super user can be given access to it</li> <li>Access is read only (see implementation detail)</li> </ul>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#configuration-and-implementation-detail","title":"Configuration and Implementation detail","text":"<p>To garantee read only access this feature use a separate user that should only be given restricted right.</p> <p>The functionnality is automatically enabled if this user is set via the <code>DB_READONLY_USERNAME</code> environment variable.</p> <p>To configure it: Create a Postgresql user with a password and no acess and give him the role <code>readonlyrole</code>. You can do so using the sql command</p> <pre><code>GRANT readonlyrole to YOUR_USER\n</code></pre> <p>Set the environment variable <code>DB_READONLY_USERNAME</code> and <code>DB_READONLY_PASSWORD</code>.</p> <p>Some migration will give read acess to the certain tables to the <code>readonlyrole</code>, should you give access to more table use the command</p> <pre><code>GRANT SELECT ON TABLE   \n iaso_new_table_1,\n iaso_new_table_2,\nTO \"readonlyrole\";\n</code></pre> <p>to only give access to certain column on a table</p> <pre><code>GRANT SELECT(  \n  id, username, is_active, date_joined  \n) ON auth_user TO \"readonlyrole\";\n</code></pre> <p>See also https://django-sql-dashboard.datasette.io/en/stable/security.html</p>"},{"location":"pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#in-local-dev","title":"In local dev","text":"<p>this feature is automatically enabled.</p>"},{"location":"pages/dev/reference/vector_control/vector_control.html","title":"Vector control","text":"<p>This App is used to log API calls in the DB.</p> <p>The idea is that the mobile app user may not have great internet connection where they are so in case of import problem we can fix it server side and not ask them to upload again.</p> <pre><code>API endpoint to be logged as such are decorated with the @safe_api_import decorator.\nThe request themselves are stored in the vector_control.APIImport model.\nTo replay the failings requests use the django command reimport_failed_imports.py\n</code></pre> <p>This app used to be a lot of others things too before, hence the not matching name.</p>"},{"location":"pages/users/FAQ/faq.html","title":"Faq","text":"<p>How do I configure Iaso in a way that mobile users cannot create new OUs ? And/or is it possible to limit OU creation to certain OU types. Ex: mobile users can create the types at the bottom of the hierarchy (FOSA, village), but not at the top (Region -&gt; Aire sanitaire) ?</p> <p>It\u2019s in the org unit type configuration: you specify what is allowed under a given org unit type in the \"sub org unit types\" selector.</p> <p></p>"},{"location":"pages/users/how_to/convert_docx_to_md/convert_docx_to_md.html","title":"How to convert a .docx file to .md","text":"<ul> <li>Install pandoc</li> <li>Add a copy of your <code>docx</code> file to <code>iaso/docs/originals</code></li> <li>Create a folder for your file at the right place. E.g: If you want to create a how-to file for users, you would create the folder <code>iaso/docs/pages/users/how_to/my_new_page</code>. Make sure to use snake_case when naming your folder.</li> <li>In your <code>iaso/docs/pages/users/how_to/my_new_page</code> folder, create a <code>media</code> folder. The full path to the media folder should be: <code>iaso/docs/pages/users/how_to/my_new_page/media/</code></li> <li>In <code>iaso/docs/pages/users/how_to/my_new_page/</code>, run the following pandoc command: </li> </ul> <pre><code>pandoc -s -f docx -t markdown_mmd --extract-media=. -o ./my_new_page.md ../../../../originals/MyPage.docx\n</code></pre> <p>This will copy all the attached media of you <code>docx</code>file (like screenshots) in <code>iaso/docs/pages/users/how_to/my_new_page/media/</code>, and create <code>my_new_page.md</code> in <code>iaso/docs/pages/users/how_to/my_new_page/</code> - Rename the <code>media</code> folder to <code>attachments</code> - Open <code>my_new_pages.md</code>. search (ctrl+F/cmd+F) for the word \"media\" and replace it with \"attachment\" whenever it is a path to a file, eg:</p> <pre><code>&lt;!--&gt;Initial value&lt;--&gt;\n&lt;img src=\"./media/image1.png\"style=\"width:3.02211in;height:0.79688in\" /&gt;\n&lt;!--&gt;Correct value&lt;--&gt;\n&lt;img src=\"./attachments/image1.png\"style=\"width:3.02211in;height:0.79688in\" /&gt;\n</code></pre> <p>This is because <code>media</code> folders are not pushed on github, so if we don't rename it, the screenshots in your docs will be lost</p> <ul> <li>Go through <code>my_new_pages.md</code> and fix any layout issues that may have been caused by the conversion.</li> <li>Now you can add you page to the docs: go to <code>iaso/mkDocs.yml</code> and locate the <code>nav</code> entry. </li> <li>Add you new page:</li> </ul> <pre><code>nav:\n  - Home: index.md\n  - Users: \n    - References:\n      - User guide:\n        - ./pages/users/reference/user_guide/user_guide.md\n      - How to:\n        - ./pages/users/how_to/my_new_page/my_new_page.md #&lt;-- Your page would go here\n      - FAQ: ./pages/users/FAQ/faq.md\n</code></pre>"},{"location":"pages/users/how_to/create_new_documentation_page/create_new_documentation_page.html","title":"How to add a new page to Iaso's documentation","text":""},{"location":"pages/users/how_to/create_new_documentation_page/create_new_documentation_page.html#1-determine-where-the-page-belongs","title":"1. Determine where the page belongs","text":"<p>To determine where a new documentation page fits, there are 2 questions to answer: - Who is it intended for? - What kind of document is it?</p> <p>We currently have 2 categories of documentation users: developers and users. This will determine the style of the writing and the assumptions  you can make in terms of, eg prior knowledge of the product.</p> <p>We determine the kind of document using the diataxis framework. Basically, the idea is to ask what the goal of the document is. A simple rule of thumb is: - Give instructions about how to perform a task, eg: how do I login? -&gt; how to - Explanation of concepts, eg: what is an org unit type? -&gt; reference - Explanation on choices made for some implementation, eg: why do we use react-query for API calls? -&gt; explanation</p> <p>Once we know who the document is intended for and what kind of document it is, we just need to follow the folder structure. For example, this document is intended for users and aims to explain how to create a new page in the documentation, so it will go in:</p> <pre><code>&gt; pages\n    &gt; users\n        &gt; how_to\n</code></pre> <p>There is an exception for the FAQ whixh we keep separate and visible for convenience</p>"},{"location":"pages/users/how_to/create_new_documentation_page/create_new_documentation_page.html#2-create-a-branch-on-git-for-the-new-document","title":"2. Create a branch on git for the new document","text":"<p>Ideally, there will be a Jira ticket for the changes about to be made. It should be used to name the branch, as it will enable Jira to directly link the ticket to the branch. For example, the development branch for this document is called <code>IA-2630_how_to_write_iaso_doc</code></p> <p>To create the branch: - Open a terminal - Make sure you are on main. If not run <code>git checkout main</code> - Run <code>git checkout -b &lt;Branch name&gt;</code>. This will create the branch and switch to it</p>"},{"location":"pages/users/how_to/create_new_documentation_page/create_new_documentation_page.html#3-create-folder-and-markdown-files","title":"3. Create folder and markdown files","text":"<p>By convention, we create a folder with the same name as the markdown file.  For example, this document is in:</p> <pre><code>&gt; pages\n    &gt; users\n        &gt; how_to\n            &gt; create_new_documentation_page\n                - create_new_documentation_page.en.md --&gt; this page\n                - create_new_documentation_page.fr.md --&gt; its french counterpart\n</code></pre> <p>It's important to use the format <code>&lt;name&gt;.&lt;language&gt;.md</code>, as it will be used by mkDocs to display the right page for the right language</p>"},{"location":"pages/users/how_to/create_new_documentation_page/create_new_documentation_page.html#4-write-the-doc","title":"4. Write the doc","text":"<p>Format the text using markdown syntax</p>"},{"location":"pages/users/how_to/create_new_documentation_page/create_new_documentation_page.html#41-add-images","title":"4.1. Add images","text":"<ul> <li>Add a folder called <code>/attachments/</code> in the document's folder and move the images there</li> </ul> <pre><code>&gt; pages\n    &gt; users\n        &gt; how_to\n            &gt; create_new_documentation_page\n                &gt; attachments\n                - create_new_documentation_page.en.md\n                - create_new_documentation_page.fr.md\n</code></pre> <p>To add the image in the markdown file, either: - use markdown syntax to add the link <code>![my_image](./attachments/my_image.png)</code> - use an html <code>img</code> tag:</p> <pre><code>&lt;img src=\"./attachments/image49.png\" /&gt;\n</code></pre> <p>The markdown syntax is less cumbersome if the image is already at the right size. The <code>img</code> tag allows for manually setting the image width and heigh via the <code>style</code> attribute:</p> <pre><code>&lt;img src=\"./attachments/image49.png\" style=\"width:50px;height:50px\" /&gt;\n</code></pre> <p>Note: Add the <code>/attachments/</code> folder even if the document doesn't contain any images yet. It will make it easier for others to add them later.</p>"},{"location":"pages/users/how_to/create_new_documentation_page/create_new_documentation_page.html#5-push-the-changes-on-github","title":"5. Push the changes on Github","text":"<p>Once the document is ready, the changes need to be saved on the git branch, then pushed on Github, so they can be reviewed and merged. There are tools to make this part faster and easier to manage (Github desktop, or even just the git ineterface of VS Code), but if it needs to be done in the terminal (from the document's branch): - <code>git add .</code> - <code>git commit -m &lt;commit message&gt;</code> - <code>git push</code></p>"},{"location":"pages/users/how_to/create_new_documentation_page/create_new_documentation_page.html#6-open-the-pull-request","title":"6. Open the Pull Request","text":"<p>Pull requests are the process through which we review code. Since the documentation is hosted as part of the code, it's going through the same review process, though not necessarily by the same persons.</p> <p>To open a pull request: - Go to iaso's pull requests - Click New pull request - Select a branch - Describe the changes. The description template can be ignored for documentation changes, but please leave a description, as it helps tracking and understanding changes.</p>"},{"location":"pages/users/how_to/create_new_documentation_page/create_new_documentation_page.html#7-review-a-pull-request","title":"7. Review a pull request","text":"<p>Pull requests are peer-reviews that insure that all changes are cross-checked, so one should not merge their own pull requests.</p> <p>To review a pull request: - Go to iaso's pull requests - Click in the pull request - Click \"Add your review\" - Review the changes, comment where necessary - To finish the review, click \"Review changes\"     - If the changes can be deployed as they are, choose \"Approve\"     - If not, explain what needs to be corrected and chooses \"Request changes\" - If the PR has been approved, go the \"Conversation\" tab of the PR, scroll down and click \"Merge pull request\"</p> <p>The changes will be visible in production once the pull request has been merged</p>"},{"location":"pages/users/how_to/edit_documentation/edit_documentation.html","title":"How to edit an existing page in iaso's documentation","text":""},{"location":"pages/users/how_to/edit_documentation/edit_documentation.html#1-to-add-only-text","title":"1. To add only text","text":"<ul> <li>On the readthedocs page, click \"Edit on Github\"</li> <li>Make the changes</li> <li>Click \"Commit changes\"</li> <li>Add a description of the changes (eg: \"fix typo\")</li> <li>Choose \"Create new branch for this commit and start pull request\"</li> <li>Change the name of the branch (eg to include he Jira ticket number)</li> <li>Click \"Propose changes\"</li> </ul>"},{"location":"pages/users/how_to/edit_documentation/edit_documentation.html#2-to-add-text-and-images","title":"2. To add Text and images","text":"<p>For the text, see point 1 above. For the images, add the images to the <code>/attachments/</code> folder of that document, eg, for user_guide:</p> <pre><code>&gt; user_guide\n    &gt; attachments  // &lt;-- there\n    - user_guide.md\n</code></pre> <p>To add the image in the markdown file, either: - use markdown syntax to add the link <code>![my_image](./attachments/my_image.png)</code> - use an html <code>img</code> tag:</p> <pre><code>&lt;img src=\"./attachments/image49.png\" /&gt;\n</code></pre> <p>The markdown syntax is less cumbersome if the image is already at the right size. The <code>img</code> tag allows for manually setting the image width and heigh via the <code>style</code> attribute: ```html </p> <p>If the <code>/attachments/</code> folder doesn't exist, the change can't be made using Github's interface and should be made using git and an IDE/text editor</p>"},{"location":"pages/users/how_to/run_ETL/run_ETL.html","title":"IASO ETL","text":"<p>Extract, Transform, Load (ETL) is a script to extract and transform entity data from IASO into the format expected by the Tableau dashboards.</p> <p>Currently, it reads and writes to the same database as the Iaso installation. The ETL script can be used in two ways:</p> <ol> <li>It can be scheduled as periodic task, which means it is set to run regulary.</li> <li>Alternatively, it can be scheduled as a one-off task, where the task is executed only once.</li> </ol>"},{"location":"pages/users/how_to/run_ETL/run_ETL.html#how-to-view-scheduled-periodic-tasks","title":"How to view scheduled periodic tasks","text":"<p>From the Iaso Admin page, in the \"Periodic Tasks\" section select \"Periodic tasks\":</p> <p></p> <p>You will get a list of scheduled tasks:</p> <p></p>"},{"location":"pages/users/how_to/run_ETL/run_ETL.html#how-to-create-etl-task-as-periodic-task","title":"How to create ETL task as periodic task","text":"<p>From the Iaso Admin page, in the \"Periodic Tasks\" list, on the top right side, there is a button Add periodical task:</p> <p></p> <p>You will get a form to create/edit a periodic task like the ETL task:</p> <p></p> <p>There are 5 main fields:</p> <ul> <li>Name: task name</li> <li>Task (custom): a developed custom script</li> <li>Enabled: if is set to true, the task will run automatically</li> <li>Interval Schedule: the frequency of execution of the task (when Enabled is set to True)</li> <li>One-off Task: if checked, the schedule will only run the task a single time</li> </ul> <p>Then click on Save to save the task!</p> <p>In the periodic tasks list, when Enabled and/or One-off Task is set to true the circle icon will become green, otherwise it's red!</p>"},{"location":"pages/users/how_to/run_ETL/run_ETL.html#how-to-run-the-etl-script-manually","title":"How to run the ETL script manually","text":"<p>From the Iaso Admin on the \"Periodic tasks\" page, select the ETL task to run, in the \"Action\" field above, select the action \"Run Selected Tasks\":</p> <p></p> <p>Then click on the Go button:</p> <p></p> <p>Note that the task queue is managed by Celery which is a Distributed Task Queue.</p> <p>Once the task has finished running, you can go to the \"Celery Results\" section and open \"Task results\". There you will find a list of completed tasks ordered by completed datetime with for each row:</p> <ol> <li>Period task name: the name of task</li> <li>Task Name: the developed custom script</li> <li>Completed datetime: the time when the script finished running</li> <li>Task state: SUCCESS if the task ran successfully, FAILURE if it failed</li> </ol> <p></p> <p>When the task ran successfully, it will populate the analytics table with the entities data. In the Iaso Admin page, you can find all analytics tables in the WFP section:</p> <ol> <li>Beneficiaries</li> <li>Journeys</li> <li>Visits</li> <li>Steps</li> <li>Monthly statistics</li> </ol> <p>Note that in our case, there are 2 beneficiary types: Children under 5 and Pregnant and Lactating Women (PLW)</p>"},{"location":"pages/users/how_to/run_ETL/run_ETL.html#1-beneficiaries","title":"1. Beneficiaries","text":"<p>An analytics table to store the basic beneficiary information:</p> <ul> <li>Birth date: The beneficiary's birth date recorded in the admission visit</li> <li>Gender: The gender for the beneficiary, used only for children under 5</li> <li>Entity id: Reference to the entity id</li> <li>Account: reference to the country account</li> </ul> <p></p>"},{"location":"pages/users/how_to/run_ETL/run_ETL.html#2-journeys","title":"2. Journeys","text":"<p>Analytics table to store beneficiary information from the admission in the program to the exit. When a beneficiary is admitted in a program, it means in the current context the start of a journey that will end when he is discharged from the program.</p> <ul> <li>Beneficiary: Reference to beneficiary id</li> <li>Admission Criteria: the criteria selected in the admission visit, eg: MUAC, WHZ</li> <li>Admission Type: the admission type selected in the admission visit. eg: New Case, Relapse, etc...</li> <li>Nutrion Programme: the program selected in the admission visit. eg: OTP, TSFP</li> <li>Programme Type: It shows if the beneficiary is a child under 5 or a pregnant/lactating woman, e,g: U5, PLW</li> <li>Initial Weight: the weigth of beneficiary when admitted in the program</li> <li>Discharge Weight: the weigth of beneficiary when discharged from the program</li> <li>Start Date: the admission date</li> <li>End Date: the discharge date</li> <li>Duration: the length of the stay(number of days between the admission date and discharge date), i.e. the journey duration</li> <li>Weight Gain: the difference between discharge weight and initial weight when it's positive</li> <li>Weight Loss: the difference between discharge weight and initial weight when it's negative</li> <li>Exit Type: the reason of discharge from program. e.g: Cured, Voluntary Withdrawal, Death, Defaulter, etc...</li> <li>Instance Id: reference to the form submission of the beneficiary registration</li> </ul> <p></p>"},{"location":"pages/users/how_to/run_ETL/run_ETL.html#3-visits","title":"3. Visits","text":"<p>Analytics table to store beneficiary visit information. For instance in nutrition program, there are 2 types of visits:</p> <ol> <li>admission: the first time when the beneficiary is admitted in the program</li> <li>followup: the successif visits when the beneficiary is already admitted into program</li> </ol> <p>Here are the fields for the table:</p> <ul> <li>Date: admission or followup visit date</li> <li>Number: The number of current visit (admission visit is 0)</li> <li>Org unit: the org unit where the visit occured</li> <li>Journey: Reference to journey id where the visit belongs to</li> </ul> <p></p>"},{"location":"pages/users/how_to/run_ETL/run_ETL.html#4-steps","title":"4. Steps","text":"<p>In the context of nutrition program, a visit is splitted into 3 steps: anthropometric, medical and assistance.</p> <p>Here are the fields for the table:</p> <ul> <li>Assistance type: the assistance type given during the medical or assistance visit. e.g: Amoxillin, Soap, Net, CSB, etc...</li> <li>Quantity given: the quantity given for assistance type.</li> <li>Visit: Reference to the linked visit</li> </ul> <p></p> <p>For each analytics table, you will find filters on the right side that allow filtering data on various field values.</p>"},{"location":"pages/users/how_to/run_ETL/run_ETL.html#5-monthly-statisticss","title":"5. Monthly statisticss","text":"<p>An analytics table to aggregate assistance data within visits based on the org unit the visits happened, period (month and year) and assistance type and quantity given.</p> <p>For example, when there are 3 visits for 3 beneficiaries that belong to the same program type, nutrition program, admission type and admission criteria, that happened in the same org unit, month and year, and within the visits various assistances have been given, in this table, those 3 visits will be aggregated in 1 by adding together the quantities of assistance given for the same assistance type.</p> <p>Here are the fields for the table:</p> <ol> <li>Org Unit: the reference of org unit where the visits happened</li> <li>Account: reference to country account</li> <li>Month: the month when the visits happened</li> <li>Year: the month when the visits happened</li> <li>Admission criteria: the admission criteria of all aggregated visits</li> <li>Admission type: the admission type of all aggregated visits</li> <li>Nutrition program:  the nutrition program of all aggregated visits</li> <li>Program type: the program type of all aggregated visits</li> <li>Number visits: the number of aggregated visits</li> <li>Given sachet RUSF: the sum of all given quantity of RUSF (assistance type) during the assistance visits</li> <li>Given sachet RUTF: the sum of all given quantity of RUTF (assistance type) during the assistance visits</li> <li>Given quantity CSB: the sum of all CSB given during assistance type</li> </ol> <p></p> <p>Note that on the right there is a filter to allow filtering data on various field values.</p>"},{"location":"pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html","title":"1. Setup an empty iaso account","text":"<p>Find someone with appropriate access right (django admin required)</p> <p>https://iaso.bluesquare.org/api/setupaccount/</p> <p></p> <p>Use and store the user/password in a password manager</p>"},{"location":"pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html#2-create-a-dedicated-dhis2-for-iaso","title":"2. Create a dedicated DHIS2 for iaso","text":"<p>We want to keep track of which app is changing which data/metadata of dhis2 so please don\u2019t use the main/default \u201cadmin\u201d user but a dedicated one.</p> <ul> <li> <p>Go in the dhis2 \u201cUsers / Utilisateurs\u201d module</p> </li> <li> <p>\u201cDuplicate the admin\u201d </p> </li> </ul> <p></p> <ul> <li>Generate a password with password manager (need at least one special char)</li> </ul> <p></p>"},{"location":"pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html#3-login-in-iaso-with-the-user-created-at-step-1","title":"3. Login in iaso with the user created at step 1","text":"<p>Verify the account is empty or in the left menu</p> <p>Avoid doing the next steps with the django admin, as it can lead to industrial accident: the user may be linked to a totally different account/project you might end up with the pyramid of a project filled with orgunits of another country.</p> <p></p>"},{"location":"pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html#4-add-a-new-project","title":"4. Add a new project","text":"<p>Use the naming used by clients if applicable.</p> <p></p> <p>Promote \u201cgood behavior\u201d by enabling authentication by default</p> <p></p>"},{"location":"pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html#5-create-a-new-datasource","title":"5. Create a new datasource","text":"<p>Use the user created at step 2</p> <p>Make the source the default one </p> <p></p>"},{"location":"pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html#6-create-a-new-first-version-of-the-data-source","title":"6. Create a new (first) Version of the data source","text":"<p>You can import this first version </p> <p></p>"},{"location":"pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html#7-updating-the-pyramid","title":"7. Updating the pyramid","text":"<p>IMPORTANT note that if you \u201cadd new orgunits or add/change groups\u201d that\u2019s not previous step screen that you should use</p> <p>but the \u201cupdate\u201d button on the default version !</p> <p></p> <p>If you create a new version \u201cswap it to the default version\u201d this detection will be broken since incoming submission will be attached to different orgUnit iaso id.</p>"},{"location":"pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html#8-whats-next","title":"8. What's next ?","text":"<ul> <li> <p>Use the Mobile app in the store and provide the appId/user/password</p> </li> <li> <p>Start configuring the iaso forms</p> </li> <li> <p>try to be consistent and future proof in the naming ! </p> </li> </ul> <p>this is good : </p> <p>```  PMA - Qualit\u00e9 01 - Indicateurs g\u00e9n\u00e9raux  PMA - Qualit\u00e9 02 - Plan financier  PMA - Qualit\u00e9 03 - Consultation Postnatale  ...  PMA - Qualit\u00e9 10 - Vaccination  PMA - Qualit\u00e9 11 - Accouchements  PMA - Quantit\u00e9   PCA - Qualit\u00e9 ...</p> <pre><code>\nthis is **BAD** : \n\n</code></pre> <p>PMA - Qualit\u00e9 1 - Indicateurs g\u00e9n\u00e9raux  PMA - qualit\u00e9 10 - Vaccination  PMA - Qualit\u00e9 11 - accouchements  PMA - qualit\u00e9 2 - plan financier  PMA - Qualit\u00e9 3 - consultation Postnatale...  ...  PMA - Quantit\u00e9   Qualit\u00e9 - PCA - ... ``` - computers are really bad at sorting in natural order so prefer 01 02 03 - be consistent in your upper/lower case usage - be consistent by prefixing the entity type (no need to put the country in it, we have limited space in the mobile app)</p>"},{"location":"pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html","title":"Setup login with dhis2 for iaso","text":""},{"location":"pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#in-dhis2","title":"In DHIS2","text":""},{"location":"pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#go-in-the-oauth-settings","title":"Go in the oauth settings","text":"<p>in the menu : </p> <pre><code>System settings &gt; Oauth 2 clients\nParametres Systeme &gt; Oauth 2 clients\n</code></pre>"},{"location":"pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#create-oauth-client","title":"Create oauth client","text":"<p>Name :  <code>iaso</code> Select : authorization code Url : you need to pick a unique code : <code>https://iaso.bluesquare.org/api/dhis2/&lt;&lt;unique-code&gt;&gt;/login/</code></p> <p></p>"},{"location":"pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#in-iaso-django-admin","title":"In iaso django admin","text":""},{"location":"pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#create-an-external-credentials-record","title":"Create an external credentials record","text":"<p>In django admin : https://iaso.bluesquare.org/admin/iaso/externalcredentials/</p> <ul> <li>Name : oauth client id</li> <li>Login: the url of the dhis2</li> <li>Password: the oauth client secret</li> <li>Url : iaso</li> </ul> <p></p>"},{"location":"pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#enable-the-dhis2-link-in-the-iaso-menu","title":"Enable the dhis2 link in the iaso menu","text":"<p>to be able to easily go back to dhis2 add the feature flag \"SHOW_DHIS2_LINK\" on the Project </p> <p></p> <p>then the entry should appear</p> <p></p>"},{"location":"pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#in-iaso","title":"In iaso","text":""},{"location":"pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#link-the-iaso-user-with-a-dhis2-user","title":"Link the iaso user with a dhis2 user","text":"<p>in iaso general ui</p> <p></p>"},{"location":"pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#test","title":"Test","text":"<p>login in dhis2 with the linked in previous step </p> <p><code>&lt;&lt;dhis2&gt;&gt;/uaa/oauth/authorize?client_id=&lt;&lt;unique-code&gt;&gt;&amp;response_type=code</code></p> <p>then \"Authorize\": you should end up in iaso</p> <p>It's not working ?</p> <ul> <li>Did you put the same code in iaso/dhis2/url to login ?</li> <li>The login in iaso external contains the url of the dhis2 ? </li> <li>Are you logged in dhis2 with the user you linked the iaso user ? </li> </ul>"},{"location":"pages/users/reference/how_we_work/how_we_work.html","title":"How we work","text":""},{"location":"pages/users/reference/how_we_work/how_we_work.html#agile-methodology-in-iaso-implementations","title":"Agile methodology in IASO implementations","text":"<p>Bluesquare's implementation of IASO follows an agile methodology, ensuring continuous communication with our clients and partners. Our approach typically involves creating a project roadmap that includes a timeline for deliverables and identification of external dependencies, such as integration with external systems (e.g., DHIS2). Our flexible team adapts work plans (e.g., backlogs) and deliverables (e.g., epics, features, and user stories) as contexts evolve, recognizing the dynamic nature of each project's context, may it be health campaign digitalization, georegistry implementation, or other. This ensures that IASO remains responsive and effective in meeting our partners' evolving needs.</p> <p>IASO development follows continuous software enhancement through iteration, ensuring that improvements are deployed in a structured and phased manner. By integrating user feedback loops at each stage, we ensure the solution evolves in line with real-world needs.</p> <p>Bluesquare employs the SCRUM methodology, using two-week sprints to manage IASO development. Within each sprint:</p> <ul> <li>Deliverables are regularly discussed to prioritize cost-effective features.</li> <li>Potential delays are identified early.</li> <li>The most impactful features are developed first, ensuring an efficient use of resources.</li> <li>Status meetings help unblock tasks and ensure smooth development cycles.</li> <li>Regular updates are shared with key stakeholders, ensuring transparency and continuous alignment with the projects' objectives.</li> </ul> <p>IASO is part of Bluesquare's open-source solutions ecosystem. Agile methodology allows us to incorporate client feedback into IASO's development efficiently, ensuring that features align with real-world needs. This iterative approach supports customization and enhances the platform\u2019s performance and productivity.</p>"},{"location":"pages/users/reference/how_we_work/how_we_work.html#user-engagement-and-user-centric-design","title":"User engagement and user-centric design","text":"<p>The IASO development process actively engages users and key stakeholders to adopt a patient or user-centric and people-centered systems design. This approach ensures that solutions address the actual needs of frontline health workers, program managers, and policymakers. </p> <p>Bluesquare integrates user input through:</p> <ul> <li>Co-design workshops with implementing partners.</li> <li>Iterative user acceptance testing (UAT) sessions to validate features before deployment.</li> <li>Regular feedback mechanisms embedded in the platform to capture insights from end users.</li> </ul> <p>This participatory approach ensures that IASO is not only technically robust but also intuitive and aligned with local system workflows.</p>"},{"location":"pages/users/reference/how_we_work/how_we_work.html#project-co-construction","title":"Project co-construction","text":"<p>Bluesquare's approach to IASO implementation is based on co-construction, ensuring collaboration with partners at every stage. This principle has been applied in large-scale health initiatives, including immunization campaigns and disease surveillance. Our adaptability enables us to navigate complex governance settings, from WHO data standards to UNICEF\u2019s digital health frameworks. While we adhere to established design methodologies, we continuously seek to refine user experience and are open to collaborations with design experts.</p>"},{"location":"pages/users/reference/how_we_work/how_we_work.html#quality-assurance-in-iaso-development","title":"Quality assurance in IASO development","text":"<p>Quality assurance is integral to IASO\u2019s development and is implemented through:</p> <ul> <li>Test-driven development (TDD): Ensuring all new features are built and validated through automated test cases before deployment.</li> <li>Specification documents and visual mockups: Ensuring shared understanding of complex features before development.</li> <li>Automated testing: Preventing regressions in existing functionalities.</li> <li>User acceptance testing (UAT): Involving end users in validating new features to guarantee usability and alignment with real-world needs.</li> <li>Automated security and quality scans: Maintaining high standards in code development.</li> <li>Manual quality assurance testing: Conducted for each new feature before deployment.</li> </ul>"},{"location":"pages/users/reference/how_we_work/how_we_work.html#continuous-user-feedback-mechanisms","title":"Continuous user feedback mechanisms","text":"<p>IASO development includes structured mechanisms for gathering and incorporating user feedback for continuous improvement:</p> <ul> <li>Periodic stakeholder workshops to review feature requests and usability enhancements.</li> <li>Iterative release cycles that incorporate new user-driven refinements in each version.</li> </ul>"},{"location":"pages/users/reference/how_we_work/how_we_work.html#backstopping-support","title":"Backstopping support","text":"<p>IASO implementations benefit from robust backstopping support via a dedicated single point of contact overseeing:</p> <ul> <li>Technical relevance: Continuous support from in-house experts to ensure high technical standards and timely issue resolution.</li> <li>Project resource allocation: Ensuring adequate staffing and resource distribution to meet project demands.</li> <li>Quality assurance: Conducting regular quality checks to align with client expectations.</li> </ul> <p>IASO support services vary based on project criticality:</p> <ul> <li>Routine projects have a service desk with response times under 8 hours during business hours.</li> <li>Technical and program support is available in English and French, with additional languages spoken by field-based staff.</li> </ul> <p>Bluesquare has supported high-stakes projects where data analysis is needed daily for rapid decision-making. For these critical operations, IASO\u2019s on-call support ensures that digital solutions remain an enabler rather than a bottleneck for public health interventions.</p>"},{"location":"pages/users/reference/iaso_concepts/iaso_concepts.html","title":"Concepts","text":""},{"location":"pages/users/reference/iaso_concepts/iaso_concepts.html#questionnaires-or-xls-data-collection-forms","title":"Questionnaires or XLS data collection forms","text":"<p>What comes with data collection are questions, and to organize these questions, data collection forms. These are basically lists of the questions one would like to collect answers for, while specifying options (mandatory or not, skip a question depending on previous answer, etc.). IASO builds on XLS forms for its questionnaires, which are therefore pre-defined using an Excel file.</p> <p>In IASO, data collection forms are versioned meaning that every time a new version is created, the former version is kept and available in the system. </p>"},{"location":"pages/users/reference/iaso_concepts/iaso_concepts.html#organization-units","title":"Organization Units","text":"<p>IASO uses the notion of Organization Units (Org unit or OU) to manage geographic data.  The organisation unit types (OUT) represent levels in the hierarchy</p> <p>Example:</p> <ul> <li> <p>Country</p> </li> <li> <p>Region</p> </li> <li>District</li> <li>Area</li> <li>Facility/Village/Point of Interest</li> </ul> <p>The organization units are classified in the pyramid according to a parent and one or several children (except the top parent(s) and the lowest child/children).  Example below:</p> <ul> <li> <p>Democratic Republic of Congo (Org unit type \"Country\") is the parent org unit of</p> </li> <li> <p>Kinshasa (Org unit type \"City\"), which is the parent org unit of </p> </li> <li>Bluesquare office (Org unit type \"Office\")</li> </ul> <p>Data collection in IASO is structured according to the defined hierarchy, and any user needs to explicitly select an organization unit before proceeding to opening the questionnaire and answer questions. This way, one makes sure that the data collected is correctly associated with the relevant geography. </p>"},{"location":"pages/users/reference/iaso_concepts/iaso_concepts.html#projects","title":"Projects","text":"<p>In IASO, a Project is a mobile application instance, with its own App ID. Within one account, you can have one or several Project(s) with different feature option(s).  Users can be linked to one or several Project(s). </p> <p>Good to know:</p> <ul> <li> <p>One Project is linked one data source</p> </li> <li> <p>One Project  can be linked to one or several users</p> </li> <li>Some users can be limited to one or several Project(s)/App ID(s) - you can define this in the User management part</li> <li>Every Org Unit Type has to be linked to one or several Project(s)</li> <li>Every Form has to be linked to one or several Project(s)</li> </ul>"},{"location":"pages/users/reference/iaso_concepts/iaso_concepts.html#entities","title":"Entities","text":"<p>In IASO, an \u201cEntity\u201d is anything that can move or be moved and that we want to track through time and Org Units. For example, an person, a car, a parcel, etc.</p> <p>To differentiate between different kinds of entities, IASO has a concept of \u201cEntity Type\u201d.</p> <p>An entity is represented by a submission to a form. This submission is referred to as the profile. The entity type defines which form has to be filled in to create a new entity.</p>"},{"location":"pages/users/reference/iaso_concepts/iaso_concepts.html#workflows","title":"Workflows","text":"<p>Based on the entity's profile, it is possible to offer different kind of forms to fill and how each new submission impacts the profile. The rules which define which forms and how each submission impacts the profile are called a \"Workflow.\" </p>"},{"location":"pages/users/reference/iaso_mobile/iaso_mobile.html","title":"Mobile Application","text":""},{"location":"pages/users/reference/iaso_mobile/iaso_mobile.html#iaso-mobile-application","title":"IASO Mobile Application","text":"<p>IASO mobile application is available on Google Play Store (Android phones only).</p> <p>It can work completely offline - once the end user has encoded the data needed, he/she can upload the data collected offline all at once when network is available.</p> <p>Updates made from the web (forms versions, health pyramid) will be reflected in the App only after the App data has been refreshed and this requires network connectivity.</p> <p>Key tip before testing / using the App - Make sure you have refreshed data beforehand</p>"},{"location":"pages/users/reference/iaso_mobile/iaso_mobile.html#run-the-mobile-application-for-the-first-time","title":"Run the mobile application for the first time","text":"<p>IASO Mobile application has to be configured on the web part before using (see the part \u201cProject\u201d).</p> <p>Then you can:</p> <ul> <li>Download IASO App on Google Play</li> <li>Insert the server url : https://iaso.bluesquare.org</li> <li>Then, enter the App ID </li> </ul> <p></p>"},{"location":"pages/users/reference/iaso_mobile/iaso_mobile.html#overview-of-buttons","title":"Overview of buttons","text":"<p>See below an overview of the main buttons that you can find on the main screen in data collection mode. </p> <p></p> <p>In the More Options part, you can take the below actions: - Refresh data: you need to have internet connectivity to do so. It will synchronize the mobile application with IASO web data. In order to avoid that it takes too long in low-connectivity settings, you can choose to refresh only sub-parts such as Forms, Organization Units, or other.  - Change the App ID: you can switch Project by entering another App ID. In order to make sure that there is no data from the former App ID left on the IASO mobile application, please access your parameters and erase storage and cache data from IASO beforehand.  - Change the URL of the server: this can be handy if you need to switch from Production to Staging server - Logout: your user can logout. This does not prevent data consultation of local data (data available on IASO on the user's device) - About: gives the version of the IASO mobile application. It can be good to have to debug.</p>"},{"location":"pages/users/reference/iaso_mobile/iaso_mobile.html#collect-data","title":"Collect data","text":"<p>Once you are connected to the IASO mobile application, you can then proceed with your data collection. Here below are the different screens that you would see for a simple data collection.</p> <p></p> <p>You will then have data collection form chosen opening. You can proceed with answering the different questions and press \"Next\" until the end of the Form.</p> <p>If you wish to interrupt data collection during input, you can press the back button on the tablet or smartphone.</p> <p>Once you click on the button, you have 2 options: - Save Changes: to save all data already filled and the form with unfinalized status. With this option you can, come back and continue enter data  - Ignore Changes: to delete data filled and the form</p> <p>Upload collected data</p> <p>If you collect data with your mobile device, they are stored in your device. You need to upload data to the server to make them visible at central level. Keep in mind that you need internet connection in order to be able to upload data.</p> <p>Click on the \"Send Finalized Forms\" icon on the mobile application home page on the top right corner.</p> <p></p> <p>Then, a specific page will open to let you know if the data has been correctly uploaded. Finalize the operation by clicking on \"Send to server\".</p> <p></p>"},{"location":"pages/users/reference/iaso_mobile/iaso_mobile.html#recommended-devices-for-iaso-data-collection-last-edited-feb-2025","title":"Recommended Devices for IASO Data Collection (last edited Feb 2025)","text":"<p>The IASO Android app requires less than 30MB of storage and minimal processing power, making it compatible with entry-level smartphones.  </p>"},{"location":"pages/users/reference/iaso_mobile/iaso_mobile.html#smartphone-recommendations","title":"Smartphone Recommendations","text":"<p>For standard use, we recommend Android One devices (e.g., Nokia 2.3, though the program is now less active). As of 2025, the Samsung Galaxy A14 is a good alternative (specs).  </p> <ul> <li>If collecting many photos/videos, opt for phones with higher storage capacity.  </li> <li>Avoid devices running Android versions below 6.  </li> </ul>"},{"location":"pages/users/reference/iaso_mobile/iaso_mobile.html#tablets-for-intensive-use","title":"Tablets for Intensive Use","text":"<p>For frequent data entry, a tablet can improve comfort thanks to a larger keyboard. We recommend Samsung models, such as the Galaxy Tab A 8.0 (~\u20ac200). Ensure it supports 4G connectivity.  </p> <p>Before bulk purchasing, test a single unit to confirm compatibility with all required apps and hardware features (NFC, compass, QR scanning).  </p>"},{"location":"pages/users/reference/iaso_mobile/iaso_mobile.html#technical-specifications-for-tablets","title":"Technical Specifications for Tablets","text":"<ul> <li>Screen: 7-10\" Full HD touchscreen  </li> <li>Memory: 2GB RAM, 16GB storage (+MicroSD up to 128GB)  </li> <li>Processor: Quad-core 1.6GHz  </li> <li>Battery: 7-8 hours usage  </li> <li>Connectivity: 4G LTE, Wi-Fi, Bluetooth 5.0  </li> <li>OS: Android 6+ (preferably Android One versions)  </li> </ul>"},{"location":"pages/users/reference/iaso_mobile/iaso_mobile.html#accessories","title":"Accessories","text":"<ul> <li>Protective tablet case </li> <li>25,000mAh solar charger (Type-C &amp; USB ports)  </li> </ul>"},{"location":"pages/users/reference/iaso_modules/iaso_modules.html","title":"Modules","text":"<p>IASO is organized according to Modules, which are groups of functionalities which can be added up depending on the use case to cover. Here are the Modules available in IASO:</p>"},{"location":"pages/users/reference/iaso_modules/iaso_modules.html#data-collection-functionalities","title":"Data collection functionalities","text":"<ul> <li>Manage data collection forms (XLS forms) and their related data submissions</li> <li>Manage geographic data (import/export of geo data from Excel, DHIS2 or Geopackages, manage the Organizations Units and their hierarchy)</li> <li>Monitor the data collection process with the completeness statistics table and map</li> <li>Manage users and their permissions and geographies, user roles and teams</li> <li>Create mobile application(s) IDs and manage related features options</li> </ul>"},{"location":"pages/users/reference/iaso_modules/iaso_modules.html#georegistry","title":"Georegistry","text":"<ul> <li>Import several data sources from Excel, DHIS2 or Geopackages, compare and merge them as needed</li> <li>Visualize on a dynamic map data collected at the different levels of the hierarchy (e.g. Country, Region, District, facility)</li> <li>Validate changes on Organization Units (Name, Type, GPS coordinates, opening/closing dates) submitted from the field via the mobile application</li> <li>Validate data submitted via data collection forms that are linked to specific Organization Units types, called \"Reference forms\"</li> </ul>"},{"location":"pages/users/reference/iaso_modules/iaso_modules.html#payments","title":"Payments","text":"<ul> <li>Based on the validated proposed changes per user, generate payment lots to send to Mobile Money provider</li> <li>Indicate the status of the payments lots (pending, sent to Mobile Money provider, etc.)</li> </ul>"},{"location":"pages/users/reference/iaso_modules/iaso_modules.html#dhis2-bi-directional-integration","title":"DHIS2 bi-directional integration","text":"<ul> <li>Manage the mappings with DHIS2 data elements for import/export of data</li> </ul>"},{"location":"pages/users/reference/iaso_modules/iaso_modules.html#planning","title":"Planning","text":"<ul> <li>Plan ahead your data collection activities by creating a planning with a set timeframe, geography, data collection forms and teams</li> <li>Assign data collection tasks to teams and users from the map-based interface available on the web</li> <li>Once tasks have been assigned, the mobile application users on the field will only see the forms that have been assigned to them</li> </ul>"},{"location":"pages/users/reference/iaso_modules/iaso_modules.html#entities","title":"Entities","text":"<ul> <li>Entities are items that can move from a geography to another, for instance a person, a pallet of goods, or other</li> <li>Entities can be created from the mobile application and then managed from the web application</li> <li>Find the entities duplicates by using the web application interface and make the decision to merge two similar entities or not</li> <li>Assign workflows to entity types, enabling specific data collection forms to open according to previously given answers</li> </ul>"},{"location":"pages/users/reference/iaso_web/user_guide.html","title":"Web Platform","text":"<p>IASO web platform is intended to administrators for them to define the details of the data collection they would like to proceed with. Some key assets of IASO are:</p> <ul> <li> <p>the versioning of all data - every change is tracked and former versions can be retrieved as needed</p> </li> <li> <p>geo-structured data collection - forms are linked to clear Geographical levels or \"Organization Units\"</p> </li> <li> <p>the traceability of changes - allowing decentralization of the activities and responsibilities Administrators can therefore use the web platform to plan, monitor and then evaluate the data collection efforts.</p> </li> </ul>"},{"location":"pages/users/reference/iaso_web/user_guide.html#login","title":"Login","text":"<p>To log into the web interface, go to https://iaso.bluesquare.org/login/ and sign in with your username and password.</p> <p></p> <p>You can also reset your password by clicking on the link \"Forgot password\". This will send an automatic email and allow you to create a new password. </p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#navigating-in-iaso","title":"Navigating in IASO","text":""},{"location":"pages/users/reference/iaso_web/user_guide.html#manage-data-collection-forms","title":"Manage data collection forms","text":""},{"location":"pages/users/reference/iaso_web/user_guide.html#forms-list","title":"Forms list","text":"<p>From the forms list, you can search through the available forms of the IASO account you are connected to using the filters:</p> <p></p> <p>The below buttons allow you to manage the data collections forms.</p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#createupload-a-data-collection-form","title":"Create/Upload a data collection form","text":"<p>Access the Forms entry in the menu, then click on Form list.  Click on the button \"Create\". Once on the Form creation page, follow the below steps:</p> <ul> <li>Enter a name for your form in the field \"Name\". </li> <li>Assign one or several Project(s) to your form. </li> <li>Assign an Org unit type to your form. </li> <li>Assign a Period to your form. This is intended for regular data collection (e.g. daily/weekly/yearly). If you don't need this option, just select \"No Period\".</li> </ul> <p></p> <p>Tips:</p> <ul> <li>Check your XLS form before uploading it to IASO using this link: https://getodk.org/xlsform/</li> <li>Form ID should stay the same across versions (it cannot be different from a version to another). You will have an error if this is the case.</li> <li>Form version (which is not a mandatory field in the settings of the XLS forms) should stay consistent across versions. For instance, if it is a date such as 20240410, then you will not be able to upload a version names 20231025. IASO makes automatic checks to ensure that you are not uploading a former version.</li> </ul>"},{"location":"pages/users/reference/iaso_web/user_guide.html#form-submissions","title":"Form submissions","text":"<p>Once a form has been completed and sent to the server, it creates a \"form submission\". Every form submission is recorded into the platform and data submitted can be consulted from there. You can use the filters to consult the form submissions as needed:</p> <ul> <li>Open search (type some key words)</li> <li>Per form</li> <li>Per Org unit (select the relevant one in the dropdown pyramid)</li> <li>Per Org unit type (e.g. Country, District, Village)</li> <li>Per submission date (creation from/creation until)</li> <li>Per user (type a user name and it will show as dropdown)</li> </ul> <p>This view allows you to search forms through free text entry and several filters that can be combined. </p> <p></p> <p>Once you have applied at least one form filter, you can download submissions using the \"CSV\" or \"XLSX\" buttons.</p> <p>You can also create a new submission by clicking on \"Create\". This will open Enketo and ask you which Organization Unit it relates to.</p> <p></p> <p>You can also check the submissions on the map view, on which the filters apply. To make sure to have this map view enabled, make sure you have added the feature flag \"GPS for each form\" to the related Project.</p> <p></p> <p>The tab \"File\" allows you to visualize the files that have been submitted together with the forms, such as pictures. When clicking on a given file, you can then be redirected to the relevant form submission. </p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#manage-submissions","title":"Manage submissions","text":"<p>On the Submissions page, you can see the list of submissions that have been done for the account. You can manage them using the below options.</p> <p></p> <p></p> <p>Visualise a submission</p> <p>You can view a specific submission/submitted form by clicking on the \"View\" button (see above).</p> <p>This allows you to see the data submitted and edit it on Enketo (open-source web application.</p> <p></p> <p>The \u201cInformation\u201d section provides a technical overview of the form.</p> <p>The \u201cLocation\u201d section shows the health pyramid's indication of where the data was collected.</p> <p>The \u201cExport Requests\u201d section shows when the data was exported to DHIS2, by whom, and any errors that occurred during export.</p> <p>The \u201cFiles\u201d section can contain images, videos, documents.</p> <p>The \u201cForm\u201d section shows all form questions and answers entered during data collection.</p> <p>Download a submission</p> <p>The \"XML\" icon allows you to download a submission in XML format.</p> <p></p> <p></p> <p>The gear icon on the bottom corner at the right hand side shows you a series of icons upon hover. These allow you to:</p> <ul> <li>Delete a submission</li> <li>Edit attached Org Unit or Period</li> <li>Export (e.g. to DHIS2)</li> <li>Push GPS coordinates from the submission to the Org Unit</li> <li>Edit this submission via Enketo</li> <li>Lock submission</li> </ul> <p>See below the dedicated sections for more information on each of these actions.</p> <p>Delete a submission</p> <p>Allows you to delete the form. If it has already been exported to DHIS2, this will not delete the data in DHIS2. A warning message will appear:</p> <p></p> <p>Edit attached Org Unit or Period</p> <p>When you click on \u201cEdit Period and/or Organisational Unit\u201d, a window opens allowing you to reassign the instance. You can change the time period or organization unit that has been assigned to the submitted form.</p> <p></p> <p>Export a submission</p> <p>The export function allows you to export the form to DHIS2. Beforehand, it needs to have been mapped using the DHIS2 mapping functionality. </p> <p>Edit the submission via Enketo</p> <p>To edit a form, click on the Enketo icon (see above).</p> <p>Edit the form by changing the answers to the questions that need to be changed. Then click on submit at the bottom of the form.</p> <p></p> <p></p> <p>Push GPS coordinates from the submission to the Org Unit</p> <p>This will use the GPS coordinate collected via the form to push to the Organization Unit GPS coordinates.</p> <p>Lock submission</p> <p>This functionalty allows you to protect the form submissions from further editing by users who have less permissions than you.</p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#form-statistics","title":"Form statistics","text":"<p>This view allows you to see statistics about the forms. When clicking on \u201dForm Statistics\" you will open a page with two graphs.</p> <p>The first one shows the total number of submissions over time and the second one shows the new submissions per month per form.</p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#dhis2-mappings","title":"DHIS2 mappings","text":"<p>A great advantage of IASO is that you can export data to DHIS2. When doing so, prior mapping is necessary. After the form is uploaded, map the form to match the data item in DHIS2. </p> <p>Click on DHIS mappings to see the forms :</p> <p></p> <p>In the Form view you can see details of:</p> <ul> <li> <p>Actions</p> </li> <li> <p>Name of forms available for mapping</p> </li> <li> <p>Versions</p> </li> <li> <p>Type of the form :</p> <ul> <li> <p>Aggregate : fix</p> </li> <li> <p>Event : series of singular events</p> </li> <li> <p>Event Tracker : continuous</p> </li> </ul> </li> <li> <p>Number of questionnaire to be mapped</p> </li> <li> <p>Total number of questionnaires</p> </li> <li> <p>Mapping coverage</p> </li> <li> <p>Date of last modification</p> </li> </ul> <p>Click \"Create\" and a window will open allowing you to map each questionnaire of the xls forms to the correspondent DHIS2 data element</p> <p>The mapping process consists of selecting a question on the left and deciding whether it should be mapped to DHIS2 or not.</p> <p>Some questions may not need to be mapped like notes, metadata etc. in such a case click on never map.</p> <p>If the question is to be mapped, search for the correspondence DE in the box by using the name, code or ID and then confirm.</p> <p>Once confirmed, the question will turn to green and be counted.</p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#completeness","title":"Completeness","text":"<p>This functionality is intended to use cases where Periods have been set to the data collection forms. In the view \u201ccompleteness\u201d you will see details of :</p> <ul> <li> <p>Buttons to select forms \u201cready\u201d to be exported, form with \u201cerrors\u201d     &gt; and forms that have been \u201cexported\u201d</p> </li> <li> <p>Periodicity filter : the periodicity filter allows you to organise     &gt; the data into months, quarters, semesters or years. The list will     &gt; display the forms available for the selected period, and will     &gt; indicate how many forms have been submitted for each</p> </li> <li> <p>Synchronise button to synchronise two forms</p> </li> </ul> <p>Click on each of these buttons to have forms ready to be exported, errors and exported. A periodicity filter is there to organise data in months, quarters, semester or yearly.</p> <p></p> <p>If you click on the number of submissions, you will be taken to the submissions view, where you can click on the view icon and see the submissions for that form.</p> <p>Click on the button to synchronise two forms</p> <p>Eg: to get aggregate data from community verification survey, all the client forms should be synchronised to a single form. </p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#completeness-statistics","title":"Completeness statistics","text":"<p>This table view shows you the completeness of the forms submissions in number (number of completed forms) and in percentages (Data completeness). A distinction is made between \u201cdirect forms\u201d (which relate to the select Organization unit level) and \u201clower level forms\u201d (which relates to forms down the hierarchy).</p> <p>Use the filters (Form name, Parent Organization Unit, Organization Unit type, User, Planning, Teams, Period) to only see statistics in a more specific way.</p> <p>The \"See children\" action button allows you to drilldown the geographical hierarchy to identify the level of completeness and spot where issues may have happened. </p> <p>The first two columns \"itself\" indicate the number of forms completed at the level of the Organization Unit highlighted. The next column \"descendants\" give information on the number of forms completed at the level in question, but also at all lower levels.</p> <p></p> <p>You can also view data completeness with a map view by clicking on the \"Map\" tab. Be aware that you need to select a Form in the filters beforehand to enable this view. You can adjust the thresholds to apply to the legend on completeness in the relevant form's advanced settings.</p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#georegistry-organization-units-management","title":"Georegistry - Organization Units Management","text":"<p>See the Organization Unit definition for more insight on what Organization Units are. In a nutshell, you can manage your geographical data associated to your account using the Organization Unit part of IASO.</p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#organization-units-list","title":"Organization Units List","text":"<p>Click Organization Units in the menu and then on Organization Unit List to navigate the organization unit pyramid.</p> <p>You can view in list or map.</p> <p>You can select an Organization Unit Navigation and:</p> <ul> <li>Change the name, type, validation status, place in the pyramid, etc. of the OU</li> <li>Visualize the OU on a map</li> <li>See the history of its modifications</li> </ul> <p></p> <p></p> <p>The search results can be exported in CSV, XLSX or GPKG.</p> <p></p> <p>Results can be seen in a list or on a map</p> <p></p> <p>The status for when a village has just been added and needs to be reviewed for example.</p> <p>The external reference is used to export data to DHIS2.</p> <p>The map helps you to know where the structure is located.</p> <p>You can see the history of modifications by clicking on the little clock icon or the details of the filled forms by clicking on the eye icon.</p> <p></p> <p>Several searches can be made by adding tabs to the page with the + button. </p> <p>You can choose the colour of the results on the map for each search.</p> <p></p> <p></p> <p>Creation of an Organization Unit</p> <p>On the Organization Unit list page, click on \"Create\". You can then create an Organization Unit as needed. </p> <p></p> <p>You will need to enter the below information before saving:</p> <ul> <li>Name of the Organization Unit</li> <li>Type of the Organization Unit (that you would have previously defined in the Organization Unit Type part)</li> <li>Status: New, Validated, or Rejected. <ul> <li>New: the Organization unit has been created but has not been validated yet. If you activate the possibility to create Organization Units from the IASO mobile application, they will first appear as \"New\" on the web</li> <li>Validated: the Organization unit is validated</li> <li>Rejected: the Organization unit no longer exists or has been merged/split or replaced by another one. IASO does not allow to erase Organization Units in order to keep track of past changes.</li> </ul> </li> </ul> <p>Optional fields:</p> <ul> <li>Aliases: you can add as many aliases as necessary to track the different ways of writing the name of the Organization Unit (e.g. \"Ste Marie\", \"Sainte-Marie\", \"Sainte Marie\", etc.)</li> <li>Group: you can organize Organization Units in Groups in IASO. You can multi-select the group(s) that the organization unit you are creating is associated to</li> <li>Parent Org Unit: place your Organization Unit at its relevant place in the hierarchy</li> <li>Opening and/or Closing date(s): use these fields to indicate the opening or closing date(s) of the Organization Unit</li> </ul> <p>Edit an Organization Unit or consult details</p> <p>To access the detailed view of an Organization Unit, proceed as described below: </p> <p></p> <p>In this view, you have a set of tabs that allow you to edit the Organization Unit as needed:</p> <ul> <li>Infos: edit the main information relating to this Organization Unit</li> <li>Map: consult the geographical information available for this Organization Unit (boundaries or GPS coordinates). You can view geographical data across data sources (if there are several sources). You can also leave a comment</li> <li>Children: lists this Organization Unit's children. You can use filter to go through the list in a more detailed way </li> <li>Links: in the case of matching an Organization Unit across multiple data sources, the links among the data sources can be found here</li> <li>History: allows you to trace back all modifications that were done to the Organization Unit by user</li> <li>Forms: lists all data collection forms that are linked to the Organization Unit type of this Organization Unit</li> <li>Comments: you can leave a comment about this Organization Unit using this section</li> </ul> <p>Bulk edition of Organization Units</p> <p>You can also edit Organization Units in bulk.  In order to do this, from the Organization Unit list, tick the boxes of the Organization Units you would like to bulk edit, then hover on the action button. Click on the gear action button, and select the action you would like to perform. </p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#organization-unit-groups","title":"Organization Unit Groups","text":"<p>Organisation units can be grouped in organisation unit groups, and these groups can be further organised into group sets. Together they can mimic an alternative organisational hierarchy which can be used when creating reports and other data output. In addition to representing alternative geographical locations not part of the main hierarchy, these groups are useful for assigning classification schemes to Organization Units. </p> <p></p> <p>Manage Organization Unit Groups</p> <p>In order to manage the Organization Unit Groups, access the menu entry Organization Units &gt; Groups. </p> <p></p> <p>This view allows you to search the Organisation Unit Groups through free text entry. </p> <p>You can create a new group  by clicking on the create button. </p> <p>Groups can be edited by clicking on the gear icon or deleted by clicking on the delete button.</p> <p>In the table, the column \"Org Units\" shows the number of Organization Units that are assigned to this group. When you click on the number, you will see the list of that Org Unit group.</p> <p>Assign Organization Units to Groups</p> <p>To assign Organization Units to Groups, go to the Organization Units List view from the menu and make a bulk edit of the selected organization Units. See above in section \"Bulk edition of Organization Units\" for more details on bulk edition of Organization Units.  </p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#organization-unit-types-management","title":"Organization Unit types management","text":"<p>Organization Unit types are specific to IASO (i.e. this is not handled in DHIS2). See the part about Organization Units for more details on what Organization Unit types are.</p> <p>From the Organization Unit menu entry, click on \"Organization Unit types\". This view lists the Organization Unit types existing in your IASO account. </p> <p>Create an Organization Unit type</p> <p>Click on \"Create\" and enter the below mandatory fields:</p> <ul> <li>Name of the Organization Unit type. Beware that this should be the \"category\" / \"level in the hierarchy\", NOT the specific name of an Organization Unit. E.g. \"Country, \"Province\", \"District\", and NOT \"DRC\", \"Kinshasa\", \"Gombe\"</li> <li>Short name: this will appear on other IASO views. It should be a short version of the full name </li> <li>Project(s): select one or multiple project(s) the Organization Unit type is linked to</li> </ul> <p>These other fields are not mandatory:</p> <ul> <li>Level: start with 0 for the highest point in the hierarchy, for instance \"Country\". E.g. Country - 0, Province - 1, District - 2, Village - 3</li> <li>Sub org unit types to display: select the below Org Unit type(s) that you would like to display on the Registry view if this main Org Unit type that you are editing is selected.</li> <li>Sub Org unit types to create: select the Org Unit type(s) that you would like to enable the creation for in the IASO mobile application. For instance, if you are editing the Org unit type \"District\", you can enable the creation of \"Village\" and/or \"Point of Interest\"</li> <li>Reference forms: select one or several data collection Form(s) that will be assigned as reference for this Org Unit type. Reference forms are Forms that are closely linked to the Org Unit type. A typical use case is for an Area to assign a reference Form for Population data. </li> </ul> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#data-sources-management","title":"Data Source(s) management","text":"<p>IASO allows to import and handle one or several geographic data source(s). </p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#data-sources-list","title":"Data Source(s) List","text":"<p>Find here the data sources with their names, versions and descriptions. It is possible to edit the data source, check up on the files\u2019 version history or compare data sources and export them to DHIS2.</p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#matching","title":"Matching","text":"<p>This is rather a \"geospatial\" functionality : to have several geographical pyramid sources and try to make links (Example: where in a csv \u201cprovince x\u201d is called \"PROVINCE X\" and in another source it is called \"DPS X\").</p> <p>The algorithms run part is intended for data science work.</p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#registry","title":"Registry","text":"<p>The Registry entry in Organization Unit is a visualization tool allowing users to drilldown in the geographical hierarchy and consult the geographical data as well as data collection associated to the different level(s). </p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#review-change-proposals","title":"Review change proposals","text":"<p>With IASO, supervisors can compare and validate data submissions as they are sent to the server.  Note that this feature will only work provided that you have activated the \"Change requests\" feature flag on the IASO Project you would like to validate data collected for. See the Projects part for more information on mobile feature flags in IASO.</p> <p>On the Review change proposals page, users can use the filters to select the proposals they would like to focus on. See on the picture below the detailed filters.</p> <p></p> <p>Supervisors can then click on the gear icon at the end of the relevant line to be able to see the details of the change proposal submitted and compare with the former version on the left.</p> <p></p> <p>Supervisors can then select the changes they would like to approve by ticking the boxes of the changes selected on the right column, and then hit \"Approve selected changes\". If the changes proposed are not satisfactory, supervisors can reject all changes and provide a comment.</p> <p>For each change proposal sent, IASO mobile application users will be able to see if they have been approved or rejected, and if rejected, consult the comment. </p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#planning","title":"Planning","text":"<p>The Planning feature in IASO allows you to plan field work per team and user in defined zones/organization units and according to a specific timeline. Once data collection activities would have been assigned via the interface, field agents using the mobile application would only be able to see the activities assigned to them, and navigate towards the relevant GPS point(s). </p> <p>In order to be able to create a Planning, you will need to have created beforehand Organization units, Users, a Project, Teams of Users/Teams of Teams and data collection Forms for which you would like to use the Planning feature.</p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#planning-list","title":"Planning List","text":"<p>Click on Planning in the menu panel. Under Planning List you will see the list of schedules/plannings that have been created in IASO. You can search through the different Plannings using the different filters and take the below actions:</p> <ul> <li>Create Planning</li> <li>View Planning: this is where you will access the interface to assign data collection activities to Teams and Users according to geographies</li> <li>Edit Planning: edit the Name, Project, Parent Organization Unit and Team it applies to, Form(s), Description</li> <li>Duplicate Planning: allows users to copy an existing Planning and readapt it as needed</li> <li>Erase Planning</li> </ul> <p></p> <p>Create a Planning</p> <p>Click on \"Create\" and you will see the below window opening:</p> <p></p> <p>The below fields are mandatory:</p> <ul> <li>Name</li> <li>Project: defines in which mobile app environment the Planning info will be visible</li> <li>Team: it is the team responsible for the planning - this is usually a Team of Teams</li> <li>Form(s): select one or several Form(s) to apply to this Planning </li> <li>Org unit: select the base Organization Unit your Planning applies to. Keep in mind that you will drilldown from this base Organization Unit to assign your data collection activities to Teams/Users. </li> <li>start and end dates for your Planning</li> </ul> <p>You can add a description as an option. </p> <p>The \u201cPublishing status\u201d (in the lower left corner) feature makes it possible to ensure, once completed (and all assignments made), the newly created planning will be available in the IASO mobile app for the relevant project.</p> <p>Once you have completed the fields, click \"Save\" to finish.  </p> <p>Click on the eye icon button from the Planning list to start editing your new Planning via the Map interface.</p> <p>You can do the assignment either through the \u201cMap\u201d or the \u201cList\u201d tab. If processing through the map, first select the Team you would like to assign a geography to in the dropdown, as well as the relevant \u201cBase Org Unit type\u201d in the dropdown. You can then start assigning geographic areas or points directly to the selected Team members directly on the map.</p> <p></p> <p>Selected areas will be highlighted with the team\u2019s colour, that you can change as needed. </p> <p>In order to assign all children Org Unit of a given parent Org unit to the same Team/User, you can select the \"Parent picking mode\" before proceeding to your selection.</p> <p></p> <p>If you prefer using the List tab, the process is pretty similar. The main difference being that you work here with a list of names, according to the selected level. Org units are assigned by clicking in front of the item name, in the \u201cAssignment\u201d column.</p> <p></p> <p>You can sort Org units and Parents by clicking on the column name.</p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#entities","title":"Entities","text":"<p>We call an \u201cEntity\u201d anything that can move or be moved and that we want to track through time and Org Units. For example, a beneficiary, a car, etc.</p> <p>To differentiate between different kinds of entities, IASO has a concept of \u201cEntity Type\u201d.  IASO heavily relies on XLSForms, and entities are no exceptions. Therefore, an entity is represented by a submission to a form. This submission is referred to as the profile. The entity type defines which form has to be filled in.</p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#how-to-create-an-entity","title":"How to create an entity","text":"<p>Enable the feature</p> <p>In order to create an entity, your project must first enable the entity feature flag. You can set this flag either during its creation or by updating it later. </p> <p></p> <p>Create and upload the profile form</p> <p>Using the sheet application of your choosing, create an XLSForm which will contain all the questions related to your entity that are either fixed (I.e., first name and last name) or can evolve through time (I.e., a program to which an entity can be affiliated to). Upload it on the server using the web application.</p> Note: The questions that can evolve through time should not be editable."},{"location":"pages/users/reference/iaso_web/user_guide.html#create-the-entity-type","title":"Create the entity type","text":"<p>In the entity types screen, click on the \u201cCREATE\u201d button. Give the entity type a name and select the newly uploaded form as a reference form:  </p> <p></p> Note: We\u2019ll see later what \u201cList fields\u201d and \u201cDetail info fields\u201d are."},{"location":"pages/users/reference/iaso_web/user_guide.html#create-an-entity","title":"Create an entity","text":"<p>In the mobile application, make sure that the data has been refreshed and are up to date with the backend server. You will now be able to see the entity screen.</p> <p>At the moment, it is not possible to create an Entity from a web interface.</p> <p>Click the \u201cAdd\u201d button in the application.  </p> <p></p> <p>Select the entity type you want to create.</p> <p></p> <p>You will be prompted to confirm your selection.  </p> <p></p> <p>You can then fill out the form to finalize your first entity.</p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#how-to-configure-how-we-display-an-entity","title":"How to configure how we display an entity?","text":"<p>Within the entity type\u2019s configuration, it is possible for administrators to define which questions are displayed within lists and within the details screen.   </p> <p></p> <p>This impacts how the web and mobile applications display entities, as shown below.</p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#in-the-web-interface","title":"In the web interface","text":""},{"location":"pages/users/reference/iaso_web/user_guide.html#in-the-list","title":"In the list","text":""},{"location":"pages/users/reference/iaso_web/user_guide.html#in-the-details-screen","title":"In the details screen","text":""},{"location":"pages/users/reference/iaso_web/user_guide.html#in-the-mobile-application","title":"In the mobile application","text":""},{"location":"pages/users/reference/iaso_web/user_guide.html#in-the-list_1","title":"In the list","text":""},{"location":"pages/users/reference/iaso_web/user_guide.html#in-the-details-screen_1","title":"In the details screen","text":""},{"location":"pages/users/reference/iaso_web/user_guide.html#searching-for-an-entity","title":"Searching for an entity","text":""},{"location":"pages/users/reference/iaso_web/user_guide.html#on-the-web","title":"On the web","text":"<p>In the beneficiary list, you can filter by type and/or enter a query to filter based on the identifier or any of the list fields values.  </p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#in-the-application","title":"In the application","text":"<p>Clicking on the magnifying glass icon on the entity screen will lead you to the list of all entities and allow you to filter them quickly based on the identifier or any of the list fields values. If you need a more fine-grained selection, you can click on the funnel icon, select a type and fill out the search form (second picture)  </p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#what-are-workflows","title":"What are workflows?","text":"<p>As stated before, an entity is tracked through time and Org Units. In order to achieve this, Iaso links the subsequent submissions for an entity together and allows subsequent submissions to change the profile. In order for you to choose which forms should be presented next and what values override the properties of the profile, you can define a workflow.</p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#create-a-workflow","title":"Create a workflow","text":"<p>In the entity types\u2019 list, click on the workflow icon</p> <p></p> <p>In the list of the workflow versions, create the \u201cCREATE\u201d button and give the version a name:  </p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#follow-ups-and-changes","title":"Follow-ups and changes","text":""},{"location":"pages/users/reference/iaso_web/user_guide.html#follow-ups","title":"Follow-ups","text":"<p>They represent the next possible forms based on the state of the profile. They are based on a condition. In the following example, the mobile application will offer \u201cU5 Registration WFP\u201d as the next possible form if the first name is \u201cBill\u201d.  </p> <p></p> Reminder: \u201cFirst Name\u201d is one of the questions in the Entity Type\u2019s form."},{"location":"pages/users/reference/iaso_web/user_guide.html#changes","title":"Changes","text":"<p>They represent the mapping of what value from a form will change the values in the profile.</p> <p>In the example below, the \u201cTarget form\u201d is the Entity Type\u2019s form, and the \u201cSource form\u201d is the subsequent submission. When a \u201cU5 Registration WFP\u201d form is filled out, the value entered in \u201cChild\u2019s Age in months\u201d will be copied into the profile\u2019s \u201cAge (Months)\u201d question. And the value entered in \u201cChild\u2019s Name\u201d will be copied into the profile\u2019s \u201cFirst Name\u201d question.  </p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#using-values-from-the-profile-in-subsequent-forms","title":"Using values from the profile in subsequent forms","text":"<p>Sometimes, you want a subsequent form to use values from the profile. In order to do so, just add a question with the same identifier and type as the value from the profile.</p> <p>I.e., Let\u2019s assume the profile has 2 questions of type \u201ctext\u201d: first_name and last_name. By adding a read-only similar question in your subsequent forms, the value will be available to you.</p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#publishing-workflows","title":"Publishing workflows","text":"<p>Once a workflow version has been published, it is marked as finalized, and it cannot be edited anymore. Only workflows in \u201cdraft\u201d can be edited. If you want to edit a finalized workflow, you first need to duplicate it using the \u201cCopy version\u201d button. A new draft version is then created with the same content.</p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#admin","title":"Admin","text":"<p>The Admin part of IASO comprises several parts, which will appear or not depending on the user's permissions:</p> <ul> <li>Tasks</li> <li>Monitoring</li> <li>Projects</li> <li>Modules</li> <li>Users</li> <li>User roles</li> <li>Teams</li> </ul>"},{"location":"pages/users/reference/iaso_web/user_guide.html#tasks","title":"Tasks","text":"<p>This is the IASO batch updates log. An operation log contains information about when and where an operation ran, the operation status, the number of source and target records processed, and any log messages.</p> <p>Examples of tasks include:</p> <ul> <li>Organization unit bulk update</li> <li>DHIS2 data import</li> <li>Geopackage import</li> </ul> <p>The statuses are:</p> <ul> <li>Errored: the Task did not make it through. Users are advised to try again.</li> <li>Running: the Task is in process</li> <li>Queued: the Task has stopped and will restart if the conditions are met (for instance, if there is better connectivity)</li> <li>Killed: the Task was interrupted by the user after it had been started</li> <li>Success: the Task has been successfully run</li> </ul> <p>The Task list can be refreshed by pressing the button \"Refresh\" on the right top hand side. </p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#monitoring","title":"Monitoring","text":"<p>This part allows supervisors to monitor devices that are linked with the IASO account.  From this page, you can consult:</p> <ul> <li>The IMEI or device identifier</li> <li>If this is a test device or not</li> <li>the name of the last owner</li> <li>the last time it has been synchronized</li> <li>the creation date (first time it has been synchronized)</li> <li>the modification date</li> </ul> <p>On the right hand side, you can see the number of devices that are connected under the IASO account you are connected to.</p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#projects","title":"Projects","text":"<p>A Project in IASO relates to an instance of mobile application.  Each Project is identified by a Name and an App ID. See here for a more detailed definition of Projects in IASO.</p> <p>Create a Project</p> <p>From the menu, Admin &gt; Projects &gt; Click on \"Create\"</p> <p></p> <p>Then, add a Project name, and an App ID.  Be aware that the App ID will have to be entered by IASO mobile application users the first time they connect to the IASO app, so it should not be overly complicated to avoid typing errors. </p> <p>You can then select the Feature flags you would like to apply to your Project in the next tab and press \"Save\". </p> <p></p> <p>Feature flags definition</p> <p>See the table below for more details on the Project Feature flags:</p> Feature flag Description Authentication Users have to enter their login and password on the mobile application before proceeding to the data collection. Please note that this is possible in IASO to proceed to data collection without authentication for simplified processes (also called \u201canonymous mode\u201d) Mobile: show data collection screen Enable the feature to collect data from the IASO mobile application (data collection that is not linked to a planning or a change request workflow) GPS for each form Every time a data collection form is submitted, a GPS point is automatically taken and associated to the form submission Enforce users are within reach of the org unit before starting the form IASO mobile application users have to be close (50m) to the organization unit GPS point they are collecting data for in order for the form to open Mobile. Show planning screen When a planning has been done in IASO via the web interface, the assigned data collection points and tasks are reflected via this tab Mobile: limit download of org unit to what the user has access to When loading data into the mobile application, only the geographical zone that is assigned to the user is downloaded, so as to enable offline use. This allows a lighter (and then quicker and less data-consuming) download of data at the start of the IASO mobile application Mobile. Show Map of org unit Adds a tab in the mobile application to show the geographic information available for the selected Org Unit in the mobile application. For instance, if a GPS coordinate is available for a health facility, it would show on the map via this tab Request changes to org units Enable the feature to propose changes to org units and their related reference form(s) Mobile: Change requests Adds the tab allowing to propose changes to org units and their reference form(s) GPS for trajectory Enable the user to activate a function that track their position every 15 minutes over a period of time Mobile. Warn the user when forms have been updated When new form versions have been uploaded on the web, the IASO mobile application user is notified. Then the user can choose to apply them or not Mobile. Warn the user when forms have been updated and force them to update When new form versions have been uploaded on the web, the IASO mobile application user is notified and the update happens automatically Mobile. Warn the user when the org units have been updated When changes to the Org units (health pyramid) have been done on the web, the IASO mobile application user is notified. Then the user can choose to apply them or not Mobile. Warn the user when the org units have been updated and force them to update When changes to the Org units (health pyramid) have been done on the web, the IASO mobile application user is notified and the update happens automatically Auto upload of finalized forms The synchronization of forms that have been filled takes place automatically as soon as the user has connectivity Mobile. Finalized forms are read only IASO mobile application users cannot edit the forms once finalized in the mobile application"},{"location":"pages/users/reference/iaso_web/user_guide.html#users","title":"Users","text":"<p>Users can access IASO web and mobile application with login credentials. Each user is assigned permissions and can be limited by location.</p> <p>Permissions are relatively granular: - By screen/tab - Different read/write permissions for important domains - Restriction of access using the health pyramid - Batch creation/modification of users - Customizable user roles (Administrator, Data manager, etc.)</p> <p>Please note that the permissions assigned from the User management apply to IASO web only. IASO does not have a system of permissions for its mobile application, but rather a set of Feature Flags. </p> <p>Create a new IASO user</p> <p>From the menu Admin &gt; Users, click on \"Create\". </p> <ol> <li>Fill in user information</li> </ol> <p></p> <p>Note that you can also indicate the following information:</p> <ul> <li>DHIS2 id of the user: you can import a list of DHIS2 users to IASO and keep track of their DHIS2 id in IASO to link then across both systems</li> <li>Home page: you can set up a default landing page for that user when connecting to this IASO account</li> <li>Projects: select one or several Project(s) to which the newly created user will be linked. If there is no Project indicated here, the user will have access to all Projects of the IASO account by default.</li> <li> <p>Language: you can specify in which default language this user will use IASO web. IASO mobile application is based on the default language of the users's device.</p> </li> <li> <p>Assign user permissions</p> </li> </ul> <p>On the next tab \u201cPermissions\u201d, you can enable/disable permissions for that user as needed. Note that in the \u201c?\u201d are tooltips to explain what the permissions do. </p> <ol> <li>Restrict user to a specific Location</li> </ol> <p>On the last tab \"Location\", you can restrict the access of the user you are editing to a sub-part of the Organization Unit hierarchy (hence the user will only be able to see data relating to his/her Geography). If no Location is specified here, by default the user will see all data available across the entire hierarchy.</p> <p></p> <p>Create users in bulk</p> <p>You can create several users at once using a CSV file that you import to IASO.</p> <p>Use the button \u201cCreate from file\u201d and you can then import your list of users (or download the relevant template to do so beforehand). </p> <p>Manage IASO users</p> <p>This view allows you to manage users and their permissions. You can search for a user using the different filters.</p> <p></p> <p>You can edit IASO users in bulk using the bulk update feature. First, tick each user you would like to update using the check boxes on the right side of each user line. </p> <p></p> <p>Then select the action(s) you would like to perform for these users. They can be:</p> <ul> <li>Add or remove from user role(s)</li> <li>Add or remove from Project(s)</li> <li>Add or remove from Team(s)</li> <li>Update default language</li> <li>Add or Remove Location (hence limiting these users to the selected Geography)</li> </ul> <p>Click on \"Validate\" when done. </p> <p></p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#user-roles","title":"User roles","text":"<p>User roles allow to group users that are granted a set of permissions under the same role. In the User role, you are able to create User roles with their matching permissions, to which Users can be assigned to.</p> <p>Create a User role</p> <p>From the Admin &gt; User roles page, click on \"Create\".</p> <p></p> <p>You can then assign this user role to any user through the Permission tab in the User edit popup. Be aware that the User role permissions will apply to the user, but if the User has more permissions that had been previsouly assigned to him/her, he/she will not lose them but they will add up. </p> <p></p> <p>To assign multiple Users to this newly created user role in bulk, go back to the Users list and proceed to a bulk update (see Manage Users above).</p>"},{"location":"pages/users/reference/iaso_web/user_guide.html#teams","title":"Teams","text":"<p>The notion of Teams in IASO is used mainly for the Planning feature. It allows to organize Users in Team hierarchies and assign data collection activities to the relevant geographies as needed for the Planning purposes. </p> <p>There are two types of Teams:</p> <ul> <li>Teams of Users: gathers IASO Users under the same team </li> <li>Teams of Teams: gathers several Teams under a same Team. You can then create hierarchies of Teams</li> </ul> <p>Create a Team</p> <p>From the menu, access Admin &gt; Teams. Click on \u201cCreate\u201d</p> <p></p> <p>Fill out the below fields:</p> <ul> <li>Team name</li> <li>Manager: select from the Users in IASO</li> <li>Project: select the Project to be linked to this Team</li> <li>Type: select in the dropdown the type of Team<ul> <li>If you select \"Team of Users\" - then select the Users to be added to that Team</li> <li>If you select \"Team of Teams\" - then select the Teams to be added to that Team</li> </ul> </li> <li>Parent: select the Parent Team for this newly created team</li> </ul> <p>You can then use the gear or bin icon on the main page to edit or delete Team(s) as needed. </p>"},{"location":"pages/users/reference/interop/interop.html","title":"Interoperability roadmap 2023-2024","text":""},{"location":"pages/users/reference/interop/interop.html#introduction","title":"Introduction","text":"<p>Iaso, whose name was taken from the name of a Greek goddess for health, has initially been developed to support national health programmes in their data collection and organization of geographical information in remote and low connectivity areas. Since then, it has also been used in other fields, such as education and environmental projects.</p> <p>Iaso builds on three essential concepts users, forms (in XLSForm format) and org units (e.g. districts and facilities) with a focus on structuring data collection along geographic lines to allow for splitting responsibility geographically, as is commonly done in health programs. This allows to decentralize monitoring, validation and team management. It also allows to have out of the box completeness reporting for data collection.</p> <p>Iaso has been recognized as a Global Good for Health by Digital Square. As such, Bluesquare acknowledges the importance of making Iaso as interoperable as possible in order to facilitate data exchange within the global digital health ecosystem such as the Open Health Information Exchange (OpenHIE) community.</p>"},{"location":"pages/users/reference/interop/interop.html#open-standards-already-implemented","title":"Open standards already implemented","text":"<p>The below below standard technologies are already being used by Iaso today:</p> <ul> <li> <p>Data collection: XLSForm, CSV</p> </li> <li> <p>Geographical data: geopackage</p> </li> </ul> <p>Iaso data collection can be done through forms in the common XLSForm format used for example by ODK, and allows to import and export data to DHIS2 (thanks to a user-friendly mapping interface), which is not per se using open formats in general, but is a de facto standard in some health topics, DHIS2 being probably the most installed open source health information management system.</p> <p>Iaso allows imports and exports of geographical data through the geopackage format (http://www.geopackage.org/) which is the relatively new golden standard for Geographical Information Systems.</p>"},{"location":"pages/users/reference/interop/interop.html#interoperability-roadmap","title":"Interoperability roadmap","text":"<p>1. Short-term (by end of 2023)</p> <ul> <li>DHIS2 Tracker data import/export</li> </ul> <p>Recently, we implemented case management features in Iaso, which is mainly the possibility to collect and store data about individuals. One goal will be to further develop the integration between Iaso and DHIS2 Tracker, to allow the import and export of data linked to individuals.</p> <ul> <li>FHIR</li> </ul> <p>In the same context as above, Bluesquare would ensure that Iaso is compatible with the FHIR standard for health care data exchange. That said, Iaso is a generic data collection tool, and consequently we can\u2019t enforce that collected data always uses a predefined set of fields. Consequently, support of FHIR for case management would be made on a project basis, and where Bluesquare could help is by providing documentation of how to implement some parts of the FHIR standard.</p> <p>On the other hand, Iaso is a very complete facility list management system and here, there is a very good opportunity to adopt OHIE facility registry standards. This will be studied by the end of the year and implemented if we can identify a project needing the feature.</p> <p>2. Long-term (end of 2023 and beyond)</p> <ul> <li>Better sharing of documentation about Iaso</li> </ul> <p>Iaso\u2019s code and general information is published on the dedicated Github repository that you can find here: https://github.com/BLSQ/iaso/wiki</p> <p>Bluesquare has started to organize processes to ensure more easily accessible documentation about Iaso, that will benefit the open source health softwares community. An evolving user guide will be made available on https://readthedocs.org/, together with more technical documentation on new features. A high-level roadmap on next features will also be published and maintained.</p> <p>To facilitate interoperability, we are in the process of publishing the api specification in the OpenAPI standard (the format used by the Swagger tool).</p> <ul> <li>Microplanning</li> </ul> <p>Iaso is growing more and more to be a planning system, e.g. for vaccination campaigns. We need to investigate if there are existing standards (outside of calendar standards like caldav) , especially in the OHIE specification that could be reused to expose our plannings to external systems.</p> <ul> <li>Logistics</li> </ul> <p>There is a growing demand for Iaso to be able to handle logistics, in order to monitor stocks of certain health-related or other supplies, such as vaccines, mosquito nets in certain locations. If Iaso would further develop features in this field, Bluesquare will make sure to follow the openHIE \u201cLogistics Management Information System (LMIS)\u201d and \u201cProduct Catalogue\u201d components principles.</p>"},{"location":"fr/AWS-Deployment.html","title":"AWS Deployment","text":""},{"location":"fr/AWS-Deployment.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/index.html","title":"Bienvenue dans la documentation d'IASO","text":""},{"location":"fr/index.html#introduction-a-iaso","title":"Introduction \u00e0 IASO","text":"<p>IASO est une plateforme innovante, open-source, trilingue (EN/FR/ES) de collecte de donn\u00e9es \u00e0 fonctionnalit\u00e9s g\u00e9ospatiales avanc\u00e9es pour planifier, surveiller et \u00e9valuer les programmes de sant\u00e9, environnementaux ou sociaux dans les pays \u00e0 revenu faible et interm\u00e9diaire (PRFI). IASO est reconnu comme un Bien Public Num\u00e9rique par l'Alliance des Biens Publics Num\u00e9riques et figure parmi les logiciels Global Goods de Digital Square, t\u00e9moignant de son utilit\u00e9 publique.</p> <p>IASO comprend :</p> <ul> <li>un tableau de bord web - destin\u00e9 aux superviseurs pour organiser la collecte de donn\u00e9es et la gestion des donn\u00e9es g\u00e9ographiques</li> <li>une application mobile qui fonctionne \u00e9galement hors ligne - destin\u00e9e aux utilisateurs sur le terrain pour remplir des formulaires et envoyer des donn\u00e9es lorsque le r\u00e9seau est disponible</li> <li>une interface de correspondance et de script pour analyser, comparer et fusionner plusieurs sources de donn\u00e9es g\u00e9ographiques</li> <li>une int\u00e9gration bidirectionnelle avec DHIS2, le syst\u00e8me d'information de gestion de la sant\u00e9 largement utilis\u00e9 dans les PRFI</li> </ul> <p>En termes de fonctionnalit\u00e9s, IASO peut \u00eatre r\u00e9sum\u00e9 autour de quatre composantes principales qui sont interconnect\u00e9es et renforcent leurs capacit\u00e9s mutuelles :</p> <ul> <li> <p>Gestion des donn\u00e9es g\u00e9ospatiales (G\u00e9oregistre)</p> <ul> <li>G\u00e9rer plusieurs listes d'unit\u00e9s d'organisation (par exemple, zones de sant\u00e9, districts, \u00e9tablissements de sant\u00e9 ou \u00e9coles) y compris leurs coordonn\u00e9es GPS et fronti\u00e8res</li> <li>Suivre les modifications apport\u00e9es aux unit\u00e9s d'organisation</li> <li>Comparer plusieurs sources de donn\u00e9es g\u00e9ographiques</li> <li>Proposer des modifications aux unit\u00e9s d'organisation depuis l'application mobile IASO et les valider sur le web</li> </ul> </li> <li> <p>Collecte de donn\u00e9es g\u00e9o-structur\u00e9es</p> <ul> <li>Cr\u00e9er des formulaires de collecte de donn\u00e9es en utilisant le populaire format XLS et les importer dans IASO</li> <li>Lier vos formulaires \u00e0 un ou plusieurs types d'unit\u00e9s organisationnelles (par exemple, National/R\u00e9gional/District/\u00c9tablissement de sant\u00e9) pour structurer g\u00e9ographiquement votre collecte de donn\u00e9es</li> <li>Suivre les changements avec la gestion des versions de vos formulaires</li> <li>Valider depuis le web toutes les soumissions de formulaires envoy\u00e9es par l'application mobile IASO</li> <li>Suivre l'exhaustivit\u00e9 de la collecte de donn\u00e9es par niveau d'unit\u00e9s d'organisation et identifier o\u00f9 se trouvent les probl\u00e8mes</li> </ul> </li> <li> <p>Microplanification</p> <ul> <li>G\u00e9rer des \u00e9quipes d'utilisateurs et des \u00e9quipes d'\u00e9quipes</li> <li>Attribuer des t\u00e2ches de collecte de donn\u00e9es aux \u00e9quipes et aux utilisateurs en utilisant une carte interactive</li> <li>Cr\u00e9er des plannings avec un p\u00e9rim\u00e8tre, une dur\u00e9e et un ou plusieurs formulaires de collecte de donn\u00e9es</li> </ul> </li> <li> <p>Entit\u00e9s - celles-ci peut consister en des individus (par exemple, les b\u00e9n\u00e9ficiaires de programmes de sant\u00e9) ou des objets physiques (par exemple, des lots de vaccins, des moustiquaires, etc.). Les workflows permettent de suivre les entit\u00e9s en ouvrant des formulaires sp\u00e9cifiques en fonction des r\u00e9ponses donn\u00e9es \u00e0 des formulaires pr\u00e9c\u00e9dents.</p> <ul> <li>Cr\u00e9er des types d'entit\u00e9s (b\u00e9n\u00e9ficiaires, stocks ou autres)</li> <li>Attribuer des workflows \u00e0 des types d'entit\u00e9s</li> <li>Enregistrer des entit\u00e9s via l'application mobile (hors ligne)</li> <li>Synchroniser les applications mobile et web</li> <li>Comparer et fusionner des entit\u00e9s si n\u00e9cessaire</li> <li>Enregistrer les donn\u00e9es des entit\u00e9s sur une carte NFC</li> </ul> </li> </ul> <p>La plateforme a \u00e9t\u00e9 mise en \u0153uvre au B\u00e9nin, au Burkina Faso, au Burundi, au Cameroun, en R\u00e9publique Centrafricaine, en R\u00e9publique D\u00e9mocratique du Congo, en Ha\u00efti, en C\u00f4te d'Ivoire, au Mali, au Niger, au Nig\u00e9ria et en Ouganda. Elle est le registre g\u00e9ographique officiel au Burkina Faso depuis 2023. IASO a \u00e9galement \u00e9t\u00e9 mise en \u0153uvre au niveau r\u00e9gional (r\u00e9gion AFRO) pour soutenir l'Initiative Mondiale pour l'Eradication de la Polio gr\u00e2ce \u00e0 ses capacit\u00e9s de registres g\u00e9ospatiaux et d'\u00e9tablissements de sant\u00e9.</p>"},{"location":"fr/index.html#technologies-utilisees","title":"Technologies utilis\u00e9es","text":"<p>IASO est compos\u00e9e d'une application Android white labeled utilisant Java/Kotlin, r\u00e9utilisant une grande partie des projets ODK, et d'une plateforme web programm\u00e9e en Python/GeoDjango sur PostGIS. Le frontend est principalement en React/Leaflet. L'API est impl\u00e9ment\u00e9e via Django Rest Framework, et toutes les donn\u00e9es sont stock\u00e9es dans PostgreSQL ou le r\u00e9pertoire media/. L'un des objectifs est la facilit\u00e9 d'int\u00e9gration avec d'autres plateformes. Nous avons d\u00e9j\u00e0 des imports et exports en formats CSV et GeoPackage, et nous visons une int\u00e9gration facile avec OSM.</p> <p>L'application mobile pour Android permet la soumission de formulaires et la cr\u00e9ation d'unit\u00e9s d'organisation. Les formulaires peuvent \u00e9galement \u00eatre remplis dans une interface web via le service compagnon Enketo.</p>"},{"location":"fr/pages/dev/how_to/add_new_permission/add_new_permission.html","title":"Add new permission","text":""},{"location":"fr/pages/dev/how_to/add_new_permission/add_new_permission.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/attach_file_to_forms/attach_file_to_forms.html","title":"Attach a file to a form","text":"<p>Dans les formulaires ODK,  il est possible d'utiliser des fichiers externes (images, videos, audios,  CSVs, etc.) pour enrichir vos formulaire.</p> <p>Cela est aussi possible dans IASO, mais il est d'abord n\u00e9cessaire de t\u00e9l\u00e9verser et attacher vos fichiers au formulaire correspondant.</p> <p>Apr\u00e8s avoir cr\u00e9er votre formulaire dans l'interface web, allez dans les d\u00e9tails de votre formulaire, o\u00f9 vous pouvez voir toutes les versions.</p> <p></p> <p>S\u00e9lectionnez l'onglet \"PI\u00c8CES JOINTES\" et cliquez sur \"AJOUTER/METTRE \u00c0 JOUR\".</p> <p></p> <p>Vous serez alors en mesure de s\u00e9lectionner votre fichier \u00e0 t\u00e9l\u00e9verser</p> <p></p> \u26a0\ufe0f Note Si un fichier portant le m\u00eame nom existe d\u00e9j\u00e0, il sera \u00e9cras\u00e9. Une fois qu'un fichier est remplac\u00e9, il ne peut pas \u00eatre r\u00e9cup\u00e9r\u00e9."},{"location":"fr/pages/dev/how_to/contribute/contribute.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/create_entities_in_web_ui/create_entities_in_web_ui.html","title":"Create entities in web ui","text":""},{"location":"fr/pages/dev/how_to/create_entities_in_web_ui/create_entities_in_web_ui.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/create_entity_workflow/create_entity_workflow.html","title":"Create entity workflow","text":""},{"location":"fr/pages/dev/how_to/create_entity_workflow/create_entity_workflow.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html","title":"Create forms for entities","text":""},{"location":"fr/pages/dev/how_to/create_forms_for_entities/create_forms_for_entities.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/create_mobile_reports/create_mobile_reports.html","title":"Create mobile reports","text":""},{"location":"fr/pages/dev/how_to/create_mobile_reports/create_mobile_reports.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/create_registry_in_web_ui/create_registry_in_web_ui.html","title":"Create registry in web ui","text":""},{"location":"fr/pages/dev/how_to/create_registry_in_web_ui/create_registry_in_web_ui.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/debug_backend/debug_backend.html","title":"Debug backend","text":""},{"location":"fr/pages/dev/how_to/debug_backend/debug_backend.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/deploy/deploy.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/exclude_featureflag_related_module/exclude_featureflag_related_module.html","title":"Exclude featureflag related module","text":""},{"location":"fr/pages/dev/how_to/exclude_featureflag_related_module/exclude_featureflag_related_module.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/iaso_special_question_names/iaso_special_question_names.html","title":"Iaso special question names","text":""},{"location":"fr/pages/dev/how_to/iaso_special_question_names/iaso_special_question_names.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/iaso_specific_intents/iaso_specific_intents.html","title":"Iaso specific intents","text":""},{"location":"fr/pages/dev/how_to/iaso_specific_intents/iaso_specific_intents.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/manually_test_enketo/manually_test_enketo.html","title":"Manually test enketo","text":""},{"location":"fr/pages/dev/how_to/manually_test_enketo/manually_test_enketo.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/rebuild_front/rebuild_front.html","title":"Rebuild front","text":""},{"location":"fr/pages/dev/how_to/rebuild_front/rebuild_front.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/run_docs_locally/run_docs_locally.html","title":"Run docs locally","text":""},{"location":"fr/pages/dev/how_to/run_docs_locally/run_docs_locally.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/setup_dev_env/setup_dev_env.html","title":"Setup dev env","text":""},{"location":"fr/pages/dev/how_to/setup_dev_env/setup_dev_env.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/setup_dev_env/setuper.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/use_iaso_apis/use_iaso_apis.html","title":"Use iaso apis","text":""},{"location":"fr/pages/dev/how_to/use_iaso_apis/use_iaso_apis.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/use_plugins/use_plugins.html","title":"Use plugins","text":""},{"location":"fr/pages/dev/how_to/use_plugins/use_plugins.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/use_tranlations/use_translations.html","title":"Use translations","text":""},{"location":"fr/pages/dev/how_to/use_tranlations/use_translations.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/how_to/write_visit_on_nfc/write_visit_on_nfc.html","title":"Write visit on nfc","text":""},{"location":"fr/pages/dev/how_to/write_visit_on_nfc/write_visit_on_nfc.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/API/org_unit_change_request_configuration.html","title":"Org unit change request configuration","text":""},{"location":"fr/pages/dev/reference/API/org_unit_change_request_configuration.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/API/org_unit_registry.html","title":"Org unit registry","text":""},{"location":"fr/pages/dev/reference/API/org_unit_registry.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/API/payments/payments.html","title":"Payments","text":""},{"location":"fr/pages/dev/reference/API/payments/payments.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/analytics/plausible-setup.html","title":"Plausible setup","text":""},{"location":"fr/pages/dev/reference/analytics/plausible-setup.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/campaigns/subactivities.html","title":"Subactivities","text":""},{"location":"fr/pages/dev/reference/campaigns/subactivities.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/clamav/clamav.html","title":"Clamav","text":""},{"location":"fr/pages/dev/reference/clamav/clamav.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/data_model_glossary/data_model_glossary.html","title":"Data model glossary","text":""},{"location":"fr/pages/dev/reference/data_model_glossary/data_model_glossary.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/doc_setup/doc_setup.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/docker/docker.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/entities_in_iaso/entities_in_iaso.html","title":"Entities in iaso","text":""},{"location":"fr/pages/dev/reference/entities_in_iaso/entities_in_iaso.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/env_variables/env_variables.html","title":"Variables d'environnement","text":""},{"location":"fr/pages/dev/reference/env_variables/env_variables.html#connexion-a-la-base-de-donnees","title":"Connexion \u00e0 la base de donn\u00e9es","text":"<p>L'URL est construite \u00e0 partir des variables d'environnement suivantes :</p> <ul> <li><code>RDS_USERNAME</code></li> <li><code>RDS_PASSWORD</code></li> <li><code>RDS_HOSTNAME</code></li> <li><code>RDS_DB_NAME</code></li> <li><code>RDS_PORT</code></li> </ul> <p>Le tableau de bord SQL utilise un utilisateur et un mot de passe d\u00e9di\u00e9s avec un acc\u00e8s en lecture seule aux donn\u00e9es :</p> <ul> <li><code>DB_READONLY_USERNAME</code></li> <li><code>DB_READONLY_PASSWORD</code></li> </ul>"},{"location":"fr/pages/dev/reference/env_variables/env_variables.html#liees-a-aws","title":"Li\u00e9es \u00e0 AWS","text":"<p>Le stockage des divers fichiers comme les ressources statiques (JS/CSS, etc.) et les formulaires bruts (xlsform, soumissions XML et m\u00e9dias) se fait sur S3 ou via une API compatible S3 (comme MinIO).</p> <ul> <li><code>AWS_ACCESS_KEY_ID</code></li> <li><code>AWS_SECRET_ACCESS_KEY</code></li> <li><code>AWS_S3_REGION_NAME</code></li> <li><code>AWS_STORAGE_BUCKET_NAME</code></li> <li><code>AWS_S3_ENDPOINT_URL</code> : (utilis\u00e9 par exemple pour pointer vers MinIO)</li> </ul> <p>Pour les t\u00e2ches asynchrones :</p> <ul> <li><code>BACKGROUND_TASK_SERVICE</code> : par d\u00e9faut <code>SQS</code>. Valeurs possibles : <code>SQS</code>, <code>POSTGRES</code></li> <li><code>BEANSTALK_SQS_REGION</code></li> <li><code>BEANSTALK_SQS_URL</code></li> </ul>"},{"location":"fr/pages/dev/reference/env_variables/env_variables.html#liees-a-clamav","title":"Li\u00e9es \u00e0 ClamAV","text":"<p>Si les variables requises ne sont pas d\u00e9finies, ClamAV ne sera pas configur\u00e9 et Iaso ne pourra pas scanner les fichiers t\u00e9l\u00e9charg\u00e9s.</p> Nom Optionnel Valeur par d\u00e9faut Description <code>CLAMAV_ACTIVE</code> false <code>False</code> Indique si les fichiers t\u00e9l\u00e9charg\u00e9s doivent \u00eatre scann\u00e9s avec ClamAV. <code>CLAMAV_FQDN</code> false <code>www.some-url.com</code> Adresse que Iaso peut utiliser pour joindre ClamAV - FQDN, pas une URL compl\u00e8te (ex. <code>clamav.mywebsite.com</code>). <code>CLAMAV_PORT</code> true <code>3310</code> Port que Iaso peut utiliser pour joindre ClamAV."},{"location":"fr/pages/dev/reference/env_variables/env_variables.html#compression","title":"Compression","text":"<p>Vous pouvez activer la compression des r\u00e9ponses en utilisant le middleware Django <code>GZipMiddleware</code>. Pour ce faire, d\u00e9finissez la variable d'environnement <code>ENABLE_GZIP</code> \u00e0 <code>\"true\"</code>.</p> <p>La valeur par d\u00e9faut est <code>\"false\"</code>, car il est g\u00e9n\u00e9ralement pr\u00e9f\u00e9rable d'effectuer la compression au niveau du serveur web (par exemple, Nginx ou Apache).</p>"},{"location":"fr/pages/dev/reference/env_variables/env_variables.html#parametres-de-securite","title":"Param\u00e8tres de s\u00e9curit\u00e9","text":""},{"location":"fr/pages/dev/reference/env_variables/env_variables.html#parametres-django","title":"Param\u00e8tres Django","text":"<p>Iaso permet de d\u00e9finir certains param\u00e8tres de s\u00e9curit\u00e9 de Django comme variables d'environnement. Pour activer ces fonctionnalit\u00e9s, d\u00e9finissez la variable d'environnement \u00e0 <code>\"true\"</code>. La valeur par d\u00e9faut est <code>\"false\"</code>.</p> <ul> <li><code>CSRF_COOKIE_HTTPONLY</code></li> <li><code>CSRF_COOKIE_SECURE</code></li> <li><code>SESSION_COOKIE_SECURE</code></li> </ul>"},{"location":"fr/pages/dev/reference/env_variables/env_variables.html#cors","title":"CORS","text":"<p>Il est possible de configurer un serveur IASO avec CORS autorisant l'acc\u00e8s depuis n'importe quel serveur en d\u00e9finissant la variable d'environnement <code>\"ENABLE_CORS\"</code>.</p> <p>La valeur par d\u00e9faut est <code>\"true\"</code>.</p>"},{"location":"fr/pages/dev/reference/env_variables/env_variables.html#desactivation-de-la-connexion-par-mot-de-passe","title":"D\u00e9sactivation de la connexion par mot de passe","text":"<p>D\u00e9finissez la variable d'environnement <code>DISABLE_PASSWORD_LOGINS</code> \u00e0 la valeur <code>\"true\"</code> si vous souhaitez d\u00e9sactiver la connexion par mot de passe :</p> <ul> <li>Sur la page de connexion de base.</li> <li>Pour se connecter \u00e0 l'administration.</li> <li>Via <code>/api/token</code>, qui est utilis\u00e9 par d\u00e9faut par l'application mobile.</li> </ul>"},{"location":"fr/pages/dev/reference/env_variables/env_variables.html#liees-a-sentry","title":"Li\u00e9es \u00e0 Sentry","text":"<p>Si vous ne fournissez pas de <code>SENTRY_URL</code>, Sentry ne sera pas configur\u00e9.</p> Nom Optionnel Valeur par d\u00e9faut Description <code>SENTRY_URL</code> true - URL sp\u00e9cifique \u00e0 votre compte Sentry. <code>SENTRY_ENVIRONMENT</code> true <code>development</code> Environnement (dev, staging, prod, etc.). <code>SENTRY_TRACES_SAMPLE_RATE</code> true <code>0.1</code> Flottant entre 0 et 1 : envoie 10 % des traces. <code>SENTRY_ERRORS_SAMPLE_RATE</code> true <code>1.0</code> Flottant entre 0 et 1 : envoie toutes les erreurs. <code>SENTRY_ERRORS_HTTPERROR_SAMPLE_RATE</code> true <code>0.8</code> Flottant entre 0 et 1 : envoie 80 % des erreurs HTTP."},{"location":"fr/pages/dev/reference/env_variables/env_variables.html#mode-maintenance","title":"Mode maintenance","text":"<p><code>MAINTENANCE_MODE</code> (la valeur par d\u00e9faut est <code>\"false\"</code>)</p> <p>Si vous devez configurer IASO en mode maintenance, ce qui signifie qu'il affichera sur <code>/</code> une page indiquant que le serveur est en maintenance, et donnera une r\u00e9ponse 404 \u00e0 toutes les requ\u00eates (sauf pour <code>/health</code> ou <code>/_health</code>, que nous encourageons \u00e0 utiliser pour la surveillance de l'\u00e9tat), vous pouvez d\u00e9finir la variable d'environnement <code>MAINTENANCE_MODE</code> \u00e0 la valeur <code>\"true\"</code>.</p>"},{"location":"fr/pages/dev/reference/env_variables/env_variables.html#url-en-savoir-plus","title":"URL \"En savoir plus\"","text":"<p>La variable d'environnement <code>LEARN_MORE_URL</code> est utilis\u00e9e pour sp\u00e9cifier une URL qui sera affich\u00e9e sur la page de connexion. Si elle est d\u00e9finie, les utilisateurs peuvent cliquer sur un lien \"En savoir plus\" ou sur le logo pour visiter cette URL. Si <code>LEARN_MORE_URL</code> n'est pas d\u00e9finie, le logo ne sera pas cliquable et le lien ne sera pas affich\u00e9.</p> <ul> <li><code>LEARN_MORE_URL</code></li> </ul> <p>Dans nos environnements, cela sera li\u00e9 \u00e0 <code>https://www.openiaso.com/</code>. Pour les environnements clients, cela peut \u00eatre supprim\u00e9 ou personnalis\u00e9 selon les besoins.</p>"},{"location":"fr/pages/dev/reference/env_variables/env_variables.html#integration-product-fruits","title":"Int\u00e9gration Product Fruits","text":"<p>Pour activer l'int\u00e9gration Product Fruits, d\u00e9finissez la variable d'environnement suivante :</p> <ul> <li><code>PRODUCT_FRUITS_WORKSPACE_CODE=VOTRE_CODE</code></li> </ul> <p>Lorsque cette variable est d\u00e9finie, Product Fruits sera activ\u00e9 et seuls le nom et l'ID du compte seront envoy\u00e9s au service. Cela permet l'int\u00e9gration des utilisateurs et la d\u00e9couverte des fonctionnalit\u00e9s.</p>"},{"location":"fr/pages/dev/reference/env_variables/env_variables.html#configuration-frontend","title":"Configuration Frontend","text":""},{"location":"fr/pages/dev/reference/env_variables/env_variables.html#parametres-de-developpement","title":"Param\u00e8tres de d\u00e9veloppement","text":"Nom Optionnel Valeur par d\u00e9faut Description <code>WEBPACK_HOST</code> true <code>localhost</code> H\u00f4te du serveur de d\u00e9veloppement. <code>WEBPACK_PORT</code> true <code>3000</code> Port du serveur de d\u00e9veloppement. <code>WEBPACK_PROTOCOL</code> true <code>http</code> Protocole du serveur de d\u00e9veloppement. <code>WEBPACK_PATH</code> true <code>./assets/webpack/</code> Chemin des fichiers de sortie webpack. <code>OLD_BROWSER</code> true <code>false</code> Active le mode de compatibilit\u00e9 pour les navigateurs plus anciens. <code>LIVE_COMPONENTS</code> true <code>false</code> Utilise les composants <code>bluesquare-components</code> locaux pour le d\u00e9veloppement."},{"location":"fr/pages/dev/reference/env_variables/env_variables.html#parametres-de-langue","title":"Param\u00e8tres de langue","text":"Nom Optionnel Valeur par d\u00e9faut Description <code>AVAILABLE_LANGUAGES</code> true <code>en,fr</code> Liste des langues prises en charge, s\u00e9par\u00e9es par des virgules."},{"location":"fr/pages/dev/reference/front-end_reference/front-end_reference.html","title":"Front end reference","text":""},{"location":"fr/pages/dev/reference/front-end_reference/front-end_reference.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/guidelines/back-end/back-end.html","title":"Back end","text":""},{"location":"fr/pages/dev/reference/guidelines/back-end/back-end.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/guidelines/front-end/front-end.html","title":"Front end","text":""},{"location":"fr/pages/dev/reference/guidelines/front-end/front-end.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/guidelines/git/git.html","title":"Git","text":""},{"location":"fr/pages/dev/reference/guidelines/git/git.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/public_registry/public_registry.html","title":"Public registry","text":""},{"location":"fr/pages/dev/reference/public_registry/public_registry.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html","title":"SQL Dashboard feature","text":""},{"location":"fr/pages/dev/reference/sql_dashboard/SQL_Dashboard_feature.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/dev/reference/vector_control/vector_control.html","title":"Vector control","text":""},{"location":"fr/pages/dev/reference/vector_control/vector_control.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/users/FAQ/faq.html","title":"Faq","text":""},{"location":"fr/pages/users/FAQ/faq.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/users/how_to/convert_docx_to_md/convert_docx_to_md.html","title":"Convert docx to md","text":""},{"location":"fr/pages/users/how_to/convert_docx_to_md/convert_docx_to_md.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/users/how_to/create_new_documentation_page/create_new_documentation_page.html","title":"Create new documentation page","text":""},{"location":"fr/pages/users/how_to/create_new_documentation_page/create_new_documentation_page.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/users/how_to/edit_documentation/edit_documentation.html","title":"Edit documentation","text":""},{"location":"fr/pages/users/how_to/edit_documentation/edit_documentation.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html","title":"Setup an empty iaso account","text":""},{"location":"fr/pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html","title":"Setup dhis2 login in iaso","text":""},{"location":"fr/pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"fr/pages/users/reference/iaso_concepts/iaso_concepts.html#formulaires-de-collecte-de-donnees-xls","title":"Formulaires de collecte de donn\u00e9es XLS","text":"<p>La collecte de donn\u00e9es implique des questions, et pour organiser ces questions, des formulaires de collecte de donn\u00e9es. Ils se composent de questions pour lesquelles on souhaite collecter des r\u00e9ponses, tout en sp\u00e9cifiant des options (obligatoires ou non, saut d'une question en fonction d'une r\u00e9ponse pr\u00e9c\u00e9dente, etc.).\\ IASO utilise les XLS forms pour ses questionnaires, qui sont donc pr\u00e9d\u00e9finis \u00e0 l'aide d'un fichier Excel.</p> <p>Dans IASO, les formulaires de collecte de donn\u00e9es sont versionn\u00e9s, ce qui signifie qu'\u00e0 chaque fois qu'une nouvelle version est cr\u00e9\u00e9e, l'ancienne version est conserv\u00e9e et reste disponible dans le syst\u00e8me. Il est possible d'y revenir ais\u00e9ment.</p>"},{"location":"fr/pages/users/reference/iaso_concepts/iaso_concepts.html#unites-dorganisation","title":"Unit\u00e9s d'organisation","text":"<p>IASO utilise la notion d'Unit\u00e9s d'organisation (Org unit ou OU) pour g\u00e9rer les donn\u00e9es g\u00e9ographiques.\\ Les types d'unit\u00e9 d'organisation (OUT) repr\u00e9sentent les niveaux dans la hi\u00e9rarchie.</p>"},{"location":"fr/pages/users/reference/iaso_concepts/iaso_concepts.html#exemple","title":"Exemple :","text":"<ul> <li>Pays</li> <li>R\u00e9gion</li> <li>District</li> <li>Zone</li> <li>Infrastructure/Village/Point d'int\u00e9r\u00eat</li> </ul> <p>Les unit\u00e9s d'organisation sont class\u00e9es dans la pyramide selon un parent et un ou plusieurs enfants (sauf les parents au sommet et les enfants au bas de la hi\u00e9rarchie).</p>"},{"location":"fr/pages/users/reference/iaso_concepts/iaso_concepts.html#exemple-ci-dessous","title":"Exemple ci-dessous :","text":"<ul> <li>R\u00e9publique D\u00e9mocratique du Congo (Type d'unit\u00e9 d'organisation \"Pays\") est l'unit\u00e9 d'organisation parente de</li> <li>Kinshasa (Type d'unit\u00e9 d'organisation \"Ville\"), qui est l'unit\u00e9 d'organisation parente de</li> <li>Bureau Bluesquare (Type d'unit\u00e9 d'organisation \"Bureau\")</li> </ul> <p>La collecte de donn\u00e9es dans IASO est structur\u00e9e selon la hi\u00e9rarchie d\u00e9finie, et chaque utilisateur doit explicitement s\u00e9lectionner une unit\u00e9 d'organisation avant d'ouvrir le questionnaire et de r\u00e9pondre aux questions. Cela garantit que les donn\u00e9es collect\u00e9es sont correctement associ\u00e9es \u00e0 la g\u00e9ographie pertinente.</p>"},{"location":"fr/pages/users/reference/iaso_concepts/iaso_concepts.html#projets","title":"Projets","text":"<p>Dans IASO, un Projet est li\u00e9 \u00e0 une instance d'application mobile, avec son propre ID d'application (ou \"App ID\"). Au sein d'un m\u00eame compte IASO, vous pouvez avoir un ou plusieurs Projet(s) avec diff\u00e9rentes options de fonctionnalit\u00e9s.\\ Les utilisateurs peuvent \u00eatre li\u00e9s \u00e0 un ou plusieurs Projet(s).</p>"},{"location":"fr/pages/users/reference/iaso_concepts/iaso_concepts.html#a-savoir","title":"\u00c0 savoir :","text":"<ul> <li>Un Projet est li\u00e9 \u00e0 une source de donn\u00e9es</li> <li>Un Projet peut \u00eatre li\u00e9 \u00e0 un ou plusieurs utilisateurs</li> <li>Certains utilisateurs peuvent \u00eatre limit\u00e9s \u00e0 un ou plusieurs Projet(s)/ID(s) d'application -- cela peut \u00eatre d\u00e9fini dans la gestion des utilisateurs</li> <li>Chaque Type d'Unit\u00e9 Organisationnelle doit \u00eatre li\u00e9 \u00e0 un ou plusieurs Projet(s)</li> <li>Chaque Formulaire doit \u00eatre li\u00e9 \u00e0 un ou plusieurs Projet(s)</li> </ul>"},{"location":"fr/pages/users/reference/iaso_concepts/iaso_concepts.html#entites","title":"Entit\u00e9s","text":"<p>Dans IASO, une \u201cEntit\u00e9\u201d repr\u00e9sente n'importe quel personne ou object qui peut bouger ou \u00eatre boug\u00e9 et que nous souhaions suivre \u00e0 travers le temps ou les Unit\u00e9s d'organisation.  Par exemple, un b\u00e9n\u00e9ficiaire, une voiture, une carte de vaccination, etc.</p> <p>Pour diff\u00e9rencier les diff\u00e9rents types d'entit\u00e9s, IASO a un concept de \u201cType d'Entit\u00e9\u201d.</p> <p>Une entit\u00e9 est repr\u00e9sent\u00e9e par une soumission de formulaire.  Cette soumission est aussi appel\u00e9e le profil. Le type d'entit\u00e9 d\u00e9finit quel formulaire doit \u00eatre compl\u00e9t\u00e9 afin de cr\u00e9er une nouvelle entit\u00e9.</p>"},{"location":"fr/pages/users/reference/iaso_concepts/iaso_concepts.html#workflows","title":"Workflows","text":"<p>Sur base du profile d'une entit\u00e9, il est possible de proposer plusieurs formulaires diff\u00e9rents et de d\u00e9finir comment chaque soumission impacte le profil. Les r\u00e8gles qui d\u00e9finissent quels formulaires et comments chaque soumission impacte le profil sont appel\u00e9es un \"Workflow.\" </p>"},{"location":"fr/pages/users/reference/iaso_mobile/iaso_mobile.html","title":"Mobile","text":""},{"location":"fr/pages/users/reference/iaso_mobile/iaso_mobile.html#application-mobile-iaso","title":"Application mobile IASO","text":"<p>L'application mobile IASO est disponible sur le Google Play Store (uniquement pour les t\u00e9l\u00e9phones Android).</p> <p>Elle peut fonctionner enti\u00e8rement hors ligne - une fois que l'utilisateur final a saisi les donn\u00e9es n\u00e9cessaires, il/elle peut t\u00e9l\u00e9charger toutes les donn\u00e9es collect\u00e9es hors ligne d'un seul coup lorsque le r\u00e9seau est disponible.</p> <p>Les mises \u00e0 jour effectu\u00e9es depuis le web (versions des formulaires, pyramide sanitaire) seront refl\u00e9t\u00e9es dans l'application uniquement apr\u00e8s actualisation des donn\u00e9es de l'application, ce qui n\u00e9cessite une connexion Internet.</p> <p>Astuce importante avant de tester/utiliser l'application : Assurez-vous d'avoir actualis\u00e9 les donn\u00e9es au pr\u00e9alable.</p>"},{"location":"fr/pages/users/reference/iaso_mobile/iaso_mobile.html#lancer-lapplication-mobile-pour-la-premiere-fois","title":"Lancer l'application mobile pour la premi\u00e8re fois","text":"<p>L'application mobile IASO doit \u00eatre configur\u00e9e sur la partie web avant utilisation (voir la section \u201cProjet\u201d).</p> <p>Ensuite, vous pouvez :</p> <ul> <li>T\u00e9l\u00e9charger IASO App sur Google Play Store</li> <li>Ins\u00e9rer l'URL du serveur : https://iaso.bluesquare.org (Attention, cet url peut varier en fonction du contexte des projets)</li> <li>Puis, entrer l'App ID.</li> </ul> <p>Vous pouvez \u00e9galement configurer l'application mobile en scannant le QR code du projet correspondant sur le web. </p> <p></p>"},{"location":"fr/pages/users/reference/iaso_mobile/iaso_mobile.html#apercu-des-boutons","title":"Aper\u00e7u des boutons","text":"<p>Voir ci-dessous un aper\u00e7u des principaux boutons que vous pouvez trouver sur l'\u00e9cran principal en mode collecte de donn\u00e9es. </p> <p></p> <p>Dans la section \"Plus d'options\", vous pouvez effectuer les actions suivantes :</p> <ul> <li>Actualiser les donn\u00e9es : vous devez avoir une connexion Internet pour le faire. Cela synchronisera l'application mobile avec les donn\u00e9es IASO web. Pour \u00e9viter que cela ne prenne trop de temps dans les environnements \u00e0 faible connectivit\u00e9, vous pouvez choisir d'actualiser uniquement certaines parties comme les formulaires, les unit\u00e9s d'organisation, ou autres.</li> <li>Changer l'App ID : vous pouvez changer de projet en entrant un autre App ID. Pour \u00e9viter que des donn\u00e9es de l'ancien App ID ne restent dans l'application mobile IASO, acc\u00e9dez \u00e0 vos param\u00e8tres et effacez les donn\u00e9es de stockage et de cache de l'application IASO au pr\u00e9alable.</li> <li>Changer l'URL du serveur : ceci peut \u00eatre utile si vous devez passer du serveur de production au serveur de test.</li> <li>Se d\u00e9connecter : votre utilisateur peut se d\u00e9connecter. Cela n'emp\u00eache pas la consultation des donn\u00e9es locales (donn\u00e9es disponibles sur l'appareil de l'utilisateur IASO).</li> <li>\u00c0 propos : affiche la version de l'application mobile IASO. </li> </ul>"},{"location":"fr/pages/users/reference/iaso_mobile/iaso_mobile.html#collecter-des-donnees","title":"Collecter des donn\u00e9es","text":"<p>Une fois connect\u00e9 \u00e0 l'application mobile IASO, vous pouvez proc\u00e9der \u00e0 la collecte de donn\u00e9es. Voici les diff\u00e9rents \u00e9crans que vous verrez lors d'une simple collecte de donn\u00e9es.</p> <p></p> <p>Le formulaire de collecte de donn\u00e9es s\u00e9lectionn\u00e9 s'ouvrira alors. Vous pouvez r\u00e9pondre aux diff\u00e9rentes questions et appuyer sur \"Suivant\" jusqu'\u00e0 la fin du formulaire.</p> <p>Si vous souhaitez interrompre la collecte de donn\u00e9es pendant la saisie, vous pouvez appuyer sur le bouton retour de la tablette ou du smartphone.</p> <p>Une fois que vous appuyez sur le bouton, deux options s'offrent \u00e0 vous :</p> <ul> <li>Enregistrer les modifications : pour enregistrer toutes les donn\u00e9es d\u00e9j\u00e0 saisies et laisser le formulaire en statut non finalis\u00e9. Avec cette option, vous pouvez revenir plus tard pour continuer la saisie des donn\u00e9es.</li> <li>Ignorer les modifications : pour supprimer les donn\u00e9es saisies et le formulaire.</li> </ul> <p>T\u00e9l\u00e9charger les donn\u00e9es collect\u00e9es</p> <p>Les donn\u00e9es collect\u00e9es sur votre appareil mobile sont stock\u00e9es localement. Vous devez les t\u00e9l\u00e9charger sur le serveur pour qu'elles soient visibles au niveau central. Gardez \u00e0 l'esprit qu'une connexion Internet est n\u00e9cessaire pour t\u00e9l\u00e9charger les donn\u00e9es.</p> <p>Cliquez sur l'ic\u00f4ne \"Envoyer les formulaires finalis\u00e9s\" sur la page d'accueil de l'application mobile, dans le coin sup\u00e9rieur droit.</p>"},{"location":"fr/pages/users/reference/iaso_mobile/iaso_mobile.html#appareils-recommandes-pour-la-collecte-de-donnees-avec-iaso-derniere-mise-a-jour-fevrier-2025","title":"Appareils recommand\u00e9s pour la collecte de donn\u00e9es avec IASO (derni\u00e8re mise \u00e0 jour: f\u00e9vrier 2025)","text":"<p>L'application Android IASO n\u00e9cessite moins de 30 Mo de stockage et peu de puissance de traitement, la rendant compatible avec des smartphones d'entr\u00e9e de gamme.  </p>"},{"location":"fr/pages/users/reference/iaso_mobile/iaso_mobile.html#recommandations-pour-les-smartphones","title":"Recommandations pour les Smartphones","text":"<p>Pour une utilisation standard, nous recommandons les appareils Android One (ex. Nokia 2.3, bien que le programme soit moins actif). En 2025, le Samsung Galaxy A14 est une bonne alternative (sp\u00e9cifications).  </p> <ul> <li>Si vous collectez beaucoup de photos/vid\u00e9os, optez pour un t\u00e9l\u00e9phone avec plus de stockage.  </li> <li>\u00c9vitez les appareils fonctionnant sous Android en dessous de la version 6.  </li> </ul>"},{"location":"fr/pages/users/reference/iaso_mobile/iaso_mobile.html#tablettes-pour-un-usage-intensif","title":"Tablettes pour un usage intensif","text":"<p>Pour une saisie fr\u00e9quente des donn\u00e9es, une tablette am\u00e9liore le confort gr\u00e2ce \u00e0 un clavier plus grand. Nous recommandons les mod\u00e8les Samsung, comme la Galaxy Tab A 8.0 (~200\u20ac). Assurez-vous qu'elle prenne en charge la connectivit\u00e9 4G.  </p> <p>Avant d\u2019acheter en grande quantit\u00e9, testez une unit\u00e9 pour v\u00e9rifier la compatibilit\u00e9 avec toutes les applications et fonctionnalit\u00e9s requises (NFC, boussole, scan QR).  </p>"},{"location":"fr/pages/users/reference/iaso_mobile/iaso_mobile.html#specifications-techniques-pour-tablettes","title":"Sp\u00e9cifications techniques pour tablettes","text":"<ul> <li>\u00c9cran : 7-10\" Full HD tactile  </li> <li>M\u00e9moire : 2 Go de RAM, 16 Go de stockage (+MicroSD jusqu'\u00e0 128 Go)  </li> <li>Processeur : Quad-core 1.6 GHz  </li> <li>Batterie : 7-8 heures d'autonomie  </li> <li>Connectivit\u00e9 : 4G LTE, Wi-Fi, Bluetooth 5.0  </li> <li>OS : Android 6+ (de pr\u00e9f\u00e9rence versions Android One)  </li> </ul>"},{"location":"fr/pages/users/reference/iaso_mobile/iaso_mobile.html#accessoires","title":"Accessoires","text":"<ul> <li>\u00c9tui de protection pour tablette  </li> <li>Chargeur solaire 25 000mAh (ports Type-C &amp; USB)  </li> </ul> <p>Une page sp\u00e9cifique s'ouvrira pour vous indiquer si les donn\u00e9es ont \u00e9t\u00e9 correctement t\u00e9l\u00e9charg\u00e9es. Finalisez l'op\u00e9ration en cliquant sur \"Envoyer au serveur\".</p> <p></p>"},{"location":"fr/pages/users/reference/iaso_modules/iaso_modules.html","title":"Modules","text":"<p>IASO est organis\u00e9 en Modules, qui sont des groupes de fonctionnalit\u00e9s pouvant \u00eatre ajout\u00e9s en fonction des cas d'usage \u00e0 couvrir. Voici les Modules disponibles dans IASO :</p>"},{"location":"fr/pages/users/reference/iaso_modules/iaso_modules.html#fonctionnalites-de-collecte-de-donnees","title":"Fonctionnalit\u00e9s de collecte de donn\u00e9es","text":"<ul> <li>G\u00e9rer les formulaires de collecte de donn\u00e9es (formulaires XLS) et leurs soumissions de donn\u00e9es associ\u00e9es</li> <li>G\u00e9rer les donn\u00e9es g\u00e9ographiques (import/export de donn\u00e9es g\u00e9ographiques depuis Excel, DHIS2 ou Geopackages, g\u00e9rer les unit\u00e9s d'organisation et leur hi\u00e9rarchie)</li> <li>Suivre le processus de collecte de donn\u00e9es avec le tableau et la carte des statistiques de compl\u00e9tude</li> <li>G\u00e9rer les utilisateurs, leurs permissions et leurs g\u00e9ographies, ainsi que les r\u00f4les et \u00e9quipes des utilisateurs</li> <li>Cr\u00e9er des ID d'application mobile et g\u00e9rer les options de fonctionnalit\u00e9s associ\u00e9es</li> </ul>"},{"location":"fr/pages/users/reference/iaso_modules/iaso_modules.html#georegistre","title":"G\u00e9oregistre","text":"<ul> <li>Importer plusieurs sources de donn\u00e9es depuis Excel, DHIS2 ou Geopackages, les comparer et les fusionner si n\u00e9cessaire</li> <li>Visualiser sur une carte dynamique les donn\u00e9es collect\u00e9es \u00e0 diff\u00e9rents niveaux de la hi\u00e9rarchie (par exemple, Pays, R\u00e9gion, District, Infrastructure)</li> <li>Valider les modifications des unit\u00e9s d'organisation (Nom, Type, coordonn\u00e9es GPS, dates d'ouverture/fermeture) soumises depuis le terrain via l'application mobile</li> <li>Valider les donn\u00e9es soumises via des formulaires de collecte de donn\u00e9es li\u00e9s \u00e0 des types sp\u00e9cifiques d'unit\u00e9s d'organisation, appel\u00e9s \"formulaires de r\u00e9f\u00e9rence\"</li> <li>Sur la base des modifications valid\u00e9es propos\u00e9es par utilisateur, g\u00e9n\u00e9rer des lots de paiement \u00e0 envoyer \u00e0 un fournisseur de Mobile Money</li> </ul>"},{"location":"fr/pages/users/reference/iaso_modules/iaso_modules.html#integration-bidirectionnelle-avec-dhis2","title":"Int\u00e9gration bidirectionnelle avec DHIS2","text":"<ul> <li>G\u00e9rer les correspondances avec les \u00e9l\u00e9ments de donn\u00e9es de DHIS2 pour l'import/export de donn\u00e9es</li> </ul>"},{"location":"fr/pages/users/reference/iaso_modules/iaso_modules.html#planification","title":"Planification","text":"<ul> <li>Planifier \u00e0 l'avance vos activit\u00e9s de collecte de donn\u00e9es en cr\u00e9ant un planning avec un cadre temporel, une g\u00e9ographie, des formulaires de collecte de donn\u00e9es et des \u00e9quipes</li> <li>Attribuer des t\u00e2ches de collecte de donn\u00e9es \u00e0 des \u00e9quipes et des utilisateurs via l'interface bas\u00e9e sur une carte disponible sur le web</li> <li>Une fois les t\u00e2ches attribu\u00e9es, les utilisateurs de l'application mobile sur le terrain ne verront que les formulaires qui leur ont \u00e9t\u00e9 assign\u00e9s</li> </ul>"},{"location":"fr/pages/users/reference/iaso_modules/iaso_modules.html#entites","title":"Entit\u00e9s","text":"<ul> <li>Les entit\u00e9s sont des \u00e9l\u00e9ments pouvant se d\u00e9placer d'une g\u00e9ographie \u00e0 une autre, par exemple une personne, une palette de marchandises ou autre</li> <li>Les entit\u00e9s peuvent \u00eatre cr\u00e9\u00e9es depuis l'application mobile, puis g\u00e9r\u00e9es depuis l'application web</li> <li>Trouver les doublons d'entit\u00e9s \u00e0 l'aide de l'interface de l'application web et d\u00e9cider de fusionner ou non deux entit\u00e9s similaires</li> <li>Attribuer des workflows \u00e0 des types d'entit\u00e9s, permettant d'ouvrir des formulaires de collecte de donn\u00e9es sp\u00e9cifiques en fonction des r\u00e9ponses pr\u00e9c\u00e9demment donn\u00e9es</li> </ul>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html","title":"Plateforme Web","text":"<p>La plateforme web IASO est destin\u00e9e aux administrateurs pour leur permettre de d\u00e9finir les d\u00e9tails de la collecte de donn\u00e9es qu'ils souhaitent r\u00e9aliser. Voici quelques atouts cl\u00e9s d'IASO :</p> <ul> <li>le versionnement de toutes les donn\u00e9es : chaque modification est trac\u00e9e et les versions pr\u00e9c\u00e9dentes peuvent \u00eatre r\u00e9cup\u00e9r\u00e9es si n\u00e9cessaire ;</li> <li>la collecte de donn\u00e9es g\u00e9o-structur\u00e9e : les formulaires sont li\u00e9s \u00e0 des niveaux g\u00e9ographiques clairs ou \u00e0 des \"unit\u00e9s d'organisation\" ;</li> <li>la tra\u00e7abilit\u00e9 des modifications : permettant la d\u00e9centralisation des activit\u00e9s et des responsabilit\u00e9s.</li> </ul> <p>Les administrateurs peuvent ainsi utiliser la plateforme web pour planifier, surveiller et ensuite \u00e9valuer les efforts de collecte de donn\u00e9es.</p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#connexion","title":"Connexion","text":"<p>Pour vous connecter \u00e0 l'interface web, rendez-vous sur https://iaso.bluesquare.org/login/ et connectez-vous avec votre nom d'utilisateur et votre mot de passe.</p> <p></p> <p>Vous pouvez \u00e9galement r\u00e9initialiser votre mot de passe en cliquant sur le lien \"Mot de passe oubli\u00e9\". Un e-mail automatique vous sera envoy\u00e9 pour vous permettre de cr\u00e9er un nouveau mot de passe. </p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#navigation-dans-iaso","title":"Navigation dans IASO","text":""},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#gerer-les-formulaires-de-collecte-de-donnees","title":"G\u00e9rer les formulaires de collecte de donn\u00e9es","text":""},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#liste-des-formulaires","title":"Liste des formulaires","text":"<p>Depuis la liste des formulaires, vous pouvez rechercher parmi les formulaires disponibles du compte IASO auquel vous \u00eates connect\u00e9 en utilisant les filtres suivants :</p> <p></p> <p>Les boutons ci-dessous vous permettent de g\u00e9rer les formulaires de collecte de donn\u00e9es :</p> <p></p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#creerteleverser-un-formulaire-de-collecte-de-donnees","title":"Cr\u00e9er/T\u00e9l\u00e9verser un formulaire de collecte de donn\u00e9es","text":"<p>Acc\u00e9dez \u00e0 l'entr\u00e9e \"Formulaires\" dans le menu, puis cliquez sur \"Liste des formulaires\". Cliquez sur le bouton \"Cr\u00e9er\". Une fois sur la page de cr\u00e9ation de formulaire, suivez les \u00e9tapes ci-dessous :</p> <ul> <li>Saisissez un nom pour votre formulaire dans le champ \"Nom\". </li> <li>Attribuez un ou plusieurs Project(s) \u00e0 votre formulaire. </li> <li>Attribuez un Org unit type \u00e0 votre formulaire. </li> <li>Attribuez une p\u00e9riode \u00e0 votre formulaire. Cela est destin\u00e9 \u00e0 la collecte de donn\u00e9es r\u00e9guli\u00e8re (par exemple, quotidienne/hebdomadaire/annuelle). Si cette option n'est pas n\u00e9cessaire, s\u00e9lectionnez simplement \"Pas de p\u00e9riode\".</li> </ul> <p></p> <p>Astuces :</p> <ul> <li>V\u00e9rifiez votre formulaire XLS avant de le t\u00e9l\u00e9verser dans IASO \u00e0 l'aide de ce lien : https://getodk.org/xlsform/</li> <li>L'ID du formulaire doit rester identique entre les versions (il ne peut pas diff\u00e9rer d'une version \u00e0 l'autre). Une erreur sera g\u00e9n\u00e9r\u00e9e si ce n'est pas le cas.</li> <li>La version du formulaire (qui n'est pas un champ obligatoire dans les param\u00e8tres des formulaires XLS) doit rester coh\u00e9rente entre les versions. Par exemple, si la version est une date comme 20240410, vous ne pourrez pas t\u00e9l\u00e9verser une version nomm\u00e9e 20231025. IASO effectue des v\u00e9rifications automatiques pour s'assurer que vous ne t\u00e9l\u00e9versez pas une version ant\u00e9rieure.</li> </ul>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#soumissions-de-formulaires","title":"Soumissions de formulaires","text":"<p>Une fois un formulaire rempli et envoy\u00e9 au serveur, il g\u00e9n\u00e8re une \"soumission de formulaire\". Chaque soumission est enregistr\u00e9e sur la plateforme et les donn\u00e9es soumises peuvent \u00eatre consult\u00e9es \u00e0 partir de l\u00e0. Vous pouvez utiliser les filtres pour consulter les soumissions de formulaire selon vos besoins :</p> <p>Recherche ouverte : saisissez des mots-cl\u00e9s ; - Par formulaire : filtrez par formulaire sp\u00e9cifique ; - Par unit\u00e9 d'organisation : s\u00e9lectionnez l'unit\u00e9 pertinente dans la pyramide d\u00e9roulante ; - Par type d'unit\u00e9 d'organisation : par exemple, Pays, District, Village ; - Par date de soumission : cr\u00e9ation de/\u00e0 ; - Par utilisateur : saisissez un nom d'utilisateur pour qu'il apparaisse dans le menu d\u00e9roulant.</p> <p>Vous pouvez utiliser les filtres pour consulter les soumissions de formulaire selon vos besoins :</p> <p></p> <p>Une fois qu'au moins un filtre de formulaire a \u00e9t\u00e9 appliqu\u00e9, vous pouvez t\u00e9l\u00e9charger les soumissions \u00e0 l'aide des boutons \"CSV\" ou \"XLSX\".</p> <p>Vous pouvez \u00e9galement cr\u00e9er une nouvelle soumission en cliquant sur \"Cr\u00e9er\". Cela ouvrira Enketo et vous demandera \u00e0 quelle unit\u00e9 d'organisation elle se rapporte.</p> <p></p> <p>Vous pouvez \u00e9galement v\u00e9rifier les soumissions dans la vue cartographique. Les filtres appliqu\u00e9s s'y refl\u00e8teront \u00e9galement. Pour vous assurer que cette vue cartographique est activ\u00e9e, veillez \u00e0 avoir ajout\u00e9 l'indicateur de fonctionnalit\u00e9 \"GPS pour chaque formulaire\" au Projet concern\u00e9.</p> <p></p> <p>L'onglet \"Fichier\" vous permet de visualiser les fichiers soumis avec les formulaires, tels que des photos. En cliquant sur un fichier donn\u00e9, vous serez redirig\u00e9 vers la soumission de formulaire correspondante. </p> <p></p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#gerer-les-soumissions-de-formulaires","title":"G\u00e9rer les soumissions de formulaires","text":"<p>Sur la page des soumissions, vous pouvez trouver la liste des soumissions de formulaires qui ont \u00e9t\u00e9 effectu\u00e9es. Vous pouvez les g\u00e9rer en utilisant les fonctionnalit\u00e9s ci-dessous.</p> <p></p> <p></p> <p>Visualiser une soumission</p> <p>Vous pouvez visualiser une soumission ou un formulaire soumis en cliquant sur le bouton \"Voir\" (voir ci-dessus).</p> <p>Cela vous permet de voir les donn\u00e9es soumises et de les modifier via Enketo (open-source web application).</p> <p></p> <p>La section \"Informations\" fournit une vue d'ensemble technique du formulaire.</p> <p>La section \"Localisation\" montre l'indication dans la pyramide sanitaire de l'endroit o\u00f9 les donn\u00e9es ont \u00e9t\u00e9 collect\u00e9es.</p> <p>La section \"Demandes d'exportation\" indique quand les donn\u00e9es ont \u00e9t\u00e9 export\u00e9es vers DHIS2, par qui, et les \u00e9ventuelles erreurs survenues pendant l'exportation.</p> <p>La section \"Fichiers\" peut contenir des images, vid\u00e9os ou documents.</p> <p>La section \"Formulaire\" montre toutes les questions et r\u00e9ponses saisies pendant la collecte de donn\u00e9es.</p> <p>T\u00e9l\u00e9charger une soumission</p> <p>L'ic\u00f4ne \"XML\" vous permet de t\u00e9l\u00e9charger une soumission au format XML.</p> <p>L'ic\u00f4ne en forme d'engrenage, en bas \u00e0 droite, affiche une s\u00e9rie d'options au survol. Ces options permettent de :</p> <ul> <li>Supprimer une soumission</li> <li>Modifier l'unit\u00e9 d'organisation ou la p\u00e9riode associ\u00e9e</li> <li>Exporter (par exemple, vers DHIS2)</li> <li>Pousser les coordonn\u00e9es GPS de la soumission vers l'unit\u00e9 d'organisation</li> <li>Modifier la soumission via Enketo</li> <li>Verrouiller la soumission</li> </ul> <p>Voir ci-dessous les sections d\u00e9di\u00e9es pour plus d'informations sur chacune de ces actions.</p> <p>Supprimer une soumission</p> <p>Permet de supprimer le formulaire. Si celui-ci a d\u00e9j\u00e0 \u00e9t\u00e9 export\u00e9 vers DHIS2, cela ne supprimera pas les donn\u00e9es dans DHIS2. Un message d'avertissement appara\u00eetra.</p> <p>Modifier l'unit\u00e9 d'organisation ou la p\u00e9riode associ\u00e9e</p> <p>En cliquant sur \"Modifier la p\u00e9riode et/ou l'unit\u00e9 d'organisation\", une fen\u00eatre s'ouvre, vous permettant de r\u00e9assigner l'instance. Vous pouvez modifier la p\u00e9riode ou l'unit\u00e9 d'organisation assign\u00e9e au formulaire soumis.</p> <p>Exporter une soumission</p> <p>La fonction d'exportation permet d'exporter le formulaire vers DHIS2. Au pr\u00e9alable, il doit avoir \u00e9t\u00e9 mapp\u00e9 \u00e0 l'aide de la fonctionnalit\u00e9 de mapping DHIS2 functionality. </p> <p>Modifier la soumission via Enketo</p> <p>Pour modifier un formulaire, cliquez sur l'ic\u00f4ne Enketo (voir ci-dessus).</p> <p>Modifiez le formulaire en changeant les r\u00e9ponses aux questions n\u00e9cessaires. Ensuite, cliquez sur \"Soumettre\" en bas du formulaire.</p> <p>Pousser les coordonn\u00e9es GPS de la soumission vers l'unit\u00e9 d'organisation</p> <p>Cette action permet d'utiliser les coordonn\u00e9es GPS collect\u00e9es via le formulaire pour les associer aux coordonn\u00e9es GPS de l'unit\u00e9 d'organisation.</p> <p>Verrouiller une soumission</p> <p>Cette fonctionnalit\u00e9 vous permet de prot\u00e9ger les soumissions de formulaire contre toute modification ult\u00e9rieure par des utilisateurs ayant moins de permissions que vous.</p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#statistiques-des-formulaires","title":"Statistiques des formulaires","text":"<p>Cette vue vous permet de consulter les statistiques concernant les formulaires. En cliquant sur \"Statistiques des formulaires\", vous ouvrirez une page contenant deux graphiques :</p> <ul> <li>Le premier montre le nombre total de soumissions au fil du temps.</li> <li>Le second montre les nouvelles soumissions par mois et par formulaire.</li> </ul>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#correspondances-avec-dhis2","title":"Correspondances avec DHIS2","text":"<p>Un grand avantage d'IASO est la possibilit\u00e9 d'exporter des donn\u00e9es vers DHIS2. Pour cela, un mappage pr\u00e9alable est n\u00e9cessaire. Une fois le formulaire t\u00e9l\u00e9vers\u00e9, il faut mapper le formulaire pour qu'il corresponde \u00e0 un \u00e9l\u00e9ment de donn\u00e9es dans DHIS2.</p> <p>Cliquez sur \"DHIS mappings\" pour voir les formulaires.</p> <p>Dans la vue du formulaire, vous pouvez consulter les d\u00e9tails suivants :</p> <ul> <li>Actions</li> <li>Nom des formulaires disponibles pour les correspondances</li> <li>Versions</li> <li>Type du formulaire :</li> <li>Aggregate : donn\u00e9es fixes</li> <li>Event : s\u00e9rie d'\u00e9v\u00e9nements singuliers</li> <li>Event Tracker : continu</li> <li>Nombre de questionnaires \u00e0 mapper</li> <li>Nombre total de questionnaires</li> <li>Couverture des correspondances</li> <li>Date de la derni\u00e8re modification</li> </ul> <p>Cliquez sur \"Cr\u00e9er\" et une fen\u00eatre s'ouvrira, vous permettant de mapper chaque questionnaire des formulaires XLS \u00e0 l'\u00e9l\u00e9ment de donn\u00e9es correspondant dans DHIS2.</p> <p>Le processus de correspondance consiste \u00e0 s\u00e9lectionner une question \u00e0 gauche et \u00e0 d\u00e9cider si elle doit \u00eatre mapp\u00e9e \u00e0 DHIS2 ou non.</p> <p>Certaines questions, comme des notes ou des m\u00e9tadonn\u00e9es, peuvent ne pas n\u00e9cessiter de correspondance. Dans ce cas, cliquez sur \"Ne jamais mapper\".</p> <p>Si la question doit \u00eatre mapp\u00e9e, recherchez l'\u00e9l\u00e9ment correspondant dans le champ en utilisant le nom, le code ou l'ID, puis confirmez.</p> <p>Une fois confirm\u00e9e, la question deviendra verte et sera comptabilis\u00e9e.</p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#completude","title":"Compl\u00e9tude","text":"<p>Cette fonctionnalit\u00e9 est destin\u00e9e aux cas o\u00f9 des p\u00e9riodes ont \u00e9t\u00e9 d\u00e9finies pour les formulaires de collecte de donn\u00e9es. Dans la vue \"Compl\u00e9tude\", vous verrez les d\u00e9tails suivants :</p> <ul> <li>Boutons pour s\u00e9lectionner les formulaires \"pr\u00eats\" \u00e0 \u00eatre export\u00e9s, les formulaires avec des \"erreurs\" et ceux qui ont \u00e9t\u00e9 \"export\u00e9s\".</li> <li>Filtre de p\u00e9riodicit\u00e9 : permet d'organiser les donn\u00e9es par mois, trimestre, semestre ou ann\u00e9e. La liste affichera les formulaires disponibles pour la p\u00e9riode s\u00e9lectionn\u00e9e et indiquera combien de formulaires ont \u00e9t\u00e9 soumis pour chacun.</li> <li>Bouton de synchronisation pour synchroniser deux formulaires.</li> </ul> <p>Cliquez sur chacun de ces boutons pour afficher les formulaires pr\u00eats \u00e0 \u00eatre export\u00e9s, avec des erreurs ou d\u00e9j\u00e0 export\u00e9s. Un filtre sur la p\u00e9riode permet d'organiser les donn\u00e9es par p\u00e9riodicit\u00e9 : mois, trimestre, semestre ou ann\u00e9e. </p> <p>En cliquant sur le nombre de soumissions, vous serez redirig\u00e9 vers la vue des soumissions, o\u00f9 vous pourrez cliquer sur l'ic\u00f4ne \"Voir\" pour consulter les soumissions de ce formulaire.</p> <p>Cliquez sur le bouton pour synchroniser deux formulaires.</p> <p>Exemple : pour obtenir des donn\u00e9es agr\u00e9g\u00e9es \u00e0 partir d'une enqu\u00eate de v\u00e9rification communautaire, tous les formulaires des clients doivent \u00eatre synchronis\u00e9s dans un seul formulaire.</p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#statistiques-de-completude","title":"Statistiques de compl\u00e9tude","text":"<p>Cette vue en tableau montre la compl\u00e9tude des soumissions de formulaires en nombre (nombre de formulaires compl\u00e9t\u00e9s) et en pourcentage (compl\u00e9tude des donn\u00e9es). Une distinction est faite entre les \"formulaires directs\" (relatifs au niveau d'unit\u00e9 d'organisation s\u00e9lectionn\u00e9) et les \"formulaires de niveau inf\u00e9rieur\" (relatifs aux formulaires dans la hi\u00e9rarchie inf\u00e9rieure).</p> <p>Utilisez les filtres (Nom du formulaire, Unit\u00e9 d'organisation parente, Type d'unit\u00e9 d'organisation, Utilisateur, Planification, \u00c9quipes, P\u00e9riode) pour consulter les statistiques de mani\u00e8re plus sp\u00e9cifique.</p> <p>Le bouton \"Voir les enfants\" permet de naviguer dans la hi\u00e9rarchie g\u00e9ographique pour identifier le niveau de compl\u00e9tude et rep\u00e9rer o\u00f9 des probl\u00e8mes peuvent \u00eatre survenus.</p> <p>Les deux premi\u00e8res colonnes \"lui-m\u00eame\" indiquent le nombre de formulaires compl\u00e9t\u00e9s au niveau de l'unit\u00e9 d'organisation mise en \u00e9vidence. La colonne suivante \"descendants\" donne des informations sur le nombre de formulaires compl\u00e9t\u00e9s au niveau en question, mais aussi \u00e0 tous les niveaux inf\u00e9rieurs.</p> <p></p> <p>Vous pouvez \u00e9galement visualiser la compl\u00e9tude des donn\u00e9es sous forme de carte en cliquant sur l'onglet \"Carte\". Notez que vous devez s\u00e9lectionner un formulaire dans les filtres pour activer cette vue. Vous pouvez ajuster les seuils appliqu\u00e9s \u00e0 la l\u00e9gende sur la compl\u00e9tude dans les param\u00e8tres avanc\u00e9s du formulaire concern\u00e9.</p> <p></p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#georegistre-gestion-des-unites-dorganisation","title":"G\u00e9oregistre - Gestion des unit\u00e9s d'organisation","text":"<p>Consultez la d\u00e9finition des Unit\u00e9s d'Oeganisation pour mieux comprendre ce qu'elles repr\u00e9sentent. En r\u00e9sum\u00e9, vous pouvez g\u00e9rer vos donn\u00e9es g\u00e9ographiques associ\u00e9es \u00e0 votre compte en utilisant la partie \"Unit\u00e9s d'organisation\" d'IASO.</p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#liste-des-unites-dorganisation","title":"Liste des unit\u00e9s d'organisation","text":"<p>Cliquez sur \"Unit\u00e9s d'organisation\" dans le menu, puis sur \"Liste des unit\u00e9s d'organisation\" pour naviguer dans la pyramide des unit\u00e9s d'organisation.</p> <p>Vous pouvez les visualiser sous forme de liste ou sur une carte.</p> <p>Vous pouvez s\u00e9lectionner une unit\u00e9 d'organisation et effectuer les actions suivantes :</p> <ul> <li>Modifier le nom, le type, le statut de validation, la position dans la pyramide, etc.</li> <li>Visualiser l'unit\u00e9 d'organisation sur une carte.</li> <li>Consulter l'historique de ses modifications.</li> </ul> <p></p> <p></p> <p>Les r\u00e9sultats de la recherche peuvent \u00eatre export\u00e9s en CSV, XLSX ou GPKG.</p> <p></p> <p>Les r\u00e9sultats peuvent \u00eatre visualis\u00e9s sous forme de liste ou sur une carte.</p> <p>Le statut indique, par exemple, qu'un village vient d'\u00eatre ajout\u00e9 et doit \u00eatre r\u00e9vis\u00e9.</p> <p>La r\u00e9f\u00e9rence externe est utilis\u00e9e pour exporter des donn\u00e9es vers DHIS2.</p> <p>La carte permet de localiser la structure.</p> <p>Vous pouvez consulter l'historique des modifications en cliquant sur la petite ic\u00f4ne d'horloge ou les d\u00e9tails des formulaires remplis en cliquant sur l'ic\u00f4ne en forme d'\u0153il.</p> <p>Plusieurs recherches peuvent \u00eatre effectu\u00e9es en ajoutant des onglets \u00e0 la page avec le bouton +. </p> <p>Vous pouvez choisir la couleur des r\u00e9sultats sur la carte pour chaque recherche.</p> <p>Cr\u00e9ation d'une unit\u00e9 d'organisation</p> <p>Sur la page de la liste des unit\u00e9s d'organisation, cliquez sur \"Cr\u00e9er\". Vous pouvez alors cr\u00e9er une unit\u00e9 d'organisation selon vos besoins.</p> <p>Vous devrez saisir les informations suivantes avant d'enregistrer :</p> <ul> <li>Nom de l'unit\u00e9 d'organisation.</li> <li>Type de l'unit\u00e9 d'organisation (pr\u00e9alablement d\u00e9fini dans la partie Type d'unit\u00e9 d'organisation).</li> <li>Statut : Nouveau, Valid\u00e9 ou Rejet\u00e9.</li> <li>Nouveau : l'unit\u00e9 d'organisation a \u00e9t\u00e9 cr\u00e9\u00e9e mais n'a pas encore \u00e9t\u00e9 valid\u00e9e. Si vous activez la possibilit\u00e9 de cr\u00e9er des unit\u00e9s d'organisation depuis l'application mobile IASO, elles appara\u00eetront d'abord comme \"Nouvelles\" sur le web.</li> <li>Valid\u00e9 : l'unit\u00e9 d'organisation est valid\u00e9e.</li> <li>Rejet\u00e9 : l'unit\u00e9 d'organisation n'existe plus ou a \u00e9t\u00e9 fusionn\u00e9e/\u00e9clat\u00e9e ou remplac\u00e9e par une autre. IASO n'autorise pas la suppression des unit\u00e9s d'organisation pour garder une trace des changements pass\u00e9s.</li> </ul> <p>Champs optionnels :</p> <ul> <li>Alias : ajoutez autant d'alias que n\u00e9cessaire pour suivre les diff\u00e9rentes mani\u00e8res d'\u00e9crire le nom de l'unit\u00e9 d'organisation (par ex. : \"Ste Marie\", \"Sainte-Marie\", \"Sainte Marie\", etc.).</li> <li>Groupe : organisez les unit\u00e9s d'organisation en groupes dans IASO. Vous pouvez s\u00e9lectionner plusieurs groupes auxquels l'unit\u00e9 d'organisation est associ\u00e9e.</li> <li>Unit\u00e9 parente : placez votre unit\u00e9 d'organisation \u00e0 son emplacement pertinent dans la hi\u00e9rarchie.</li> <li>Date(s) d'ouverture et/ou de fermeture : utilisez ces champs pour indiquer la ou les dates d'ouverture ou de fermeture de l'unit\u00e9 d'organisation.</li> </ul> <p>Modifier ou consulter les d\u00e9tails d'une unit\u00e9 d'organisation</p> <p>Pour acc\u00e9der \u00e0 la vue d\u00e9taill\u00e9e d'une unit\u00e9 d'organisation, proc\u00e9dez comme suit :</p> <p></p> <p>Dans cette vue, vous disposez de plusieurs onglets permettant de modifier l'unit\u00e9 d'organisation selon vos besoins :</p> <ul> <li>Infos : modifiez les principales informations relatives \u00e0 cette unit\u00e9 d'organisation.</li> <li>Carte : consultez les informations g\u00e9ographiques disponibles pour cette unit\u00e9 d'organisation (fronti\u00e8res ou coordonn\u00e9es GPS). Vous pouvez visualiser les donn\u00e9es g\u00e9ographiques provenant de plusieurs sources, s'il y en a. Vous pouvez \u00e9galement laisser un commentaire.</li> <li>Enfants : liste les enfants de cette unit\u00e9 d'organisation. Vous pouvez utiliser des filtres pour parcourir la liste de mani\u00e8re plus d\u00e9taill\u00e9e. </li> <li>Liens : en cas de correspondance d'une unit\u00e9 d'organisation entre plusieurs sources de donn\u00e9es, les liens entre ces sources sont affich\u00e9s ici.</li> <li>Historique : permet de retracer toutes les modifications apport\u00e9es \u00e0 l'unit\u00e9 d'organisation par utilisateur.</li> <li>Formulaires : liste tous les formulaires de collecte de donn\u00e9es li\u00e9s au type de cette unit\u00e9 d'organisation.</li> <li>Commentaires : vous pouvez laisser un commentaire sur cette unit\u00e9 d'organisation via cette section.</li> </ul> <p>\u00c9dition en masse des unit\u00e9s d'organisation</p> <p>Vous pouvez \u00e9galement modifier plusieurs unit\u00e9s d'organisation en masse. Pour ce faire, dans la liste des unit\u00e9s d'organisation, cochez les cases des unit\u00e9s que vous souhaitez \u00e9diter en masse, puis survolez le bouton d'action. Cliquez sur l'ic\u00f4ne en forme d'engrenage et s\u00e9lectionnez l'action que vous souhaitez effectuer.</p> <p></p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#groupes-dunites-dorganisation","title":"Groupes d'unit\u00e9s d'organisation","text":"<p>Les unit\u00e9s d'organisation peuvent \u00eatre regroup\u00e9es dans des groupes, et ces groupes peuvent \u00eatre organis\u00e9s en ensembles de groupes. Ensemble, ils peuvent imiter une hi\u00e9rarchie organisationnelle alternative, utilisable lors de la cr\u00e9ation de rapports ou d'autres sorties de donn\u00e9es. En plus de repr\u00e9senter des localisations g\u00e9ographiques alternatives ne faisant pas partie de la hi\u00e9rarchie principale, ces groupes sont utiles pour attribuer des sch\u00e9mas de classification aux unit\u00e9s d'organisation.</p> <p>Gestion des groupes d'unit\u00e9s d'organisation</p> <p>Pour g\u00e9rer les groupes d'unit\u00e9s d'organisation, acc\u00e9dez au menu Unit\u00e9s d'organisation &gt; Groupes.</p> <p>Cette vue vous permet de rechercher des groupes d'unit\u00e9s d'organisation via une entr\u00e9e de texte libre.</p> <p>Vous pouvez cr\u00e9er un nouveau groupe en cliquant sur le bouton \"Cr\u00e9er\".</p> <p>Les groupes peuvent \u00eatre modifi\u00e9s en cliquant sur l'ic\u00f4ne en forme d'engrenage ou supprim\u00e9s en cliquant sur l'ic\u00f4ne de suppression.</p> <p>Dans le tableau, la colonne \"Unit\u00e9s d'organisation\" affiche le nombre d'unit\u00e9s assign\u00e9es \u00e0 ce groupe. En cliquant sur ce nombre, vous verrez la liste des unit\u00e9s associ\u00e9es au groupe.</p> <p>Assigner des unit\u00e9s d'organisation \u00e0 des groupes</p> <p>Pour assigner des unit\u00e9s d'organisation \u00e0 des groupes, acc\u00e9dez \u00e0 la liste des unit\u00e9s d'organisation dans le menu et effectuez une \u00e9dition en masse des unit\u00e9s s\u00e9lectionn\u00e9es. Consultez la section \"\u00c9dition en masse des unit\u00e9s d'organisation\" ci-dessus pour plus de d\u00e9tails.  </p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#gestion-des-types-dunites-dorganisation","title":"Gestion des types d'unit\u00e9s d'organisation","text":"<p>Les types d'unit\u00e9s d'organisation sont sp\u00e9cifiques \u00e0 IASO (c'est-\u00e0-dire qu'ils ne sont pas g\u00e9r\u00e9s dans DHIS2). Consultez la section sur les Unit\u00e9s d'Organisation pour plus de d\u00e9tails sur ce que sont les types d'unit\u00e9s d'organisation.</p> <p>Dans le menu des unit\u00e9s d'organisation, cliquez sur \"Types d'unit\u00e9s d'organisation\". Cette vue liste les types existants dans votre compte IASO.</p> <p>Cr\u00e9er un type d'unit\u00e9 d'organisation</p> <p>Cliquez sur \"Cr\u00e9er\" et saisissez les champs obligatoires suivants :</p> <ul> <li>Nom : cela doit repr\u00e9senter une \"cat\u00e9gorie\" ou un \"niveau dans la hi\u00e9rarchie\", et non le nom sp\u00e9cifique d'une unit\u00e9. Exemple : \"Pays\", \"Province\", \"District\" et non \"RDC\", \"Kinshasa\", \"Gombe\".</li> <li>Nom court : une version abr\u00e9g\u00e9e du nom qui appara\u00eetra dans d'autres vues d'IASO.</li> <li>Projet(s) : s\u00e9lectionnez un ou plusieurs projets auxquels ce type d'unit\u00e9 d'organisation est li\u00e9.</li> </ul> <p>Champs facultatifs :</p> <ul> <li>Niveau : commencez par 0 pour le point le plus \u00e9lev\u00e9 de la hi\u00e9rarchie (exemple : Pays - 0, Province - 1, District - 2, Village - 3).</li> <li>Types d'unit\u00e9s subalternes \u00e0 afficher : s\u00e9lectionnez les types \u00e0 afficher dans la vue \"Registre\" si le type principal est s\u00e9lectionn\u00e9.</li> <li>Types d'unit\u00e9s subalternes \u00e0 cr\u00e9er : s\u00e9lectionnez les types que vous souhaitez permettre de cr\u00e9er dans l'application mobile IASO. Par exemple, si vous \u00e9ditez le type \"District\", vous pouvez autoriser la cr\u00e9ation de \"Village\" ou \"Point d'int\u00e9r\u00eat\".</li> <li>Formulaires de r\u00e9f\u00e9rence : s\u00e9lectionnez un ou plusieurs formulaires de collecte de donn\u00e9es assign\u00e9s comme r\u00e9f\u00e9rence pour ce type d'unit\u00e9. Ces formulaires sont \u00e9troitement li\u00e9s au type d'unit\u00e9. Exemple typique : un formulaire pour des donn\u00e9es de population pour une zone.</li> </ul> <p></p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#gestion-des-sources-de-donnees","title":"Gestion des sources de donn\u00e9es","text":"<p>IASO permet d'importer et de g\u00e9rer une ou plusieurs sources de donn\u00e9es g\u00e9ographiques.</p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#liste-des-sources-de-donnees","title":"Liste des sources de donn\u00e9es","text":"<p>Vous trouverez ici les sources de donn\u00e9es avec leurs noms, versions et descriptions. Il est possible de modifier une source de donn\u00e9es, de consulter l'historique des versions ou de comparer les sources et de les exporter vers DHIS2.</p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#correspondance","title":"Correspondance","text":"<p>Cette fonctionnalit\u00e9 est plut\u00f4t g\u00e9ospatiale : elle permet d'\u00e9tablir des liens entre plusieurs pyramides g\u00e9ographiques. Exemple : dans un CSV, une \"province x\" peut \u00eatre appel\u00e9e \"PROVINCE X\" dans une source, et \"DPS X\" dans une autre.</p> <p>Les algorithmes ex\u00e9cut\u00e9s sont destin\u00e9s au travail de science des donn\u00e9es.</p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#registre","title":"Registre","text":"<p>L'entr\u00e9e \"Registre\" dans les unit\u00e9s d'organisation est un outil de visualisation permettant aux utilisateurs de naviguer dans la hi\u00e9rarchie g\u00e9ographique et de consulter les donn\u00e9es g\u00e9ographiques ainsi que les donn\u00e9es collect\u00e9es associ\u00e9es aux diff\u00e9rents niveaux.</p> <p></p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#examiner-les-demandes-de-changement","title":"Examiner les demandes de changement","text":"<p>Avec IASO, les superviseurs peuvent comparer et valider les soumissions de donn\u00e9es envoy\u00e9es au serveur. Notez que cette fonctionnalit\u00e9 ne fonctionne que si l'indicateur \"Demandes de modification\" est activ\u00e9 pour le projet IASO correspondant. Consultez la section sur les projets pour plus d'informations sur les indicateurs de fonctionnalit\u00e9s mobiles dans IASO.</p> <p>Sur la page \"Examiner les propositions de modification\", les utilisateurs peuvent utiliser les filtres pour s\u00e9lectionner les propositions sur lesquelles ils souhaitent se concentrer. Voir ci-dessous les filtres d\u00e9taill\u00e9s :</p> <p></p> <p>Les superviseurs peuvent ensuite cliquer sur l'ic\u00f4ne en forme d'engrenage \u00e0 la fin de la ligne concern\u00e9e pour voir les d\u00e9tails de la proposition de modification soumise et les comparer \u00e0 la version pr\u00e9c\u00e9dente affich\u00e9e \u00e0 gauche. </p> <p>Les superviseurs peuvent s\u00e9lectionner les modifications qu'ils souhaitent approuver en cochant les cases des modifications s\u00e9lectionn\u00e9es dans la colonne de droite, puis cliquer sur \"Approuver les modifications s\u00e9lectionn\u00e9es\". Si les propositions ne sont pas satisfaisantes, les superviseurs peuvent rejeter toutes les modifications et fournir un commentaire.</p> <p>Pour chaque proposition envoy\u00e9e, les utilisateurs de l'application mobile IASO pourront voir si elles ont \u00e9t\u00e9 approuv\u00e9es ou rejet\u00e9es, et en cas de rejet, consulter le commentaire.</p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#planning","title":"Planning","text":"<p>La fonctionnalit\u00e9 de planification dans IASO permet de planifier le travail sur le terrain par \u00e9quipe et par utilisateur dans des zones/unit\u00e9es d'organisation d\u00e9finies et selon une chronologie sp\u00e9cifique. Une fois les activit\u00e9s de collecte de donn\u00e9es assign\u00e9es via l'interface, les agents de terrain utilisant l'application mobile ne verront que les activit\u00e9s qui leur ont \u00e9t\u00e9 attribu\u00e9es et pourront se diriger vers les points GPS correspondants.</p> <p>Pour cr\u00e9er une planification, vous devez avoir pr\u00e9alablement cr\u00e9\u00e9 des unit\u00e9s d'organisation, des utilisateurs, un projet, des \u00e9quipes d'utilisateurs/\u00e9quipes d'\u00e9quipes et des formulaires de collecte de donn\u00e9es que vous souhaitez utiliser avec la fonctionnalit\u00e9 de planification.</p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#liste-des-plannings","title":"Liste des plannings","text":"<p>Cliquez sur \"Planning\" dans le menu. Dans la liste des plannings, vous verrez les plannings qui ont \u00e9t\u00e9 cr\u00e9\u00e9s dans IASO. Vous pouvez rechercher parmi les diff\u00e9rents planning \u00e0 l'aide des filtres disponibles et effectuer les actions suivantes :</p> <ul> <li>Cr\u00e9er un planning</li> <li>Voir le planning : acc\u00e9der \u00e0 l'interface pour assigner des activit\u00e9s de collecte de donn\u00e9es aux \u00e9quipes et utilisateurs selon les zones g\u00e9ographiques.</li> <li>Modifier le planning : modifier le nom, le projet, l'unit\u00e9 d'organisation parente, l'\u00e9quipe concern\u00e9e, les formulaires, ou la description.</li> <li>Dupliquer le planning : permet de copier une planification existante et de l'adapter au besoin.</li> <li>Supprimer le planning</li> </ul> <p>Cr\u00e9er un Planning</p> <p>Cliquez sur \"Cr\u00e9er\" et la fen\u00eatre s'ouvrira.</p> <p>Les champs suivants sont obligatoires :</p> <ul> <li>Nom</li> <li>Projet : d\u00e9finit l'environnement de l'application mobile dans lequel les informations de la planification seront visibles.</li> <li>\u00c9quipe : l'\u00e9quipe responsable de la planification (g\u00e9n\u00e9ralement une \u00e9quipe d'\u00e9quipes).</li> <li>Formulaire(s) : s\u00e9lectionnez un ou plusieurs formulaires \u00e0 appliquer \u00e0 cette planification.</li> <li>Unit\u00e9 d'organisation : s\u00e9lectionnez l'unit\u00e9 d'organisation de base \u00e0 laquelle votre planification s'applique. Notez que vous naviguerez \u00e0 partir de cette unit\u00e9 de base pour assigner vos activit\u00e9s de collecte de donn\u00e9es aux \u00e9quipes/utilisateurs.</li> <li>Dates de d\u00e9but et de fin : d\u00e9terminez la dur\u00e9e de validit\u00e9 de votre planification. Vous pouvez \u00e9galement ajouter une description en option.</li> </ul> <p>La fonctionnalit\u00e9 \"Statut de publication\" (en bas \u00e0 gauche) permet de s'assurer qu'une fois compl\u00e9t\u00e9e (et toutes les assignations effectu\u00e9es), la nouvelle planification sera disponible dans l'application mobile IASO pour le projet correspondant.</p> <p>Une fois les champs remplis, cliquez sur \"Enregistrer\" pour finaliser.  </p> <p>\u00c9diter une planification via l'interface cartographique</p> <p>Dans la liste des planifications, cliquez sur l'ic\u00f4ne en forme d'\u0153il pour commencer \u00e0 \u00e9diter votre nouvelle planification via l'interface cartographique.</p> <p>Vous pouvez effectuer les assignations soit via l'onglet \"Carte\", soit via l'onglet \"Liste\". Si vous travaillez via la carte, commencez par s\u00e9lectionner l'\u00e9quipe \u00e0 laquelle vous souhaitez assigner une zone g\u00e9ographique dans le menu d\u00e9roulant, ainsi que le \"type d'unit\u00e9 de base\" pertinent. Vous pouvez ensuite assigner directement des zones ou points g\u00e9ographiques aux membres de l'\u00e9quipe s\u00e9lectionn\u00e9e sur la carte.</p> <p>Les zones s\u00e9lectionn\u00e9es seront mises en \u00e9vidence avec la couleur de l'\u00e9quipe, que vous pouvez modifier au besoin.</p> <p>Pour assigner toutes les unit\u00e9s d'organisation enfants d'une unit\u00e9 parente donn\u00e9e \u00e0 la m\u00eame \u00e9quipe/utilisateur, s\u00e9lectionnez le \"Mode s\u00e9lection par parent\" avant de proc\u00e9der.</p> <p></p> <p>Utiliser l'onglet Liste</p> <p>Si vous pr\u00e9f\u00e9rez utiliser l'onglet Liste, le processus est similaire. La principale diff\u00e9rence est que vous travaillez ici avec une liste de noms selon le niveau s\u00e9lectionn\u00e9. Les unit\u00e9s d'organisation sont assign\u00e9es en cliquant devant le nom de l'\u00e9l\u00e9ment dans la colonne \"Assignation\".</p> <p>Vous pouvez trier les unit\u00e9s d'organisation et les parents en cliquant sur le nom des colonnes.</p> <p>Voici la traduction en fran\u00e7ais tout en conservant la mise en forme Markdown :  </p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#entites","title":"Entit\u00e9s","text":"<p>Nous appelons une \"Entit\u00e9\" tout ce qui peut se d\u00e9placer ou \u00eatre d\u00e9plac\u00e9 et que nous voulons suivre dans le temps et les unit\u00e9s organisationnelles. Par exemple, un b\u00e9n\u00e9ficiaire, une voiture, etc.</p> <p>Pour diff\u00e9rencier les diff\u00e9rents types d\u2019entit\u00e9s, IASO utilise le concept de \"Type d\u2019entit\u00e9\".  IASO repose fortement sur XLSForms, et les entit\u00e9s ne font pas exception. Ainsi, une entit\u00e9 est repr\u00e9sent\u00e9e par une soumission \u00e0 un formulaire. Cette soumission est appel\u00e9e profil. Le type d\u2019entit\u00e9 d\u00e9finit quel formulaire doit \u00eatre rempli.</p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#comment-creer-une-entite","title":"Comment cr\u00e9er une entit\u00e9","text":"<p>Activer la fonctionnalit\u00e9 </p> <p>Pour cr\u00e9er une entit\u00e9, votre projet doit d\u2019abord activer le drapeau de fonctionnalit\u00e9 des entit\u00e9s. Vous pouvez activer ce drapeau lors de la cr\u00e9ation du projet ou en le mettant \u00e0 jour ult\u00e9rieurement.  </p> <p> </p> <p>Cr\u00e9er et t\u00e9l\u00e9verser le formulaire de profil </p> <p>En utilisant l'application de tableur de votre choix, cr\u00e9ez un formulaire XLSForm contenant toutes les questions li\u00e9es \u00e0 votre entit\u00e9, qu'elles soient fixes (ex. : pr\u00e9nom et nom) ou \u00e9volutives dans le temps (ex. : un programme auquel une entit\u00e9 peut \u00eatre affili\u00e9e). T\u00e9l\u00e9versez-le sur le serveur en utilisant l\u2019application web.  </p> Remarque : Les questions susceptibles d'\u00e9voluer dans le temps ne doivent pas \u00eatre modifiables."},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#creer-le-type-dentite","title":"Cr\u00e9er le type d'entit\u00e9","text":"<p>Dans l\u2019\u00e9cran des types d\u2019entit\u00e9s, cliquez sur le bouton \u201cCR\u00c9ER\u201d. Donnez un nom au type d\u2019entit\u00e9 et s\u00e9lectionnez le formulaire r\u00e9cemment t\u00e9l\u00e9vers\u00e9 comme formulaire de r\u00e9f\u00e9rence :  </p> <p> </p> Remarque : Nous verrons plus tard ce que sont les \"Champs de liste\" et les \"Champs d\u2019informations d\u00e9taill\u00e9es\"."},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#creer-une-entite","title":"Cr\u00e9er une entit\u00e9","text":"<p>Dans l\u2019application mobile, assurez-vous que les donn\u00e9es ont \u00e9t\u00e9 rafra\u00eechies et sont \u00e0 jour avec le serveur backend. Vous pourrez alors voir l\u2019\u00e9cran des entit\u00e9s.  </p> <p>\u00c0 ce jour, il n\u2019est pas possible de cr\u00e9er une entit\u00e9 via une interface web.  </p> <p>Cliquez sur le bouton \"Ajouter\" dans l\u2019application.  </p> <p> </p> <p>S\u00e9lectionnez le type d\u2019entit\u00e9 que vous souhaitez cr\u00e9er.  </p> <p> </p> <p>Une confirmation de votre s\u00e9lection vous sera demand\u00e9e.  </p> <p> </p> <p>Vous pouvez alors remplir le formulaire pour finaliser votre premi\u00e8re entit\u00e9.  </p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#comment-configurer-laffichage-dune-entite","title":"Comment configurer l'affichage d'une entit\u00e9 ?","text":"<p>Dans la configuration du type d\u2019entit\u00e9, les administrateurs peuvent d\u00e9finir quelles questions s'affichent dans les listes et dans l\u2019\u00e9cran de d\u00e9tails.  </p> <p> </p> <p>Cela influence la mani\u00e8re dont les applications web et mobiles affichent les entit\u00e9s, comme illustr\u00e9 ci-dessous.  </p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#dans-linterface-web","title":"Dans l\u2019interface web","text":""},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#dans-la-liste","title":"Dans la liste","text":""},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#dans-lecran-de-details","title":"Dans l\u2019\u00e9cran de d\u00e9tails","text":""},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#dans-lapplication-mobile","title":"Dans l\u2019application mobile","text":""},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#dans-la-liste_1","title":"Dans la liste","text":""},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#dans-lecran-de-details_1","title":"Dans l\u2019\u00e9cran de d\u00e9tails","text":""},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#recherche-dune-entite","title":"Recherche d'une entit\u00e9","text":""},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#sur-le-web","title":"Sur le web","text":"<p>Dans la liste des b\u00e9n\u00e9ficiaires, vous pouvez filtrer par type et/ou saisir une requ\u00eate pour filtrer en fonction de l'identifiant ou de toute valeur des champs de liste.  </p> <p> </p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#dans-lapplication","title":"Dans l\u2019application","text":"<p>En cliquant sur l'ic\u00f4ne de loupe sur l\u2019\u00e9cran des entit\u00e9s, vous acc\u00e9derez \u00e0 la liste de toutes les entit\u00e9s et pourrez les filtrer rapidement en fonction de l\u2019identifiant ou de toute valeur des champs de liste. Si vous avez besoin d'une s\u00e9lection plus fine, cliquez sur l\u2019ic\u00f4ne d\u2019entonnoir, s\u00e9lectionnez un type et remplissez le formulaire de recherche (deuxi\u00e8me image).  </p> <p> </p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#quest-ce-quun-workflow","title":"Qu'est-ce qu'un workflow ?","text":"<p>Comme mentionn\u00e9 pr\u00e9c\u00e9demment, une entit\u00e9 est suivie dans le temps et les unit\u00e9s organisationnelles. Pour cela, IASO relie les soumissions successives d\u2019une entit\u00e9 et permet aux nouvelles soumissions de modifier le profil. Pour d\u00e9finir les formulaires qui doivent \u00eatre pr\u00e9sent\u00e9s ensuite et quelles valeurs doivent modifier le profil, vous pouvez d\u00e9finir un workflow.  </p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#creer-un-workflow","title":"Cr\u00e9er un workflow","text":"<p>Dans la liste des types d\u2019entit\u00e9s, cliquez sur l\u2019ic\u00f4ne de workflow.  </p> <p> </p> <p>Dans la liste des versions du workflow, cliquez sur le bouton \u201cCR\u00c9ER\u201d et donnez un nom \u00e0 la version :  </p> <p> </p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#suivis-et-modifications","title":"Suivis et modifications","text":""},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#suivis","title":"Suivis","text":"<p>Ils repr\u00e9sentent les prochains formulaires possibles en fonction de l\u2019\u00e9tat du profil. Ils sont bas\u00e9s sur une condition. Dans l\u2019exemple suivant, l\u2019application mobile proposera \"Inscription U5 WFP\" comme prochain formulaire possible si le pr\u00e9nom est \"Bill\".  </p> <p> </p> Rappel : \"Pr\u00e9nom\" est l\u2019une des questions du formulaire du type d\u2019entit\u00e9."},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#modifications","title":"Modifications","text":"<p>Elles repr\u00e9sentent le mapping des valeurs d\u2019un formulaire vers les valeurs du profil.  </p> <p>Dans l\u2019exemple ci-dessous, le \u201cFormulaire cible\u201d est le formulaire du type d\u2019entit\u00e9, et le \u201cFormulaire source\u201d est la soumission suivante. Lorsque le formulaire \"Inscription U5 WFP\" est rempli, la valeur entr\u00e9e dans \"\u00c2ge de l\u2019enfant en mois\" sera copi\u00e9e dans la question \"\u00c2ge (mois)\" du profil. Et la valeur saisie dans \"Nom de l\u2019enfant\" sera copi\u00e9e dans la question \"Pr\u00e9nom\" du profil.  </p> <p> </p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#utilisation-des-valeurs-du-profil-dans-les-formulaires-suivants","title":"Utilisation des valeurs du profil dans les formulaires suivants","text":"<p>Si vous souhaitez qu\u2019un formulaire ult\u00e9rieur utilise des valeurs du profil, ajoutez une question avec le m\u00eame identifiant et le m\u00eame type que la valeur du profil.  </p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#publication-des-workflows","title":"Publication des workflows","text":"<p>Une fois qu\u2019une version de workflow est publi\u00e9e, elle est marqu\u00e9e comme finalis\u00e9e et ne peut plus \u00eatre modifi\u00e9e. Seuls les workflows en mode \"brouillon\" peuvent \u00eatre \u00e9dit\u00e9s. Si vous souhaitez modifier un workflow finalis\u00e9, dupliquez-le avec le bouton \"Copier la version\". Une nouvelle version brouillon sera alors cr\u00e9\u00e9e avec le m\u00eame contenu.</p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#admin","title":"Admin","text":"<p>La partie \"Admin\" d'IASO comprend plusieurs sections, qui appara\u00eetront ou non en fonction des permissions de l'utilisateur :</p> <ul> <li>T\u00e2ches</li> <li>Monitoring</li> <li>Projets</li> <li>Modules</li> <li>Utilisateurs</li> <li>R\u00f4les utilisateurs</li> <li>\u00c9quipes</li> </ul>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#taches","title":"T\u00e2ches","text":"<p>Ceci correspond au journal des mises \u00e0 jour en masse d'IASO. Un journal d'op\u00e9rations contient des informations sur le moment et l'endroit o\u00f9 une op\u00e9ration a \u00e9t\u00e9 ex\u00e9cut\u00e9e, le statut de l'op\u00e9ration, le nombre d'enregistrements sources et cibles trait\u00e9s, ainsi que les messages de journal.</p> <p>Exemples de t\u00e2ches :</p> <ul> <li>Mise \u00e0 jour en masse des unit\u00e9s d'organisation</li> <li>Importation de donn\u00e9es DHIS2</li> <li>Importation de Geopackage</li> </ul> <p>Les statuts possibles sont :</p> <ul> <li>Errored : la t\u00e2che n'a pas \u00e9t\u00e9 ex\u00e9cut\u00e9e avec succ\u00e8s. Les utilisateurs sont invit\u00e9s \u00e0 r\u00e9essayer.</li> <li>Running : la t\u00e2che est en cours d'ex\u00e9cution.</li> <li>Queued : la t\u00e2che s'est arr\u00eat\u00e9e et red\u00e9marrera lorsque les conditions seront remplies (par exemple, meilleure connectivit\u00e9).</li> <li>Killed : la t\u00e2che a \u00e9t\u00e9 interrompue par l'utilisateur apr\u00e8s son d\u00e9marrage.</li> <li>Success : la t\u00e2che a \u00e9t\u00e9 ex\u00e9cut\u00e9e avec succ\u00e8s.</li> <li>La liste des t\u00e2ches peut \u00eatre actualis\u00e9e en cliquant sur le bouton \"Actualiser\" en haut \u00e0 droite.</li> </ul> <p></p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#monitoring","title":"Monitoring","text":"<p>Cette section permet aux superviseurs de surveiller les appareils li\u00e9s au compte IASO. Depuis cette page, vous pouvez consulter :</p> <ul> <li>L'IMEI ou identifiant de l'appareil.</li> <li>Si c'est un appareil de test ou non.</li> <li>Le nom du dernier propri\u00e9taire.</li> <li>La derni\u00e8re synchronisation.</li> <li>La date de cr\u00e9ation (premi\u00e8re synchronisation).</li> <li>La date de modification.</li> </ul> <p>Sur la droite, vous pouvez voir le nombre d'appareils connect\u00e9s au compte IASO auquel vous \u00eates connect\u00e9.</p> <p></p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#projets","title":"Projets","text":"<p>Un projet dans IASO correspond \u00e0 une instance d'application mobile. Chaque projet est identifi\u00e9 par un nom et un identifiant d'application (App ID). Consultez ici pour une d\u00e9finition plus d\u00e9taill\u00e9e des projets dans IASO.</p> <p>Cr\u00e9er un projet</p> <p>Dans le menu, Admin &gt; Projets &gt; Cliquez sur \"Cr\u00e9er\".</p> <p>Ajoutez ensuite un nom de projet et un App ID. Notez que l'App ID devra \u00eatre saisi par les utilisateurs de l'application mobile IASO lors de leur premi\u00e8re connexion \u00e0 l'application. Il est donc recommand\u00e9 d'utiliser un identifiant simple pour \u00e9viter les erreurs de saisie.</p> <p>Vous pouvez ensuite s\u00e9lectionner les indicateurs de fonctionnalit\u00e9s (Feature Flags) que vous souhaitez appliquer \u00e0 votre projet dans l'onglet suivant, puis cliquer sur \"Enregistrer\".</p> <p></p> <p>D\u00e9finition des options mobile</p> <p>Voici un tableau d\u00e9taillant les indicateurs de fonctionnalit\u00e9s des projets :</p> Option mobile Description Authentification Les utilisateurs doivent entrer un nom d'utilisateur et un mot de passe avant de proc\u00e9der \u00e0 la collecte de donn\u00e9es. Si cette option n'est pas activ\u00e9e, la collecte de donn\u00e9es peut se faire en mode anonyme. Attention, cette option est indispensable pour plusieurs autres fonctionnalit\u00e9s (le planning, la demande de changement, les entit\u00e9s, etc.). Mobile: collecte de donn\u00e9es Active l'onglet de collecte de donn\u00e9es dans IASO (si la collecte de donn\u00e9es n'est pas li\u00e9e \u00e0 un planning, une demande de changement, ou aux entit\u00e9s) GPS pour chaque formulaire Chaque fois qu'un formulaire de collecte est rempli, un point GPS est pris automatiquement et est li\u00e9 \u00e0 la soumission de formulaire. Forcer les utilisateurs \u00e0 se trouver proche du point assign\u00e9 L'utilisateur doit se trouver \u00e0 maximum 50m de l'unit\u00e9 d'organisation pour laquelle il collecte les donn\u00e9es. Mobile. Onglet Planning Activer l'onglet Planning dans l'application mobile. Mobile: Limiter le t\u00e9l\u00e9chargement des donn\u00e9es au p\u00e9rim\u00e8tre autoris\u00e9 de l'utilisateur Afin d'\u00e9conomiser les donn\u00e9es lors du t\u00e9l\u00e9chargement, seules les unit\u00e9s d'organisation de la zone assign\u00e9e \u00e0 l'utilisateur vont \u00eatre t\u00e9l\u00e9charg\u00e9es. Cela facilite \u00e9galement la collecte hors ligne. Mobile. Onglet de carte de l'unit\u00e9 d'organisation Ajoute un onglet montrant les donn\u00e9es g\u00e9ographiques de l'unit\u00e9 d'organisation s\u00e9lectionn\u00e9e (point GPS ou fronti\u00e8res) Demandes de changement Active la fonctionnalit\u00e9 pour pouvoir proposer des changements \u00e0 l'unit\u00e9 d'organisation et \u00e0 son/ses formulaire(s) de r\u00e9f\u00e9rence GPS de trajectoire Trace les mouvements de l'utilisateur en prenant un point GPS toutes les 15 min Mobile. Nouvelle version de formulaire disponible: notification L'utilisateur est averti quand une nouvelle version du formulaire est disponible Mobile. Nouvelle version de formulaire disponible: mise \u00e0 jour forc\u00e9e L'utilisateur est averti quand une nouvelle version du formulaire est disponible et la mise \u00e0 jour se fait automatiquement Mobile. Mise \u00e0 jour de l'unit\u00e9 d'organisation : notification L'utilisateur est averti quand un changement a \u00e9t\u00e9 apport\u00e9 \u00e0 la pyramide sanitaire Mobile. Mise \u00e0 jour de l'unit\u00e9 d'organisation : mise \u00e0 jour forc\u00e9e L'utilisateur est averti quand un changement a \u00e9t\u00e9 apport\u00e9 \u00e0 la pyramide sanitaire et la mise \u00e0 jour se fait automatiquement T\u00e9l\u00e9versement automatique des formlaires La synchronisation des formulaires finalis\u00e9s se fait automatiquement quand la connexion est disponible Mobile. Formulaires finalis\u00e9s en lecture seule Une fois finalis\u00e9s, les formulaires ne sont plus modifiables"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#utilisateurs","title":"Utilisateurs","text":"<p>Les utilisateurs peuvent acc\u00e9der \u00e0 l'application web et mobile IASO avec des identifiants de connexion. Chaque utilisateur se voit attribuer des permissions et peut \u00eatre limit\u00e9 \u00e0 certaines zones g\u00e9ographiques.</p> <p>Les permissions sont relativement granulaires :</p> <ul> <li>Par \u00e9cran/onglet</li> <li>Diff\u00e9rentes permissions de lecture/\u00e9criture selon les domaines</li> <li>Restriction d'acc\u00e8s bas\u00e9e sur la pyramide sanitaire</li> <li>Cr\u00e9ation/modification d'utilisateurs en lot</li> <li>R\u00f4les d'utilisateur personnalisables (administrateur, gestionnaire de donn\u00e9es, etc.)</li> </ul> <p>Veuillez noter que les permissions assign\u00e9es depuis la partie web de IASO ne s'appliquent qu'\u00e0 l'application web. Les options mobiles se g\u00e8rent dans la partie Projets.</p> <p>Cr\u00e9er un nouvel utilisateur</p> <p>Depuis le menu Admin &gt; Utilisateurs, cliquez sur \"Cr\u00e9er\".</p> <ol> <li>Remplissez les informations de l'utilisateur.</li> </ol> <p></p> <p>Notez que vous pouvez \u00e9galement indiquer les informations suivantes :</p> <ul> <li>ID DHIS2 de l'utilisateur : vous pouvez importer une liste d'utilisateurs DHIS2 dans IASO et conserver leur ID DHIS2 dans IASO pour les lier entre les deux syst\u00e8mes.</li> <li>Page d'accueil : vous pouvez d\u00e9finir une page d'accueil par d\u00e9faut pour cet utilisateur lorsqu'il se connecte \u00e0 ce compte IASO.</li> <li>Projets : s\u00e9lectionnez un ou plusieurs projet(s) auxquels le nouvel utilisateur sera li\u00e9. Si aucun projet n'est indiqu\u00e9 ici, l'utilisateur aura par d\u00e9faut acc\u00e8s \u00e0 tous les projets du compte IASO.</li> <li> <p>Langue : vous pouvez sp\u00e9cifier la langue par d\u00e9faut que cet utilisateur utilisera sur l'interface web d'IASO. L'application mobile IASO se base sur la langue par d\u00e9faut du dispositif de l'utilisateur.</p> </li> <li> <p>Assignez les permissions n\u00e9cessaires via l'onglet \"Permissions\".</p> </li> </ul> <p>On the next tab \u201cPermissions\u201d, you can enable/disable permissions for that user as needed. Note that in the \u201c?\u201d are tooltips to explain what the permissions do. </p> <ol> <li>Restreignez l'utilisateur \u00e0 une zone g\u00e9ographique via l'onglet \"Localisation\".</li> </ol> <p>Dans l'onglet suivant \"Permissions\", vous pouvez activer ou d\u00e9sactiver les permissions pour cet utilisateur selon vos besoins. Notez que des infobulles (symbolis\u00e9es par un \"?\") sont disponibles pour expliquer la fonction de chaque permission.</p> <p></p> <p>Cr\u00e9er des utilisateurs en masse</p> <p>Vous pouvez cr\u00e9er plusieurs utilisateurs \u00e0 la fois en utilisant un fichier CSV que vous importez dans IASO.</p> <p>Utilisez le bouton \"Cr\u00e9er depuis un fichier\", puis importez votre liste d'utilisateurs (ou t\u00e9l\u00e9chargez le mod\u00e8le correspondant au pr\u00e9alable).</p> <p>G\u00e9rer les utilisateurs IASO</p> <p>Cette vue vous permet de g\u00e9rer les utilisateurs et leurs permissions. Vous pouvez rechercher un utilisateur en utilisant diff\u00e9rents filtres.</p> <p></p> <p>Vous pouvez modifier les utilisateurs IASO en masse gr\u00e2ce \u00e0 la fonctionnalit\u00e9 de mise \u00e0 jour en lot. Commencez par cocher les utilisateurs que vous souhaitez mettre \u00e0 jour \u00e0 l'aide des cases situ\u00e9es \u00e0 droite de chaque ligne.</p> <p></p> <p>S\u00e9lectionnez ensuite l'action ou les actions que vous souhaitez effectuer pour ces utilisateurs. Elles peuvent inclure :</p> <ul> <li>Ajouter ou supprimer des r\u00f4les utilisateur</li> <li>Ajouter ou supprimer des projets</li> <li>Ajouter ou supprimer des \u00e9quipes</li> <li>Mettre \u00e0 jour la langue par d\u00e9faut</li> <li>Ajouter ou supprimer une localisation (ce qui limite ces utilisateurs \u00e0 la g\u00e9ographie s\u00e9lectionn\u00e9e)</li> </ul> <p>Cliquez sur \"Valider\" une fois termin\u00e9.</p> <p></p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#roles-utilisateur","title":"R\u00f4les utilisateur","text":"<p>Les r\u00f4les utilisateur permettent de regrouper des utilisateurs b\u00e9n\u00e9ficiant d'un ensemble de permissions sous un m\u00eame r\u00f4le. Dans un r\u00f4le utilisateur, vous pouvez cr\u00e9er des r\u00f4les avec leurs permissions correspondantes, auxquelles des utilisateurs peuvent \u00eatre assign\u00e9s.</p> <p>Cr\u00e9er un r\u00f4le utilisateur</p> <p>Depuis le menu Admin &gt; R\u00f4les utilisateur, cliquez sur \"Cr\u00e9er\".</p> <p></p> <p>Vous pouvez ensuite assigner ce r\u00f4le utilisateur \u00e0 n'importe quel utilisateur via l'onglet \"Permissions\" dans la fen\u00eatre d'\u00e9dition de l'utilisateur. Notez que les permissions du r\u00f4le utilisateur s'appliqueront \u00e0 l'utilisateur, mais si cet utilisateur dispose d\u00e9j\u00e0 de permissions suppl\u00e9mentaires, celles-ci ne seront pas supprim\u00e9es mais viendront s'ajouter.</p> <p></p> <p>Pour assigner plusieurs utilisateurs \u00e0 ce nouveau r\u00f4le utilisateur en masse, retournez \u00e0 la liste des utilisateurs et proc\u00e9dez \u00e0 une mise \u00e0 jour en lot (voir la section \"G\u00e9rer les utilisateurs\" ci-dessus).</p>"},{"location":"fr/pages/users/reference/iaso_web/user_guide.html#equipes","title":"\u00c9quipes","text":"<p>La notion d'\u00e9quipes dans IASO est principalement utilis\u00e9e pour la fonctionnalit\u00e9 de Planning. Elle permet d'organiser les utilisateurs en hi\u00e9rarchies d'\u00e9quipes et d'assigner des activit\u00e9s de collecte aux zones g\u00e9ographiques pertinentes pour les besoins de planification.</p> <p>Deux types d'\u00e9quipes existent :</p> <ul> <li>\u00c9quipes d'utilisateurs : regroupent les utilisateurs IASO sous une m\u00eame \u00e9quipe.</li> <li>\u00c9quipes d'\u00e9quipes : regroupent plusieurs \u00e9quipes sous une m\u00eame \u00e9quipe. Vous pouvez ainsi cr\u00e9er des hi\u00e9rarchies d'\u00e9quipes.</li> </ul> <p>Cr\u00e9er une \u00e9quipe</p> <p>Depuis le menu, acc\u00e9dez \u00e0 Admin &gt; \u00c9quipes. Cliquez sur \"Cr\u00e9er\".</p> <p></p> <p>Remplissez les champs suivants :</p> <ul> <li>Nom de l'\u00e9quipe</li> <li>Responsable : s\u00e9lectionnez parmi les utilisateurs dans IASO.</li> <li>Projet : s\u00e9lectionnez le projet auquel l'\u00e9quipe sera li\u00e9e.</li> <li>Type : s\u00e9lectionnez dans le menu d\u00e9roulant le type d'\u00e9quipe :</li> <li>Si vous s\u00e9lectionnez \"\u00c9quipe d'utilisateurs\", ajoutez les utilisateurs \u00e0 inclure dans cette \u00e9quipe.</li> <li>Si vous s\u00e9lectionnez \"\u00c9quipe d'\u00e9quipes\", ajoutez les \u00e9quipes \u00e0 inclure dans cette \u00e9quipe.</li> <li>Parent : s\u00e9lectionnez l'\u00e9quipe parente pour cette nouvelle \u00e9quipe.</li> </ul> <p>Vous pouvez ensuite utiliser l'ic\u00f4ne en forme d'engrenage ou la corbeille sur la page principale pour modifier ou supprimer les \u00e9quipes selon vos besoins.</p>"},{"location":"fr/pages/users/reference/interop/interop.html","title":"Interop\u00e9rabilit\u00e9: roadmap 2023-2024","text":""},{"location":"fr/pages/users/reference/interop/interop.html#traduction-francaise-bientot-disponible","title":"Traduction fran\u00e7aise bient\u00f4t disponible","text":""},{"location":"es/AWS-Deployment.html","title":"C\u00f3mo se despliega Iaso en AWS","text":"<p>en ElasticBeanstalk + RDS </p>"},{"location":"es/AWS-Deployment.html#partes-principales","title":"Partes principales","text":"<ul> <li>Creaci\u00f3n del entorno HOST donde se desplegar\u00e1 el c\u00f3digo de Iaso as\u00ed como los servicios relacionados</li> <li>El despliegue del c\u00f3digo en s\u00ed y de nuevas versiones</li> </ul>"},{"location":"es/AWS-Deployment.html#infraestructura-del-host","title":"Infraestructura del host","text":"<p>Esta documentaci\u00f3n se refiere al despliegue principal de Iaso, que se realiza en AWS.</p> <p>El pilar principal es AWS Elastic beanstalk</p> <p>Que es una especie de soluci\u00f3n m\u00e1gica de Amazon que vincula varios de sus servicios, maneja la l\u00f3gica de despliegue, etc...</p> <p>En el pasado lo configur\u00e1bamos a mano, pero ahora nos estamos moviendo hacia tenerlo todo manejado v\u00eda Terraform para que est\u00e9 en c\u00f3digo (podemos tener un historial, evitar errores de clic, hacer operaciones complejas, etc...).</p> <p>El t\u00e9rmino t\u00e9cnico para esto es \"Provisioning\" si quieres buscarlo.</p>"},{"location":"es/AWS-Deployment.html#configuracion-del-elastic-beanstalk","title":"Configuraci\u00f3n del Elastic Beanstalk","text":"<p>Ver https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create-deploy-python-django.html</p> <p>Tenemos comandos personalizados y configuraci\u00f3n en .ebextensions/ y en  y en .platform/ para extender la configuraci\u00f3n de nginx.</p>"},{"location":"es/AWS-Deployment.html#ejecutando-django-3-en-elastic-beanstalk-ami-personalizada","title":"Ejecutando Django 3 en Elastic Beanstalk / AMI personalizada","text":"<p>Django 3 requiere la versi\u00f3n 2+ de la biblioteca gdal. Lamentablemente, Beanstalk est\u00e1 basado en Amazon Linux que contiene una versi\u00f3n desactualizada de GDAL.</p> <p>Para solucionar esto, tienes que crear una AMI personalizada para usar en tus entornos Elastic Beanstalk y compilar tu propia versi\u00f3n de gdal y sus dependencias.</p> <p>Ver la documentaci\u00f3n de AWS sobre crear y usar una AMI personalizada y la documentaci\u00f3n de Django sobre compilar las bibliotecas GIS</p> <p>Se realiz\u00f3 la construcci\u00f3n personalizada de las siguientes bibliotecas:</p> <ul> <li>geos</li> <li>SQLite</li> <li>proj</li> <li>proj-data</li> <li>spatialite</li> <li>gdal</li> </ul> <p>Puedes revisar <code>scripts/create_ami.sh</code> como referencia</p> <p>Lee la documentaci\u00f3n de AWS sobre crear y usar una AMI personalizada pero en resumen:</p> <ol> <li>En EC2 -&gt; AMIs, identifica la AMI del servidor EC2 de Elastic Beanstalk (Ej: Elige una AMI p\u00fablica en la que python3.9 est\u00e9 instalado con Amazon Linux 2).</li> <li>Selecciona la AMI y lanza una nueva instancia basada en ella. </li> <li>Especifica el nombre de la instancia y elige un par de claves.</li> <li>No olvides configurar en la secci\u00f3n avanzada:</li> </ol> <pre><code>#cloud-config\n  repo_releasever: repository version number\n  repo_upgrade: none\n</code></pre> <ol> <li>Con\u00e9ctate v\u00eda SSH a la instancia</li> <li>Instala las dependencias (ver scripts/create_ami.sh)</li> <li>Luego ve a Actions -&gt; Image -&gt; Create Image</li> <li>Cuando est\u00e9 listo, ve a la Configuraci\u00f3n de Instancia de Beanstalk y especifica la referencia AMI de la imagen que acabamos de crear.</li> </ol>"},{"location":"es/AWS-Deployment.html#donde-esta-el-codigo","title":"\u00bfD\u00f3nde est\u00e1 el c\u00f3digo?","text":"<p>Infraestructura y configuraci\u00f3n en el repositorio Github BLSQ/terraform-iaso-eb Hay buena documentaci\u00f3n de Mbayang en la carpeta <code>docs/</code>. La visibilidad est\u00e1 restringida.</p> <p>En el repositorio Github <code>BLSQ/iaso</code>: * <code>.github</code> Para la informaci\u00f3n del flujo de trabajo * <code>scripts/</code> * <code>.ebextension</code> Para los comandos espec\u00edficos de Elastic beanstalk * <code>.platform</code> Sobrescritura de configuraci\u00f3n</p>"},{"location":"es/AWS-Deployment.html#servicios-relacionados","title":"Servicios relacionados","text":"<ul> <li>Bucket S3: Para los archivos est\u00e1ticos y medios subidos por usuarios (en AWS)</li> <li>Enketo (en otro AWS Elastic Beanstalk)</li> <li>Postgresql RDS (en AWS)</li> <li>Servicio de Cola para Worker en segundo plano (en AWS SQS)</li> <li>Sentry: manejo de errores y notificaciones (como Saas)</li> <li>MailGun (como Saas)</li> <li>Route53: redirecci\u00f3n DNS (en AWS)</li> </ul> <p>Dos tipos de entorno en elastic beanstalk: * web * worker</p> <p>Los vinculamos v\u00eda una etiqueta \"env\" en AWS, para poder desplegarlos al mismo tiempo</p> <p>Un Entorno Elastic Beanstalk puede contener m\u00faltiples \"Instancias EC2\", que son servidores de m\u00e1quina virtual. Su n\u00famero se escala autom\u00e1ticamente seg\u00fan las reglas en elastic beanstalk. Usualmente tenemos 1 instancia para Worker y 2 para Web.</p>"},{"location":"es/AWS-Deployment.html#bucket-s3","title":"Bucket S3","text":"<ul> <li>Est\u00e1tico: Empujar est\u00e1ticos en ellos para que puedan ser adecuadamente cacheados y CDN (no estoy seguro de que realmente hagamos esto)</li> <li>Medios: Almacenar medios subidos por los usuarios: Respuesta de formulario (XML), medios adjuntos a respuesta de formulario (fotos), gpkg, definici\u00f3n de formulario, etc.. </li> </ul> <p>Los est\u00e1ticos son legibles por todos.</p> <p>Los medios solo son accesibles v\u00eda URL firmada que expira despu\u00e9s de un lapso de tiempo (15 minutos creo) y que son generadas al vuelo por iaso cuando se necesita.</p>"},{"location":"es/AWS-Deployment.html#cicd","title":"CI/CD","text":"<p>El despliegue de nuevas versiones se hace v\u00eda Github action.</p> <p>Cada cambio en main se despliega autom\u00e1ticamente en el entorno de staging</p> <p>El despliegue a otros entornos tiene que ser activado manualmente</p>"},{"location":"es/AWS-Deployment.html#proceso-de-despliegue","title":"Proceso de despliegue","text":"<p>C\u00f3mo se despliega una nueva versi\u00f3n de Iaso</p> <p>Esta es una vista simplificada, algunos detalles se omiten por claridad</p> <ol> <li>Un usuario activa el flujo de trabajo de despliegue en github actions (o se activa autom\u00e1ticamente para staging)</li> <li>En el worker de github: (c\u00f3digo en .github/workflows/deploy.yml)<ol> <li>Determinar n\u00famero de versi\u00f3n. Llamar set_version para configurarlo.</li> <li>Construye todo el JS/CSS y otros recursos para el front-end</li> <li>A\u00f1adirlos al repositorio git</li> <li>scripts/eb-deploy.py:<ol> <li>Conectar a la API de AWS para obtener todos los entornos beanstalk para el entorno <code>iaso</code>. ej.: <code>staging</code> -&gt; <code>iaso-staging2</code> y <code>iaso-staging2-worker</code></li> <li>Para cada entorno beanstalk, activar <code>eb deploy</code> (desde awseb cli):<ol> <li>Hacer un archivo zip del contenido del repositorio git (hecho por eb deploy). Incluyendo el asset compilado</li> <li>Llamar API ElasticBeanstalk para desplegarlo</li> </ol> </li> </ol> </li> </ol> </li> <li>En los servidores Iaso (instancias EC2): Nuestro c\u00f3digo/configuraci\u00f3n para esto est\u00e1 en el directorio <code>.ebextensions</code> Las acciones marcadas con \u00a5 son parte de la l\u00f3gica de Elastic beanstalk<ol> <li>El despliegue es activado \u00a5</li> <li>La nueva versi\u00f3n de la app es copiada en <code>/var/app/staging</code> \u00a5</li> <li>Las dependencias en requirements.txt son instaladas \u00a5</li> <li>Nuestra l\u00f3gica es ejecutada<ol> <li>Las traducciones del servidor son compiladas</li> <li>El frontend (JS compilado, imagen, css) es empujado al bucket S3.</li> <li>Las migraciones de base de datos son realizadas</li> <li>La tabla de cach\u00e9 es creada</li> </ol> </li> <li><code>/var/app/staging</code> es movido a <code>/var/app/current</code> \u00a5</li> <li>Si estos pasos fallan, Elastic beanstalk har\u00e1 un rollback y revertir\u00e1 a la versi\u00f3n anterior. Nota: como hacemos manualmente la coincidencia entre worker y web, a veces tenemos el problema de que uno es revertido y el otro no y tenemos un desajuste de versi\u00f3n. A veces tambi\u00e9n tenemos el problema con migraciones de base de datos incompatibles. \u00a5</li> <li>Enviar una notificaci\u00f3n de Slack para notificar del \u00e9xito o falla del despliegue de github.</li> </ol> </li> </ol>"},{"location":"es/AWS-Deployment.html#servicios-relacionados-en-mas-detalle","title":"Servicios relacionados en m\u00e1s detalle","text":"<ul> <li>Bucket S3: Para los archivos est\u00e1ticos y medios subidos por usuarios (en AWS)</li> <li>Enketo (en otro AWS Elastic Beanstalk)</li> <li>Postgresql RDS (en AWS)</li> <li>Servicio de Cola para Worker en segundo plano (en AWS SQS)</li> <li>Sentry: manejo de errores y notificaciones (como Saas)</li> <li>MailGun (como Saas)</li> <li>Route53: redirecci\u00f3n DNS (en AWS)</li> </ul>"},{"location":"es/AWS-Deployment.html#enketo","title":"Enketo","text":"<p>Desplegado por separado, manejado v\u00eda Elastic Beanstalk tambi\u00e9n, vinculado a Iaso v\u00eda variable de entorno. Mbayang maneja esto</p>"},{"location":"es/AWS-Deployment.html#aws-sqs","title":"AWS SQS","text":"<p>Sistema de cola usado para Worker, ver secci\u00f3n worker en README</p>"},{"location":"es/AWS-Deployment.html#bucket-s3_1","title":"Bucket S3","text":"<p>S3 ver arriba</p>"},{"location":"es/AWS-Deployment.html#arquitectura-dentro-de-la-vm","title":"Arquitectura dentro de la VM","text":"<p>El c\u00f3digo est\u00e1 en <code>/var/app/current</code></p> <p>Systemctl lanza el servidor web como la unidad <code>web</code>. Esto se hace v\u00eda Gunicorn bajo el usuario web, gunicorn lanza m\u00faltiples servidores Django.</p> <p>Hay un NGINX frente a gunicorn. Lo anterior es manejado autom\u00e1ticamente v\u00eda Iaso</p> <p>Los logs pueden ser listados dentro de la VM v\u00eda <code>journalctl -u web</code></p> <p>Tenemos 2 crons (por ahora). Se pueden ver usando <code>systemctl list-timers</code></p>"},{"location":"es/index.html","title":"Bienvenido a la documentaci\u00f3n de IASO","text":""},{"location":"es/index.html#introduccion-a-iaso","title":"Introducci\u00f3n a IASO","text":"<p>IASO es una plataforma innovadora, de c\u00f3digo abierto, triling\u00fce (EN/FR/ES) de recolecci\u00f3n de datos con funcionalidades geoespaciales avanzadas para planificar, monitorear y evaluar programas de salud, ambientales o sociales en pa\u00edses de ingresos bajos y medios (PIBM). IASO es reconocido como un Bien P\u00fablico Digital por la Alianza de Bienes P\u00fablicos Digitales y figura entre los software Global Goods de Digital Square, testimoniando su utilidad p\u00fablica.</p> <p>IASO incluye:</p> <ul> <li>un tablero web - destinado a supervisores para organizar la recolecci\u00f3n de datos y la gesti\u00f3n de datos geogr\u00e1ficos</li> <li>una aplicaci\u00f3n m\u00f3vil que tambi\u00e9n funciona sin conexi\u00f3n - destinada a usuarios de campo para completar formularios y enviar datos cuando la red est\u00e9 disponible</li> <li>una interfaz de correspondencia y script para analizar, comparar y fusionar m\u00faltiples fuentes de datos geogr\u00e1ficos</li> <li>una integraci\u00f3n bidireccional con DHIS2, el sistema de informaci\u00f3n de gesti\u00f3n de salud ampliamente utilizado en los PIBM</li> </ul> <p>En t\u00e9rminos de funcionalidades, IASO puede resumirse en torno a cuatro componentes principales que est\u00e1n interconectados y refuerzan sus capacidades mutuas:</p> <ul> <li> <p>Gesti\u00f3n de datos geoespaciales (Georegister)</p> <ul> <li>Gestionar m\u00faltiples listas de unidades organizacionales (por ejemplo, zonas de salud, distritos, establecimientos de salud o escuelas) incluyendo sus coordenadas GPS y fronteras</li> <li>Rastrear las modificaciones realizadas a las unidades organizacionales</li> <li>Comparar m\u00faltiples fuentes de datos geogr\u00e1ficos</li> <li>Proponer modificaciones a las unidades organizacionales desde la aplicaci\u00f3n m\u00f3vil IASO y validarlas en la web</li> </ul> </li> <li> <p>Recolecci\u00f3n de datos geo-estructurados</p> <ul> <li>Crear formularios de recolecci\u00f3n de datos utilizando el popular formato XLS e importarlos en IASO</li> <li>Vincular sus formularios a uno o varios tipos de unidades organizacionales (por ejemplo, Nacional/Regional/Distrito/Establecimiento de salud) para estructurar geogr\u00e1ficamente su recolecci\u00f3n de datos</li> <li>Rastrear los cambios con la gesti\u00f3n de versiones de sus formularios</li> <li>Validar desde la web todas las presentaciones de formularios enviadas por la aplicaci\u00f3n m\u00f3vil IASO</li> <li>Rastrear la completitud de la recolecci\u00f3n de datos por nivel de unidades organizacionales e identificar d\u00f3nde se encuentran los problemas</li> </ul> </li> <li> <p>Microplanificaci\u00f3n</p> <ul> <li>Gestionar equipos de usuarios y equipos de equipos</li> <li>Asignar tareas de recolecci\u00f3n de datos a equipos y usuarios utilizando un mapa interactivo</li> <li>Crear calendarios con un per\u00edmetro, duraci\u00f3n y uno o m\u00e1s formularios de recolecci\u00f3n de datos</li> </ul> </li> <li> <p>Entidades - estas pueden consistir en individuos (por ejemplo, beneficiarios de programas de salud) u objetos f\u00edsicos (por ejemplo, lotes de vacunas, mosquiteros, etc.). Los flujos de trabajo permiten rastrear las entidades abriendo formularios espec\u00edficos en funci\u00f3n de las respuestas dadas a formularios anteriores.</p> <ul> <li>Crear tipos de entidades (beneficiarios, stocks u otros)</li> <li>Asignar flujos de trabajo a tipos de entidades</li> <li>Registrar entidades a trav\u00e9s de la aplicaci\u00f3n m\u00f3vil (sin conexi\u00f3n)</li> <li>Sincronizar las aplicaciones m\u00f3vil y web</li> <li>Comparar y fusionar entidades si es necesario</li> <li>Registrar los datos de las entidades en una tarjeta NFC</li> </ul> </li> </ul> <p>La plataforma ha sido implementada en Ben\u00edn, Burkina Faso, Burundi, Camer\u00fan, Rep\u00fablica Centroafricana, Rep\u00fablica Democr\u00e1tica del Congo, Hait\u00ed, Costa de Marfil, Mali, N\u00edger, Nigeria y Uganda. Es el registro geogr\u00e1fico oficial en Burkina Faso desde 2023. IASO tambi\u00e9n ha sido implementado a nivel regional (regi\u00f3n AFRO) para apoyar la Iniciativa Global para la Erradicaci\u00f3n de la Polio gracias a sus capacidades de registros geoespaciales y de establecimientos de salud.</p>"},{"location":"es/index.html#tecnologias-utilizadas","title":"Tecnolog\u00edas utilizadas","text":"<p>IASO est\u00e1 compuesto por una aplicaci\u00f3n Android white labeled utilizando Java/Kotlin, reutilizando una gran parte de los proyectos ODK, y una plataforma web programada en Python/GeoDjango sobre PostGIS. El frontend es principalmente en React/Leaflet. La API est\u00e1 implementada a trav\u00e9s de Django Rest Framework, y todos los datos se almacenan en PostgreSQL o el directorio media/. Uno de los objetivos es la facilidad de integraci\u00f3n con otras plataformas. Ya tenemos importaciones y exportaciones en formatos CSV y GeoPackage, y apuntamos a una f\u00e1cil integraci\u00f3n con OSM.</p> <p>La aplicaci\u00f3n m\u00f3vil para Android permite la presentaci\u00f3n de formularios y la creaci\u00f3n de unidades organizacionales. Los formularios tambi\u00e9n pueden completarse en una interfaz web a trav\u00e9s del servicio complementario Enketo.</p>"},{"location":"es/pages/users/FAQ/faq.html","title":"Faq","text":"<p>\u00bfC\u00f3mo configuro Iaso de manera que los usuarios m\u00f3viles no puedan crear nuevas UO? Y/o \u00bfes posible limitar la creaci\u00f3n de UO a ciertos tipos de UO? Ej: los usuarios m\u00f3viles pueden crear los tipos en la parte inferior de la jerarqu\u00eda (FOSA, villa), pero no en la parte superior (Regi\u00f3n -&gt; \u00c1rea sanitaria)?</p> <p>Est\u00e1 en la configuraci\u00f3n del tipo de unidad organizacional: especificas qu\u00e9 est\u00e1 permitido bajo un tipo de unidad organizacional dado en el selector \"sub tipos de unidad organizacional\".</p> <p></p>"},{"location":"es/pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html","title":"1. Configurar una cuenta IASO vac\u00eda","text":"<p>Encuentre a alguien con derechos de acceso apropiados (se requiere administrador django)</p> <p>https://iaso.bluesquare.org/api/setupaccount/</p> <p></p> <p>Use y almacene el usuario/contrase\u00f1a en un gestor de contrase\u00f1as</p>"},{"location":"es/pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html#2-crear-un-dhis2-dedicado-para-iaso","title":"2. Crear un DHIS2 dedicado para IASO","text":"<p>Queremos mantener registro de qu\u00e9 app est\u00e1 cambiando qu\u00e9 datos/metadatos de dhis2 as\u00ed que por favor no use el usuario principal/predeterminado \"admin\" sino uno dedicado.</p> <ul> <li> <p>Vaya al m\u00f3dulo \"Users / Utilisateurs\" de dhis2</p> </li> <li> <p>\"Duplicar el admin\" </p> </li> </ul> <p></p> <ul> <li>Genere una contrase\u00f1a con gestor de contrase\u00f1as (necesita al menos un car\u00e1cter especial)</li> </ul> <p></p>"},{"location":"es/pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html#3-iniciar-sesion-en-iaso-con-el-usuario-creado-en-el-paso-1","title":"3. Iniciar sesi\u00f3n en IASO con el usuario creado en el paso 1","text":"<p>Verifique que la cuenta est\u00e9 vac\u00eda o en el men\u00fa izquierdo</p> <p>Evite hacer los siguientes pasos con el admin django, ya que puede llevar a accidentes industriales: el usuario puede estar vinculado a una cuenta/proyecto totalmente diferente y podr\u00eda terminar con la pir\u00e1mide de un proyecto llena de orgunits de otro pa\u00eds.</p> <p></p>"},{"location":"es/pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html#4-agregar-un-nuevo-proyecto","title":"4. Agregar un nuevo proyecto","text":"<p>Use la nomenclatura usada por los clientes si aplica.</p> <p></p> <p>Promueva \"buen comportamiento\" habilitando la autenticaci\u00f3n por defecto</p> <p></p>"},{"location":"es/pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html#5-crear-una-nueva-fuente-de-datos","title":"5. Crear una nueva fuente de datos","text":"<p>Use el usuario creado en el paso 2</p> <p>Haga que la fuente sea la predeterminada </p> <p></p>"},{"location":"es/pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html#6-crear-una-nueva-primera-version-de-la-fuente-de-datos","title":"6. Crear una nueva (primera) Versi\u00f3n de la fuente de datos","text":"<p>Puede importar esta primera versi\u00f3n </p> <p></p>"},{"location":"es/pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html#7-actualizando-la-piramide","title":"7. Actualizando la pir\u00e1mide","text":"<p>IMPORTANTE note que si \"agrega nuevas orgunits o agrega/cambia grupos\" esa no es la pantalla del paso anterior que debe usar</p> <p>sino el bot\u00f3n \"actualizar\" en la versi\u00f3n predeterminada !</p> <p></p> <p>Si crea una nueva versi\u00f3n \"c\u00e1mbiela a la versi\u00f3n predeterminada\" esta detecci\u00f3n se romper\u00e1 ya que los env\u00edos entrantes se adjuntar\u00e1n a diferentes id de orgUnit de IASO.</p>"},{"location":"es/pages/users/how_to/setup_an_empty_iaso_account/setup_an_empty_iaso_account.html#8-que-sigue","title":"8. \u00bfQu\u00e9 sigue?","text":"<ul> <li> <p>Use la App m\u00f3vil en la tienda y proporcione el appId/usuario/contrase\u00f1a</p> </li> <li> <p>Comience a configurar los formularios de IASO</p> </li> <li> <p>\u00a1trate de ser consistente y a prueba de futuro en la nomenclatura! </p> </li> </ul> <p>esto es bueno : </p> <p>```  PMA - Qualit\u00e9 01 - Indicateurs g\u00e9n\u00e9raux  PMA - Qualit\u00e9 02 - Plan financier  PMA - Qualit\u00e9 03 - Consultation Postnatale  ...  PMA - Qualit\u00e9 10 - Vaccination  PMA - Qualit\u00e9 11 - Accouchements  PMA - Quantit\u00e9   PCA - Qualit\u00e9 ...</p> <pre><code>\nesto es **MALO** : \n\n</code></pre> <p>PMA - Qualit\u00e9 1 - Indicateurs g\u00e9n\u00e9raux  PMA - qualit\u00e9 10 - Vaccination  PMA - Qualit\u00e9 11 - accouchements  PMA - qualit\u00e9 2 - plan financier  PMA - Qualit\u00e9 3 - consultation Postnatale...  ...  PMA - Quantit\u00e9   Qualit\u00e9 - PCA - ... ``` - las computadoras son realmente malas para ordenar en orden natural as\u00ed que prefiera 01 02 03 - sea consistente en el uso de may\u00fasculas/min\u00fasculas - sea consistente prefijando el tipo de entidad (no necesita poner el pa\u00eds en \u00e9l, tenemos espacio limitado en la app m\u00f3vil)</p>"},{"location":"es/pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html","title":"Configurar inicio de sesi\u00f3n con DHIS2 para IASO","text":""},{"location":"es/pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#en-dhis2","title":"En DHIS2","text":""},{"location":"es/pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#ir-a-la-configuracion-oauth","title":"Ir a la configuraci\u00f3n oauth","text":"<p>en el men\u00fa: </p> <pre><code>System settings &gt; Oauth 2 clients\nParametres Systeme &gt; Oauth 2 clients\n</code></pre>"},{"location":"es/pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#crear-cliente-oauth","title":"Crear cliente oauth","text":"<p>Nombre: <code>iaso</code> Seleccionar: authorization code Url: necesita elegir un c\u00f3digo \u00fanico: <code>https://iaso.bluesquare.org/api/dhis2/&lt;&lt;unique-code&gt;&gt;/login/</code></p> <p></p>"},{"location":"es/pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#en-admin-django-de-iaso","title":"En admin django de IASO","text":""},{"location":"es/pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#crear-un-registro-de-credenciales-externas","title":"Crear un registro de credenciales externas","text":"<p>En admin django: https://iaso.bluesquare.org/admin/iaso/externalcredentials/</p> <ul> <li>Nombre: oauth client id</li> <li>Login: la url del dhis2</li> <li>Password: el oauth client secret</li> <li>Url: iaso</li> </ul> <p></p>"},{"location":"es/pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#habilitar-el-enlace-dhis2-en-el-menu-de-iaso","title":"Habilitar el enlace dhis2 en el men\u00fa de IASO","text":"<p>para poder regresar f\u00e1cilmente a dhis2 agregue la bandera de caracter\u00edstica \"SHOW_DHIS2_LINK\" en el Proyecto </p> <p></p> <p>luego la entrada deber\u00eda aparecer</p> <p></p>"},{"location":"es/pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#en-iaso","title":"En IASO","text":""},{"location":"es/pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#vincular-el-usuario-de-iaso-con-un-usuario-de-dhis2","title":"Vincular el usuario de IASO con un usuario de dhis2","text":"<p>en la interfaz general de IASO</p> <p></p>"},{"location":"es/pages/users/how_to/setup_dhis2_login_in_iaso/setup_dhis2_login_in_iaso.html#prueba","title":"Prueba","text":"<p>inicie sesi\u00f3n en dhis2 con el vinculado en el paso anterior </p> <p><code>&lt;&lt;dhis2&gt;&gt;/uaa/oauth/authorize?client_id=&lt;&lt;unique-code&gt;&gt;&amp;response_type=code</code></p> <p>luego \"Autorizar\": deber\u00eda terminar en IASO</p> <p>\u00bfNo est\u00e1 funcionando?</p> <ul> <li>\u00bfPuso el mismo c\u00f3digo en iaso/dhis2/url para iniciar sesi\u00f3n?</li> <li>\u00bfEl login en IASO external contiene la url del dhis2? </li> <li>\u00bfEst\u00e1 conectado en dhis2 con el usuario que vincul\u00f3 al usuario de IASO?</li> </ul>"},{"location":"es/pages/users/reference/iaso_concepts/iaso_concepts.html","title":"Conceptos","text":""},{"location":"es/pages/users/reference/iaso_concepts/iaso_concepts.html#cuestionarios-o-formularios-de-recoleccion-de-datos-xls","title":"Cuestionarios o formularios de recolecci\u00f3n de datos XLS","text":"<p>Lo que viene con la recolecci\u00f3n de datos son preguntas, y para organizar estas preguntas, formularios de recolecci\u00f3n de datos. Estos son b\u00e1sicamente listas de las preguntas para las cuales uno quisiera recopilar respuestas, mientras especifica opciones (obligatorio o no, saltar una pregunta dependiendo de la respuesta anterior, etc.). IASO se basa en formularios XLS para sus cuestionarios, que por lo tanto se predefinen usando un archivo Excel.</p> <p>En IASO, los formularios de recolecci\u00f3n de datos est\u00e1n versionados, lo que significa que cada vez que se crea una nueva versi\u00f3n, la versi\u00f3n anterior se mantiene y est\u00e1 disponible en el sistema.</p>"},{"location":"es/pages/users/reference/iaso_concepts/iaso_concepts.html#unidades-organizacionales","title":"Unidades Organizacionales","text":"<p>IASO usa la noci\u00f3n de Unidades Organizacionales (Unidad org o UO) para gestionar datos geogr\u00e1ficos. Los tipos de unidades organizacionales (TUO) representan niveles en la jerarqu\u00eda</p> <p>Ejemplo:</p> <ul> <li> <p>Pa\u00eds</p> </li> <li> <p>Regi\u00f3n</p> </li> <li>Distrito</li> <li>\u00c1rea</li> <li>Instalaci\u00f3n/Villa/Punto de Inter\u00e9s</li> </ul> <p>Las unidades organizacionales se clasifican en la pir\u00e1mide seg\u00fan un padre y uno o varios hijos (excepto el/los padre(s) superior(es) y el/los hijo(s) m\u00e1s bajo(s)). Ejemplo a continuaci\u00f3n:</p> <ul> <li> <p>Rep\u00fablica Democr\u00e1tica del Congo (Tipo de unidad org \"Pa\u00eds\") es la unidad org padre de</p> </li> <li> <p>Kinshasa (Tipo de unidad org \"Ciudad\"), que es la unidad org padre de</p> </li> <li>Oficina Bluesquare (Tipo de unidad org \"Oficina\")</li> </ul> <p>La recolecci\u00f3n de datos en IASO est\u00e1 estructurada seg\u00fan la jerarqu\u00eda definida, y cualquier usuario necesita seleccionar expl\u00edcitamente una unidad organizacional antes de proceder a abrir el cuestionario y responder preguntas. De esta manera, uno se asegura de que los datos recolectados est\u00e9n correctamente asociados con la geograf\u00eda relevante.</p>"},{"location":"es/pages/users/reference/iaso_concepts/iaso_concepts.html#proyectos","title":"Proyectos","text":"<p>En IASO, un Proyecto es una instancia de aplicaci\u00f3n m\u00f3vil, con su propio ID de App. Dentro de una cuenta, puedes tener uno o varios Proyecto(s) con diferentes opci\u00f3n(es) de caracter\u00edsticas. Los usuarios pueden estar vinculados a uno o varios Proyecto(s).</p> <p>Bueno saber:</p> <ul> <li> <p>Un Proyecto est\u00e1 vinculado a una fuente de datos</p> </li> <li> <p>Un Proyecto puede estar vinculado a uno o varios usuarios</p> </li> <li>Algunos usuarios pueden estar limitados a uno o varios Proyecto(s)/ID(s) de App - puedes definir esto en la parte de gesti\u00f3n de Usuarios</li> <li>Cada Tipo de Unidad Org tiene que estar vinculado a uno o varios Proyecto(s)</li> <li>Cada Formulario tiene que estar vinculado a uno o varios Proyecto(s)</li> </ul>"},{"location":"es/pages/users/reference/iaso_concepts/iaso_concepts.html#entidades","title":"Entidades","text":"<p>En IASO, una \"Entidad\" es cualquier cosa que puede moverse o ser movida y que queremos rastrear a trav\u00e9s del tiempo y Unidades Org. Por ejemplo, una persona, un carro, un paquete, etc.</p> <p>Para diferenciar entre diferentes tipos de entidades, IASO tiene un concepto de \"Tipo de Entidad\".</p> <p>Una entidad est\u00e1 representada por una presentaci\u00f3n a un formulario. Esta presentaci\u00f3n se refiere como el perfil. El tipo de entidad define qu\u00e9 formulario tiene que ser llenado para crear una nueva entidad.</p>"},{"location":"es/pages/users/reference/iaso_concepts/iaso_concepts.html#flujos-de-trabajo","title":"Flujos de trabajo","text":"<p>Basado en el perfil de la entidad, es posible ofrecer diferentes tipos de formularios para llenar y c\u00f3mo cada nueva presentaci\u00f3n impacta el perfil. Las reglas que definen qu\u00e9 formularios y c\u00f3mo cada presentaci\u00f3n impacta el perfil se llaman un \"Flujo de trabajo\".</p>"},{"location":"es/pages/users/reference/iaso_mobile/iaso_mobile.html","title":"Aplicaci\u00f3n M\u00f3vil","text":""},{"location":"es/pages/users/reference/iaso_mobile/iaso_mobile.html#aplicacion-movil-iaso","title":"Aplicaci\u00f3n M\u00f3vil IASO","text":"<p>La aplicaci\u00f3n m\u00f3vil IASO est\u00e1 disponible en Google Play Store (solo tel\u00e9fonos Android).</p> <p>Puede funcionar completamente sin conexi\u00f3n - una vez que el usuario final ha codificado los datos necesarios, \u00e9l/ella puede subir los datos recolectados sin conexi\u00f3n todos de una vez cuando la red est\u00e9 disponible.</p> <p>Las actualizaciones hechas desde la web (versiones de formularios, pir\u00e1mide de salud) se reflejar\u00e1n en la App solo despu\u00e9s de que los datos de la App hayan sido actualizados y esto requiere conectividad de red.</p> <p>Consejo clave antes de probar / usar la App - Aseg\u00farese de haber actualizado los datos previamente</p>"},{"location":"es/pages/users/reference/iaso_mobile/iaso_mobile.html#ejecutar-la-aplicacion-movil-por-primera-vez","title":"Ejecutar la aplicaci\u00f3n m\u00f3vil por primera vez","text":"<p>La aplicaci\u00f3n m\u00f3vil IASO tiene que ser configurada en la parte web antes de usar (vea la parte \"Proyecto\").</p> <p>Luego puede:</p> <ul> <li>Descargar IASO App en Google Play</li> <li>Insertar la URL del servidor: https://iaso.bluesquare.org</li> <li>Luego, ingrese el App ID</li> </ul> <p></p>"},{"location":"es/pages/users/reference/iaso_mobile/iaso_mobile.html#vista-general-de-botones","title":"Vista general de botones","text":"<p>Vea a continuaci\u00f3n una vista general de los botones principales que puede encontrar en la pantalla principal en modo de recolecci\u00f3n de datos.</p> <p></p> <p>En la parte de M\u00e1s Opciones, puede tomar las siguientes acciones: - Actualizar datos: necesita tener conectividad a internet para hacerlo. Sincronizar\u00e1 la aplicaci\u00f3n m\u00f3vil con los datos web de IASO. Para evitar que tome demasiado tiempo en configuraciones de baja conectividad, puede elegir actualizar solo sub-partes como Formularios, Unidades Organizacionales, u otros. - Cambiar el App ID: puede cambiar de Proyecto ingresando otro App ID. Para asegurarse de que no queden datos del App ID anterior en la aplicaci\u00f3n m\u00f3vil IASO, por favor acceda a sus par\u00e1metros y borre los datos de almacenamiento y cach\u00e9 de IASO previamente. - Cambiar la URL del servidor: esto puede ser \u00fatil si necesita cambiar del servidor de Producci\u00f3n al de Staging - Cerrar sesi\u00f3n: su usuario puede cerrar sesi\u00f3n. Esto no previene la consulta de datos de datos locales (datos disponibles en IASO en el dispositivo del usuario) - Acerca de: da la versi\u00f3n de la aplicaci\u00f3n m\u00f3vil IASO. Puede ser bueno tenerlo para depurar.</p>"},{"location":"es/pages/users/reference/iaso_mobile/iaso_mobile.html#recolectar-datos","title":"Recolectar datos","text":"<p>Una vez que est\u00e9 conectado a la aplicaci\u00f3n m\u00f3vil IASO, puede proceder con su recolecci\u00f3n de datos. Aqu\u00ed abajo est\u00e1n las diferentes pantallas que ver\u00eda para una recolecci\u00f3n de datos simple.</p> <p></p> <p>Luego tendr\u00e1 el formulario de recolecci\u00f3n de datos elegido abri\u00e9ndose. Puede proceder con responder las diferentes preguntas y presionar \"Siguiente\" hasta el final del Formulario.</p> <p>Si desea interrumpir la recolecci\u00f3n de datos durante la entrada, puede presionar el bot\u00f3n atr\u00e1s en la tableta o smartphone.</p> <p>Una vez que haga clic en el bot\u00f3n, tiene 2 opciones: - Guardar Cambios: para guardar todos los datos ya completados y el formulario con estado no finalizado. Con esta opci\u00f3n puede, regresar y continuar ingresando datos - Ignorar Cambios: para eliminar los datos completados y el formulario</p> <p>Subir datos recolectados</p> <p>Si recolecta datos con su dispositivo m\u00f3vil, est\u00e1n almacenados en su dispositivo. Necesita subir los datos al servidor para hacerlos visibles a nivel central. Tenga en cuenta que necesita conexi\u00f3n a internet para poder subir datos.</p> <p>Haga clic en el icono \"Enviar Formularios Finalizados\" en la p\u00e1gina de inicio de la aplicaci\u00f3n m\u00f3vil en la esquina superior derecha.</p> <p></p> <p>Luego, se abrir\u00e1 una p\u00e1gina espec\u00edfica para hacerle saber si los datos han sido subidos correctamente. Finalice la operaci\u00f3n haciendo clic en \"Enviar al servidor\".</p> <p></p>"},{"location":"es/pages/users/reference/iaso_mobile/iaso_mobile.html#dispositivos-recomendados-para-recoleccion-de-datos-iaso-ultima-edicion-feb-2025","title":"Dispositivos Recomendados para Recolecci\u00f3n de Datos IASO (\u00faltima edici\u00f3n Feb 2025)","text":"<p>La app Android de IASO requiere menos de 30MB de almacenamiento y poder de procesamiento m\u00ednimo, haci\u00e9ndola compatible con smartphones de nivel b\u00e1sico.</p>"},{"location":"es/pages/users/reference/iaso_mobile/iaso_mobile.html#recomendaciones-de-smartphone","title":"Recomendaciones de Smartphone","text":"<p>Para uso est\u00e1ndar, recomendamos dispositivos Android One (ej., Nokia 2.3, aunque el programa ahora est\u00e1 menos activo). A partir de 2025, el Samsung Galaxy A14 es una buena alternativa (especificaciones).</p> <ul> <li>Si recolecta muchas fotos/videos, opte por tel\u00e9fonos con mayor capacidad de almacenamiento.</li> <li>Evite dispositivos que ejecuten versiones de Android menores a 6.</li> </ul>"},{"location":"es/pages/users/reference/iaso_mobile/iaso_mobile.html#tabletas-para-uso-intensivo","title":"Tabletas para Uso Intensivo","text":"<p>Para entrada de datos frecuente, una tableta puede mejorar la comodidad gracias a un teclado m\u00e1s grande. Recomendamos modelos Samsung, como la Galaxy Tab A 8.0 (~\u20ac200). Aseg\u00farese de que soporte conectividad 4G.</p> <p>Antes de compras al por mayor, pruebe una sola unidad para confirmar compatibilidad con todas las apps requeridas y caracter\u00edsticas de hardware (NFC, br\u00fajula, escaneo QR).</p>"},{"location":"es/pages/users/reference/iaso_mobile/iaso_mobile.html#especificaciones-tecnicas-para-tabletas","title":"Especificaciones T\u00e9cnicas para Tabletas","text":"<ul> <li>Pantalla: 7-10\" pantalla t\u00e1ctil Full HD</li> <li>Memoria: 2GB RAM, 16GB almacenamiento (+MicroSD hasta 128GB)</li> <li>Procesador: Quad-core 1.6GHz</li> <li>Bater\u00eda: 7-8 horas de uso</li> <li>Conectividad: 4G LTE, Wi-Fi, Bluetooth 5.0</li> <li>SO: Android 6+ (preferiblemente versiones Android One)</li> </ul>"},{"location":"es/pages/users/reference/iaso_mobile/iaso_mobile.html#accesorios","title":"Accesorios","text":"<ul> <li>Funda protectora para tableta</li> <li>Cargador solar de 25,000mAh (puertos Type-C y USB)</li> </ul>"},{"location":"es/pages/users/reference/iaso_modules/iaso_modules.html","title":"M\u00f3dulos","text":"<p>IASO est\u00e1 organizado seg\u00fan M\u00f3dulos, que son grupos de funcionalidades que pueden agregarse dependiendo del caso de uso a cubrir. Aqu\u00ed est\u00e1n los M\u00f3dulos disponibles en IASO:</p>"},{"location":"es/pages/users/reference/iaso_modules/iaso_modules.html#funcionalidades-de-recoleccion-de-datos","title":"Funcionalidades de recolecci\u00f3n de datos","text":"<ul> <li>Gestionar formularios de recolecci\u00f3n de datos (formularios XLS) y sus env\u00edos de datos relacionados</li> <li>Gestionar datos geogr\u00e1ficos (importar/exportar datos geo desde Excel, DHIS2 o Geopackages, gestionar las Unidades Organizacionales y su jerarqu\u00eda)</li> <li>Monitorear el proceso de recolecci\u00f3n de datos con la tabla de estad\u00edsticas de completitud y el mapa</li> <li>Gestionar usuarios y sus permisos y geograf\u00edas, roles de usuario y equipos</li> <li>Crear ID(s) de aplicaci\u00f3n(es) m\u00f3vil(es) y gestionar opciones de caracter\u00edsticas relacionadas</li> </ul>"},{"location":"es/pages/users/reference/iaso_modules/iaso_modules.html#georegistry","title":"Georegistry","text":"<ul> <li>Importar varias fuentes de datos desde Excel, DHIS2 o Geopackages, compararlas y fusionarlas seg\u00fan sea necesario</li> <li>Visualizar en un mapa din\u00e1mico los datos recolectados en los diferentes niveles de la jerarqu\u00eda (por ejemplo, Pa\u00eds, Regi\u00f3n, Distrito, establecimiento)</li> <li>Validar cambios en Unidades Organizacionales (Nombre, Tipo, coordenadas GPS, fechas de apertura/cierre) enviados desde el campo a trav\u00e9s de la aplicaci\u00f3n m\u00f3vil</li> <li>Validar datos enviados a trav\u00e9s de formularios de recolecci\u00f3n de datos que est\u00e1n vinculados a tipos espec\u00edficos de Unidades Organizacionales, llamados \"Formularios de referencia\"</li> </ul>"},{"location":"es/pages/users/reference/iaso_modules/iaso_modules.html#pagos","title":"Pagos","text":"<ul> <li>Basado en los cambios propuestos validados por usuario, generar lotes de pago para enviar al proveedor de Mobile Money</li> <li>Indicar el estado de los lotes de pagos (pendiente, enviado al proveedor de Mobile Money, etc.)</li> </ul>"},{"location":"es/pages/users/reference/iaso_modules/iaso_modules.html#integracion-bidireccional-dhis2","title":"Integraci\u00f3n bidireccional DHIS2","text":"<ul> <li>Gestionar los mapeos con elementos de datos de DHIS2 para importaci\u00f3n/exportaci\u00f3n de datos</li> </ul>"},{"location":"es/pages/users/reference/iaso_modules/iaso_modules.html#planificacion","title":"Planificaci\u00f3n","text":"<ul> <li>Planificar por adelantado sus actividades de recolecci\u00f3n de datos creando una planificaci\u00f3n con un marco temporal establecido, geograf\u00eda, formularios de recolecci\u00f3n de datos y equipos</li> <li>Asignar tareas de recolecci\u00f3n de datos a equipos y usuarios desde la interfaz basada en mapa disponible en la web</li> <li>Una vez que las tareas han sido asignadas, los usuarios de aplicaci\u00f3n m\u00f3vil en el campo solo ver\u00e1n los formularios que les han sido asignados</li> </ul>"},{"location":"es/pages/users/reference/iaso_modules/iaso_modules.html#entidades","title":"Entidades","text":"<ul> <li>Las entidades son elementos que pueden moverse de una geograf\u00eda a otra, por ejemplo una persona, una paleta de bienes, u otros</li> <li>Las entidades pueden ser creadas desde la aplicaci\u00f3n m\u00f3vil y luego gestionadas desde la aplicaci\u00f3n web</li> <li>Encontrar duplicados de entidades usando la interfaz de aplicaci\u00f3n web y tomar la decisi\u00f3n de fusionar dos entidades similares o no</li> <li>Asignar flujos de trabajo a tipos de entidades, habilitando que formularios espec\u00edficos de recolecci\u00f3n de datos se abran seg\u00fan respuestas previamente dadas</li> </ul>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html","title":"Plataforma Web","text":"<p>La plataforma web de IASO est\u00e1 destinada a los administradores para que definan los detalles de la recolecci\u00f3n de datos que desean realizar. Algunos elementos clave de IASO son:</p> <ul> <li> <p>el versionado de todos los datos - cada cambio es rastreado y las versiones anteriores pueden ser recuperadas seg\u00fan sea necesario</p> </li> <li> <p>recolecci\u00f3n de datos geo-estructurados - los formularios est\u00e1n vinculados a niveles geogr\u00e1ficos claros o \"Unidades Organizacionales\"</p> </li> <li> <p>la trazabilidad de los cambios - permitiendo la descentralizaci\u00f3n de las actividades y responsabilidades Los administradores pueden por lo tanto usar la plataforma web para planificar, monitorear y luego evaluar los esfuerzos de recolecci\u00f3n de datos.</p> </li> </ul>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#inicio-de-sesion","title":"Inicio de sesi\u00f3n","text":"<p>Para iniciar sesi\u00f3n en la interfaz web, vaya a https://iaso.bluesquare.org/login/ e inicie sesi\u00f3n con su nombre de usuario y contrase\u00f1a.</p> <p></p> <p>Tambi\u00e9n puede restablecer su contrase\u00f1a haciendo clic en el enlace \"\u00bfOlvid\u00f3 su contrase\u00f1a?\". Esto enviar\u00e1 un correo electr\u00f3nico autom\u00e1tico y le permitir\u00e1 crear una nueva contrase\u00f1a.</p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#navegando-en-iaso","title":"Navegando en IASO","text":""},{"location":"es/pages/users/reference/iaso_web/user_guide.html#gestionar-formularios-de-recoleccion-de-datos","title":"Gestionar formularios de recolecci\u00f3n de datos","text":""},{"location":"es/pages/users/reference/iaso_web/user_guide.html#lista-de-formularios","title":"Lista de formularios","text":"<p>Desde la lista de formularios, puede buscar entre los formularios disponibles de la cuenta IASO a la que est\u00e1 conectado usando los filtros:</p> <p></p> <p>Los botones a continuaci\u00f3n le permiten gestionar los formularios de recolecci\u00f3n de datos.</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#crearsubir-un-formulario-de-recoleccion-de-datos","title":"Crear/Subir un formulario de recolecci\u00f3n de datos","text":"<p>Acceda a la entrada Formularios en el men\u00fa, luego haga clic en Lista de formularios. Haga clic en el bot\u00f3n \"Crear\". Una vez en la p\u00e1gina de creaci\u00f3n de formularios, siga los pasos a continuaci\u00f3n:</p> <ul> <li>Ingrese un nombre para su formulario en el campo \"Nombre\".</li> <li>Asigne uno o varios Proyecto(s) a su formulario.</li> <li>Asigne un Tipo de unidad organizacional a su formulario.</li> <li>Asigne un Per\u00edodo a su formulario. Esto est\u00e1 destinado para recolecci\u00f3n de datos regular (por ejemplo, diaria/semanal/anual). Si no necesita esta opci\u00f3n, simplemente seleccione \"Sin Per\u00edodo\".</li> </ul> <p></p> <p>Consejos:</p> <ul> <li>Verifique su formulario XLS antes de subirlo a IASO usando este enlace: https://getodk.org/xlsform/</li> <li>El ID del formulario debe permanecer igual entre versiones (no puede ser diferente de una versi\u00f3n a otra). Tendr\u00e1 un error si este es el caso.</li> <li>La versi\u00f3n del formulario (que no es un campo obligatorio en la configuraci\u00f3n de los formularios XLS) debe mantenerse consistente entre versiones. Por ejemplo, si es una fecha como 20240410, entonces no podr\u00e1 subir una versi\u00f3n llamada 20231025. IASO hace verificaciones autom\u00e1ticas para asegurar que no est\u00e1 subiendo una versi\u00f3n anterior.</li> </ul>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#envios-de-formularios","title":"Env\u00edos de formularios","text":"<p>Una vez que un formulario ha sido completado y enviado al servidor, crea un \"env\u00edo de formulario\". Cada env\u00edo de formulario se registra en la plataforma y los datos enviados se pueden consultar desde all\u00ed. Puede usar los filtros para consultar los env\u00edos de formularios seg\u00fan sea necesario:</p> <ul> <li>B\u00fasqueda abierta (escriba algunas palabras clave)</li> <li>Por formulario</li> <li>Por Unidad organizacional (seleccione la relevante en la pir\u00e1mide desplegable)</li> <li>Por tipo de Unidad organizacional (por ejemplo, Pa\u00eds, Distrito, Villa)</li> <li>Por fecha de env\u00edo (creaci\u00f3n desde/creaci\u00f3n hasta)</li> <li>Por usuario (escriba un nombre de usuario y aparecer\u00e1 como desplegable)</li> </ul> <p>Esta vista le permite buscar formularios a trav\u00e9s de entrada de texto libre y varios filtros que se pueden combinar.</p> <p></p> <p>Una vez que haya aplicado al menos un filtro de formulario, puede descargar env\u00edos usando los botones \"CSV\" o \"XLSX\".</p> <p>Tambi\u00e9n puede crear un nuevo env\u00edo haciendo clic en \"Crear\". Esto abrir\u00e1 Enketo y preguntar\u00e1 a qu\u00e9 Unidad Organizacional se relaciona.</p> <p></p> <p>Tambi\u00e9n puede verificar los env\u00edos en la vista del mapa, en la que se aplican los filtros. Para asegurarse de tener esta vista de mapa habilitada, aseg\u00farese de haber agregado la funci\u00f3n \"GPS para cada formulario\" al Proyecto relacionado.</p> <p></p> <p>La pesta\u00f1a \"Archivo\" le permite visualizar los archivos que han sido enviados junto con los formularios, como im\u00e1genes. Al hacer clic en un archivo dado, puede ser redirigido al env\u00edo de formulario relevante.</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#gestionar-envios","title":"Gestionar env\u00edos","text":"<p>En la p\u00e1gina de Env\u00edos, puede ver la lista de env\u00edos que se han hecho para la cuenta. Puede gestionarlos usando las opciones a continuaci\u00f3n.</p> <p></p> <p></p> <p>Visualizar un env\u00edo</p> <p>Puede ver un env\u00edo espec\u00edfico/formulario enviado haciendo clic en el bot\u00f3n \"Ver\" (ver arriba).</p> <p>Esto le permite ver los datos enviados y editarlos en Enketo (aplicaci\u00f3n web open-source).</p> <p></p> <p>La secci\u00f3n \"Informaci\u00f3n\" proporciona una descripci\u00f3n t\u00e9cnica del formulario.</p> <p>La secci\u00f3n \"Ubicaci\u00f3n\" muestra la indicaci\u00f3n de la pir\u00e1mide de salud de d\u00f3nde se recolectaron los datos.</p> <p>La secci\u00f3n \"Solicitudes de Exportaci\u00f3n\" muestra cu\u00e1ndo los datos fueron exportados a DHIS2, por qui\u00e9n, y cualquier error que ocurri\u00f3 durante la exportaci\u00f3n.</p> <p>La secci\u00f3n \"Archivos\" puede contener im\u00e1genes, videos, documentos.</p> <p>La secci\u00f3n \"Formulario\" muestra todas las preguntas del formulario y respuestas ingresadas durante la recolecci\u00f3n de datos.</p> <p>Descargar un env\u00edo</p> <p>El icono \"XML\" le permite descargar un env\u00edo en formato XML.</p> <p></p> <p></p> <p>El icono de engranaje en la esquina inferior del lado derecho le muestra una serie de iconos al pasar el cursor. Estos le permiten:</p> <ul> <li>Eliminar un env\u00edo</li> <li>Editar Unidad Organizacional o Per\u00edodo adjuntos</li> <li>Exportar (por ejemplo, a DHIS2)</li> <li>Empujar coordenadas GPS del env\u00edo a la Unidad Organizacional</li> <li>Editar este env\u00edo v\u00eda Enketo</li> <li>Bloquear env\u00edo</li> </ul> <p>Vea a continuaci\u00f3n las secciones dedicadas para m\u00e1s informaci\u00f3n sobre cada una de estas acciones.</p> <p>Eliminar un env\u00edo</p> <p>Le permite eliminar el formulario. Si ya ha sido exportado a DHIS2, esto no eliminar\u00e1 los datos en DHIS2. Aparecer\u00e1 un mensaje de advertencia:</p> <p></p> <p>Editar Unidad Organizacional o Per\u00edodo adjuntos</p> <p>Cuando hace clic en \"Editar Per\u00edodo y/o Unidad Organizacional\", se abre una ventana que le permite reasignar la instancia. Puede cambiar el per\u00edodo de tiempo o la unidad organizacional que ha sido asignada al formulario enviado.</p> <p></p> <p>Exportar un env\u00edo</p> <p>La funci\u00f3n de exportaci\u00f3n le permite exportar el formulario a DHIS2. Previamente, necesita haber sido mapeado usando la funcionalidad de mapeo DHIS2.</p> <p>Editar el env\u00edo v\u00eda Enketo</p> <p>Para editar un formulario, haga clic en el icono Enketo (ver arriba).</p> <p>Edite el formulario cambiando las respuestas a las preguntas que necesitan ser cambiadas. Luego haga clic en enviar en la parte inferior del formulario.</p> <p></p> <p></p> <p>Empujar coordenadas GPS del env\u00edo a la Unidad Organizacional</p> <p>Esto usar\u00e1 la coordenada GPS recolectada a trav\u00e9s del formulario para empujar a las coordenadas GPS de la Unidad Organizacional.</p> <p>Bloquear env\u00edo</p> <p>Esta funcionalidad le permite proteger los env\u00edos de formularios de edici\u00f3n adicional por usuarios que tienen menos permisos que usted.</p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#estadisticas-de-formularios","title":"Estad\u00edsticas de formularios","text":"<p>Esta vista le permite ver estad\u00edsticas sobre los formularios. Al hacer clic en \"Estad\u00edsticas de Formularios\" abrir\u00e1 una p\u00e1gina con dos gr\u00e1ficos.</p> <p>El primero muestra el n\u00famero total de env\u00edos a lo largo del tiempo y el segundo muestra los nuevos env\u00edos por mes por formulario.</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#mapeos-dhis2","title":"Mapeos DHIS2","text":"<p>Una gran ventaja de IASO es que puede exportar datos a DHIS2. Al hacerlo, es necesario un mapeo previo. Despu\u00e9s de que el formulario es subido, mapee el formulario para que coincida con el elemento de datos en DHIS2.</p> <p>Haga clic en Mapeos DHIS para ver los formularios:</p> <p></p> <p>En la vista de Formulario puede ver detalles de:</p> <ul> <li> <p>Acciones</p> </li> <li> <p>Nombre de formularios disponibles para mapeo</p> </li> <li> <p>Versiones</p> </li> <li> <p>Tipo del formulario:</p> <ul> <li> <p>Agregado: fijo</p> </li> <li> <p>Evento: serie de eventos singulares</p> </li> <li> <p>Rastreador de Eventos: continuo</p> </li> </ul> </li> <li> <p>N\u00famero de cuestionarios a ser mapeados</p> </li> <li> <p>N\u00famero total de cuestionarios</p> </li> <li> <p>Cobertura de mapeo</p> </li> <li> <p>Fecha de \u00faltima modificaci\u00f3n</p> </li> </ul> <p>Haga clic en \"Crear\" y se abrir\u00e1 una ventana que le permitir\u00e1 mapear cada cuestionario de los formularios xls al elemento de datos de DHIS2 correspondiente</p> <p>El proceso de mapeo consiste en seleccionar una pregunta a la izquierda y decidir si debe ser mapeada a DHIS2 o no.</p> <p>Algunas preguntas pueden no necesitar ser mapeadas como notas, metadatos, etc. en tal caso haga clic en nunca mapear.</p> <p>Si la pregunta debe ser mapeada, busque el DE correspondiente en la caja usando el nombre, c\u00f3digo o ID y luego confirme.</p> <p>Una vez confirmado, la pregunta se pondr\u00e1 verde y ser\u00e1 contada.</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#completitud","title":"Completitud","text":"<p>Esta funcionalidad est\u00e1 destinada a casos de uso donde se han establecido Per\u00edodos para los formularios de recolecci\u00f3n de datos. En la vista \"completitud\" ver\u00e1 detalles de:</p> <ul> <li> <p>Botones para seleccionar formularios \"listos\" para ser exportados, formularios con \"errores\"     &gt; y formularios que han sido \"exportados\"</p> </li> <li> <p>Filtro de periodicidad: el filtro de periodicidad le permite organizar     &gt; los datos en meses, trimestres, semestres o a\u00f1os. La lista     &gt; mostrar\u00e1 los formularios disponibles para el per\u00edodo seleccionado, e     &gt; indicar\u00e1 cu\u00e1ntos formularios han sido enviados para cada uno</p> </li> <li> <p>Bot\u00f3n Sincronizar para sincronizar dos formularios</p> </li> </ul> <p>Haga clic en cada uno de estos botones para tener formularios listos para ser exportados, errores y exportados. Un filtro de periodicidad est\u00e1 ah\u00ed para organizar datos en meses, trimestres, semestre o anualmente.</p> <p></p> <p>Si hace clic en el n\u00famero de env\u00edos, ser\u00e1 llevado a la vista de env\u00edos, donde puede hacer clic en el icono de ver y ver los env\u00edos para ese formulario.</p> <p>Haga clic en el bot\u00f3n  para sincronizar dos formularios</p> <p>Por ejemplo: para obtener datos agregados de la encuesta de verificaci\u00f3n de la comunidad, todos los formularios del cliente deben sincronizarse a un solo formulario. </p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#estadisticas-de-completitud","title":"Estad\u00edsticas de completitud","text":"<p>Esta vista de tabla le muestra la completitud de los env\u00edos de formularios en n\u00famero (n\u00famero de formularios completados) y en porcentajes (Completitud de datos). Se hace una distinci\u00f3n entre \"formularios directos\" (que se relacionan con el nivel de Unidad Organizacional seleccionado) y \"formularios de nivel inferior\" (que se relacionan con formularios abajo en la jerarqu\u00eda).</p> <p>Use los filtros (Nombre del formulario, Unidad Organizacional padre, Tipo de Unidad Organizacional, Usuario, Planificaci\u00f3n, Equipos, Per\u00edodo) para ver estad\u00edsticas solo de una manera m\u00e1s espec\u00edfica.</p> <p>El bot\u00f3n de acci\u00f3n \"Ver hijos\" le permite profundizar en la jerarqu\u00eda geogr\u00e1fica para identificar el nivel de completitud y detectar d\u00f3nde pueden haber ocurrido problemas.</p> <p>Las primeras dos columnas \"en s\u00ed mismo\" indican el n\u00famero de formularios completados al nivel de la Unidad Organizacional destacada. La siguiente columna \"descendientes\" da informaci\u00f3n sobre el n\u00famero de formularios completados al nivel en cuesti\u00f3n, pero tambi\u00e9n en todos los niveles inferiores.</p> <p></p> <p>Tambi\u00e9n puede ver la completitud de datos con una vista de mapa haciendo clic en la pesta\u00f1a \"Mapa\". Tenga en cuenta que necesita seleccionar un Formulario en los filtros previamente para habilitar esta vista. Puede ajustar los umbrales para aplicar a la leyenda sobre completitud en la configuraci\u00f3n avanzada del formulario relevante.</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#georegistry-gestion-de-unidades-organizacionales","title":"Georegistry - Gesti\u00f3n de Unidades Organizacionales","text":"<p>Vea la definici\u00f3n de Unidad Organizacional para m\u00e1s informaci\u00f3n sobre qu\u00e9 son las Unidades Organizacionales. En resumen, puede gestionar sus datos geogr\u00e1ficos asociados a su cuenta usando la parte de Unidad Organizacional de IASO.</p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#lista-de-unidades-organizacionales","title":"Lista de Unidades Organizacionales","text":"<p>Haga clic en Unidades Organizacionales en el men\u00fa y luego en Lista de Unidades Organizacionales para navegar la pir\u00e1mide de unidades organizacionales.</p> <p>Puede ver en lista o mapa.</p> <p>Puede seleccionar una Navegaci\u00f3n de Unidad Organizacional y:</p> <ul> <li>Cambiar el nombre, tipo, estado de validaci\u00f3n, lugar en la pir\u00e1mide, etc. de la UO</li> <li>Visualizar la UO en un mapa</li> <li>Ver el historial de sus modificaciones</li> </ul> <p></p> <p></p> <p>Los resultados de b\u00fasqueda pueden ser exportados en CSV, XLSX o GPKG.</p> <p></p> <p>Los resultados pueden verse en una lista o en un mapa</p> <p></p> <p>El estado para cuando una villa ha sido a\u00f1adida y necesita ser revisada por ejemplo.</p> <p>La referencia externa se usa para exportar datos a DHIS2.</p> <p>El mapa le ayuda a saber d\u00f3nde est\u00e1 ubicada la estructura.</p> <p>Puede ver el historial de modificaciones haciendo clic en el peque\u00f1o icono de reloj o los detalles de los formularios completados haciendo clic en el icono del ojo.</p> <p></p> <p>Se pueden hacer varias b\u00fasquedas agregando pesta\u00f1as a la p\u00e1gina con el bot\u00f3n +. </p> <p>Puede elegir el color de los resultados en el mapa para cada b\u00fasqueda.</p> <p></p> <p></p> <p>Creaci\u00f3n de una Unidad Organizacional</p> <p>En la p\u00e1gina de lista de Unidades Organizacionales, haga clic en \"Crear\". Luego puede crear una Unidad Organizacional seg\u00fan sea necesario.</p> <p></p> <p>Necesitar\u00e1 ingresar la informaci\u00f3n a continuaci\u00f3n antes de guardar:</p> <ul> <li>Nombre de la Unidad Organizacional</li> <li>Tipo de la Unidad Organizacional (que habr\u00eda definido previamente en la parte de Tipo de Unidad Organizacional)</li> <li>Estado: Nuevo, Validado, o Rechazado.<ul> <li>Nuevo: la Unidad organizacional ha sido creada pero no ha sido validada a\u00fan. Si activa la posibilidad de crear Unidades Organizacionales desde la aplicaci\u00f3n m\u00f3vil IASO, aparecer\u00e1n primero como \"Nuevo\" en la web</li> <li>Validado: la Unidad organizacional est\u00e1 validada</li> <li>Rechazado: la Unidad organizacional ya no existe o ha sido fusionada/dividida o reemplazada por otra. IASO no permite borrar Unidades Organizacionales para mantener el registro de cambios pasados.</li> </ul> </li> </ul> <p>Campos opcionales:</p> <ul> <li>Alias: puede agregar tantos alias como sea necesario para rastrear las diferentes formas de escribir el nombre de la Unidad Organizacional (por ejemplo, \"Ste Marie\", \"Sainte-Marie\", \"Sainte Marie\", etc.)</li> <li>Grupo: puede organizar las Unidades Organizacionales en Grupos en IASO. Puede multi-seleccionar el/los grupo(s) con los que la unidad organizacional que est\u00e1 creando est\u00e1 asociada</li> <li>Unidad Organizacional padre: coloque su Unidad Organizacional en su lugar relevante en la jerarqu\u00eda</li> <li>Fecha(s) de apertura y/o cierre: use estos campos para indicar la fecha de apertura o cierre de la Unidad Organizacional</li> </ul> <p>Editar una Unidad Organizacional o consultar detalles</p> <p>Para acceder a la vista detallada de una Unidad Organizacional, proceda como se describe a continuaci\u00f3n:</p> <p></p> <p>En esta vista, tiene un conjunto de pesta\u00f1as que le permiten editar la Unidad Organizacional seg\u00fan sea necesario:</p> <ul> <li>Infos: edite la informaci\u00f3n principal relacionada con esta Unidad Organizacional</li> <li>Mapa: consulte la informaci\u00f3n geogr\u00e1fica disponible para esta Unidad Organizacional (l\u00edmites o coordenadas GPS). Puede ver datos geogr\u00e1ficos a trav\u00e9s de fuentes de datos (si hay varias fuentes). Tambi\u00e9n puede dejar un comentario</li> <li>Hijos: lista los hijos de esta Unidad Organizacional. Puede usar filtro para revisar la lista de una manera m\u00e1s detallada </li> <li>Enlaces: en el caso de coincidir una Unidad Organizacional a trav\u00e9s de m\u00faltiples fuentes de datos, los enlaces entre las fuentes de datos pueden encontrarse aqu\u00ed</li> <li>Historial: le permite rastrear todas las modificaciones que se hicieron a la Unidad Organizacional por usuario</li> <li>Formularios: lista todos los formularios de recolecci\u00f3n de datos que est\u00e1n enlazados al tipo de Unidad Organizacional de esta Unidad Organizacional</li> <li>Comentarios: puede dejar un comentario sobre esta Unidad Organizacional usando esta secci\u00f3n</li> </ul> <p>Edici\u00f3n en lote de Unidades Organizacionales</p> <p>Tambi\u00e9n puede editar Unidades Organizacionales en lote. Para hacer esto, desde la lista de Unidades Organizacionales, marque las casillas de las Unidades Organizacionales que le gustar\u00eda editar en lote, luego pase el cursor sobre el bot\u00f3n de acci\u00f3n. Haga clic en el bot\u00f3n de acci\u00f3n de engranaje, y seleccione la acci\u00f3n que le gustar\u00eda realizar.</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#grupos-de-unidades-organizacionales","title":"Grupos de Unidades Organizacionales","text":"<p>Las unidades organizacionales pueden ser agrupadas en grupos de unidades organizacionales, y estos grupos pueden ser organizados adem\u00e1s en conjuntos de grupos. Juntos pueden imitar una jerarqu\u00eda organizacional alternativa que puede ser usada al crear reportes y otra salida de datos. Adem\u00e1s de representar ubicaciones geogr\u00e1ficas alternativas que no son parte de la jerarqu\u00eda principal, estos grupos son \u00fatiles para asignar esquemas de clasificaci\u00f3n a las Unidades Organizacionales.</p> <p></p> <p>Gestionar Grupos de Unidades Organizacionales</p> <p>Para gestionar los Grupos de Unidades Organizacionales, acceda a la entrada del men\u00fa Unidades Organizacionales &gt; Grupos.</p> <p></p> <p>Esta vista le permite buscar los Grupos de Unidades Organizacionales a trav\u00e9s de entrada de texto libre.</p> <p>Puede crear un nuevo grupo  haciendo clic en el bot\u00f3n crear.</p> <p>Los grupos pueden ser editados haciendo clic en el icono de engranaje o eliminados haciendo clic en el bot\u00f3n eliminar.</p> <p>En la tabla, la columna \"Unidades Org\" muestra el n\u00famero de Unidades Organizacionales que est\u00e1n asignadas a este grupo. Cuando hace clic en el n\u00famero, ver\u00e1 la lista de ese grupo de Unidad Organizacional.</p> <p>Asignar Unidades Organizacionales a Grupos</p> <p>Para asignar Unidades Organizacionales a Grupos, vaya a la vista de Lista de Unidades Organizacionales desde el men\u00fa y haga una edici\u00f3n en lote de las Unidades Organizacionales seleccionadas. Vea arriba en la secci\u00f3n \"Edici\u00f3n en lote de Unidades Organizacionales\" para m\u00e1s detalles sobre la edici\u00f3n en lote de Unidades Organizacionales.</p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#gestion-de-tipos-de-unidades-organizacionales","title":"Gesti\u00f3n de tipos de Unidades Organizacionales","text":"<p>Los tipos de Unidades Organizacionales son espec\u00edficos de IASO (es decir, esto no se maneja en DHIS2). Vea la parte sobre Unidades Organizacionales para m\u00e1s detalles sobre qu\u00e9 son los tipos de Unidades Organizacionales.</p> <p>Desde la entrada del men\u00fa Unidad Organizacional, haga clic en \"Tipos de Unidades Organizacionales\". Esta vista lista los tipos de Unidades Organizacionales existentes en su cuenta IASO.</p> <p>Crear un tipo de Unidad Organizacional</p> <p>Haga clic en \"Crear\" e ingrese los campos obligatorios a continuaci\u00f3n:</p> <ul> <li>Nombre del tipo de Unidad Organizacional. Tenga cuidado de que esto debe ser la \"categor\u00eda\" / \"nivel en la jerarqu\u00eda\", NO el nombre espec\u00edfico de una Unidad Organizacional. Por ejemplo, \"Pa\u00eds\", \"Provincia\", \"Distrito\", y NO \"RDC\", \"Kinshasa\", \"Gombe\"</li> <li>Nombre corto: esto aparecer\u00e1 en otras vistas de IASO. Debe ser una versi\u00f3n corta del nombre completo</li> <li>Proyecto(s): seleccione uno o m\u00faltiples proyecto(s) al que el tipo de Unidad Organizacional est\u00e1 vinculado</li> </ul> <p>Estos otros campos no son obligatorios:</p> <ul> <li>Nivel: comience con 0 para el punto m\u00e1s alto en la jerarqu\u00eda, por ejemplo \"Pa\u00eds\". Por ejemplo, Pa\u00eds - 0, Provincia - 1, Distrito - 2, Villa - 3</li> <li>Tipos de sub unidades organizacionales a mostrar: seleccione el/los tipo(s) de Unidad Organizacional de abajo que le gustar\u00eda mostrar en la vista de Registro si este tipo principal de Unidad Organizacional que est\u00e1 editando es seleccionado.</li> <li>Tipos de Sub Unidades organizacionales a crear: seleccione el/los tipo(s) de Unidad Organizacional que le gustar\u00eda habilitar para la creaci\u00f3n en la aplicaci\u00f3n m\u00f3vil IASO. Por ejemplo, si est\u00e1 editando el tipo de Unidad organizacional \"Distrito\", puede habilitar la creaci\u00f3n de \"Villa\" y/o \"Punto de Inter\u00e9s\"</li> <li>Formularios de referencia: seleccione uno o varios Formulario(s) de recolecci\u00f3n de datos que ser\u00e1n asignados como referencia para este tipo de Unidad Organizacional. Los formularios de referencia son Formularios que est\u00e1n estrechamente vinculados al tipo de Unidad Organizacional. Un caso de uso t\u00edpico es para un \u00c1rea asignar un Formulario de referencia para datos de Poblaci\u00f3n.</li> </ul> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#gestion-de-fuentes-de-datos","title":"Gesti\u00f3n de Fuente(s) de Datos","text":"<p>IASO permite importar y manejar una o varias fuente(s) de datos geogr\u00e1ficos.</p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#lista-de-fuentes-de-datos","title":"Lista de Fuente(s) de Datos","text":"<p>Encuentre aqu\u00ed las fuentes de datos con sus nombres, versiones y descripciones. Es posible editar la fuente de datos, verificar el historial de versiones de los archivos o comparar fuentes de datos y exportarlas a DHIS2.</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#coincidencia","title":"Coincidencia","text":"<p>Esta es m\u00e1s bien una funcionalidad \"geoespacial\": tener varias fuentes de pir\u00e1mide geogr\u00e1fica e intentar hacer enlaces (Ejemplo: donde en un csv \"provincia x\" se llama \"PROVINCIA X\" y en otra fuente se llama \"DPS X\").</p> <p>La parte de ejecuci\u00f3n de algoritmos est\u00e1 destinada para trabajo de ciencia de datos.</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#registro","title":"Registro","text":"<p>La entrada de Registro en Unidad Organizacional es una herramienta de visualizaci\u00f3n que permite a los usuarios profundizar en la jerarqu\u00eda geogr\u00e1fica y consultar los datos geogr\u00e1ficos as\u00ed como la recolecci\u00f3n de datos asociada a los diferentes nivel(es).</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#revisar-propuestas-de-cambio","title":"Revisar propuestas de cambio","text":"<p>Con IASO, los supervisores pueden comparar y validar env\u00edos de datos mientras son enviados al servidor. Tenga en cuenta que esta caracter\u00edstica solo funcionar\u00e1 siempre que haya activado la bandera de caracter\u00edstica \"Solicitudes de cambio\" en el Proyecto IASO para el que le gustar\u00eda validar datos recolectados. Vea la parte de Proyectos para m\u00e1s informaci\u00f3n sobre banderas de caracter\u00edsticas m\u00f3viles en IASO.</p> <p>En la p\u00e1gina Revisar propuestas de cambio, los usuarios pueden usar los filtros para seleccionar las propuestas en las que les gustar\u00eda enfocarse. Vea en la imagen a continuaci\u00f3n los filtros detallados.</p> <p></p> <p>Los supervisores pueden luego hacer clic en el icono de engranaje al final de la l\u00ednea relevante para poder ver los detalles de la propuesta de cambio enviada y comparar con la versi\u00f3n anterior a la izquierda.</p> <p></p> <p>Los supervisores pueden luego seleccionar los cambios que les gustar\u00eda aprobar marcando las casillas de los cambios seleccionados en la columna derecha, y luego presionar \"Aprobar cambios seleccionados\". Si los cambios propuestos no son satisfactorios, los supervisores pueden rechazar todos los cambios y proporcionar un comentario.</p> <p>Para cada propuesta de cambio enviada, los usuarios de la aplicaci\u00f3n m\u00f3vil IASO podr\u00e1n ver si han sido aprobados o rechazados, y si rechazados, consultar el comentario.</p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#planificacion","title":"Planificaci\u00f3n","text":"<p>La caracter\u00edstica de Planificaci\u00f3n en IASO le permite planificar trabajo de campo por equipo y usuario en zonas/unidades organizacionales definidas y seg\u00fan una l\u00ednea de tiempo espec\u00edfica. Una vez que las actividades de recolecci\u00f3n de datos hayan sido asignadas a trav\u00e9s de la interfaz, los agentes de campo que usan la aplicaci\u00f3n m\u00f3vil solo podr\u00edan ver las actividades asignadas a ellos, y navegar hacia el/los punto(s) GPS relevante(s).</p> <p>Para poder crear una Planificaci\u00f3n, necesitar\u00e1 haber creado previamente Unidades organizacionales, Usuarios, un Proyecto, Equipos de Usuarios/Equipos de Equipos y formularios de recolecci\u00f3n de datos para los cuales le gustar\u00eda usar la caracter\u00edstica de Planificaci\u00f3n.</p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#lista-de-planificacion","title":"Lista de Planificaci\u00f3n","text":"<p>Haga clic en Planificaci\u00f3n en el panel del men\u00fa. Bajo Lista de Planificaci\u00f3n ver\u00e1 la lista de horarios/planificaciones que han sido creadas en IASO. Puede buscar a trav\u00e9s de las diferentes Planificaciones usando los diferentes filtros y tomar las acciones a continuaci\u00f3n:</p> <ul> <li>Crear Planificaci\u00f3n</li> <li>Ver Planificaci\u00f3n: aqu\u00ed es donde acceder\u00e1 a la interfaz para asignar actividades de recolecci\u00f3n de datos a Equipos y Usuarios seg\u00fan geograf\u00edas</li> <li>Editar Planificaci\u00f3n: editar el Nombre, Proyecto, Unidad Organizacional padre y Equipo al que se aplica, Formulario(s), Descripci\u00f3n</li> <li>Duplicar Planificaci\u00f3n: permite a los usuarios copiar una Planificaci\u00f3n existente y readaptarla seg\u00fan sea necesario</li> <li>Borrar Planificaci\u00f3n</li> </ul> <p></p> <p>Crear una Planificaci\u00f3n</p> <p>Haga clic en \"Crear\" y ver\u00e1 la ventana a continuaci\u00f3n abri\u00e9ndose:</p> <p></p> <p>Los campos a continuaci\u00f3n son obligatorios:</p> <ul> <li>Nombre</li> <li>Proyecto: define en qu\u00e9 ambiente de aplicaci\u00f3n m\u00f3vil la informaci\u00f3n de Planificaci\u00f3n ser\u00e1 visible</li> <li>Equipo: es el equipo responsable de la planificaci\u00f3n - esto es usualmente un Equipo de Equipos</li> <li>Formulario(s): seleccione uno o varios Formulario(s) para aplicar a esta Planificaci\u00f3n</li> <li>Unidad organizacional: seleccione la Unidad Organizacional base a la que se aplica su Planificaci\u00f3n. Tenga en cuenta que profundizar\u00e1 desde esta Unidad Organizacional base para asignar sus actividades de recolecci\u00f3n de datos a Equipos/Usuarios.</li> <li>fechas de inicio y fin para su Planificaci\u00f3n</li> </ul> <p>Puede agregar una descripci\u00f3n como opci\u00f3n.</p> <p>El \"Estado de publicaci\u00f3n\" (en la esquina inferior izquierda ) hace posible asegurar, una vez completado (y todas las asignaciones hechas), que la planificaci\u00f3n reci\u00e9n creada estar\u00e1 disponible en la aplicaci\u00f3n m\u00f3vil IASO para el proyecto relevante.</p> <p>Una vez que haya completado los campos, haga clic en \"Guardar\" para terminar.</p> <p>Haga clic en el icono del ojo desde la lista de Planificaci\u00f3n para comenzar a editar su nueva Planificaci\u00f3n a trav\u00e9s de la interfaz del Mapa.</p> <p>Puede hacer la asignaci\u00f3n ya sea a trav\u00e9s de la pesta\u00f1a \"Mapa\" o \"Lista\". Si procesa a trav\u00e9s del mapa, primero seleccione el Equipo al que le gustar\u00eda asignar una geograf\u00eda en el desplegable, as\u00ed como el \"Tipo de Unidad Organizacional base\" relevante en el desplegable. Luego puede comenzar a asignar \u00e1reas geogr\u00e1ficas o puntos directamente a los miembros del Equipo seleccionados directamente en el mapa.</p> <p></p> <p>Las \u00e1reas seleccionadas ser\u00e1n resaltadas con el color del equipo, que puede cambiar seg\u00fan sea necesario.</p> <p>Para asignar todas las Unidades Organizacionales hijas de una Unidad Organizacional padre dada al mismo Equipo/Usuario, puede seleccionar el \"Modo de selecci\u00f3n padre\" antes de proceder a su selecci\u00f3n.</p> <p></p> <p>Si prefiere usar la pesta\u00f1a Lista, el proceso es bastante similar. La diferencia principal es que trabaja aqu\u00ed con una lista de nombres, seg\u00fan el nivel seleccionado. Las unidades organizacionales son asignadas haciendo clic en frente del nombre del elemento, en la columna \"Asignaci\u00f3n\".</p> <p></p> <p>Puede ordenar Unidades Organizacionales y Padres haciendo clic en el nombre de la columna.</p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#entidades","title":"Entidades","text":"<p>Llamamos una \"Entidad\" a cualquier cosa que pueda moverse o ser movida y que queramos rastrear a trav\u00e9s del tiempo y Unidades Organizacionales. Por ejemplo, un beneficiario, un carro, etc.</p> <p>Para diferenciar entre diferentes tipos de entidades, IASO tiene un concepto de \"Tipo de Entidad\". IASO depende mucho de XLSForms, y las entidades no son excepci\u00f3n. Por lo tanto, una entidad est\u00e1 representada por un env\u00edo a un formulario. Este env\u00edo se refiere como el perfil. El tipo de entidad define qu\u00e9 formulario tiene que ser completado.</p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#como-crear-una-entidad","title":"C\u00f3mo crear una entidad","text":"<p>Habilitar la caracter\u00edstica</p> <p>Para crear una entidad, su proyecto debe primero habilitar la bandera de caracter\u00edstica de entidad. Puede establecer esta bandera ya sea durante su creaci\u00f3n o actualiz\u00e1ndola m\u00e1s tarde.</p> <p></p> <p>Crear y subir el formulario de perfil</p> <p>Usando la aplicaci\u00f3n de hoja de su elecci\u00f3n, cree un XLSForm que contendr\u00e1 todas las preguntas relacionadas con su entidad que son ya sea fijas (es decir, nombre y apellido) o pueden evolucionar a trav\u00e9s del tiempo (es decir, un programa al que una entidad puede estar afiliada). S\u00fabalo al servidor usando la aplicaci\u00f3n web.</p> Nota: Las preguntas que pueden evolucionar a trav\u00e9s del tiempo no deben ser editables."},{"location":"es/pages/users/reference/iaso_web/user_guide.html#crear-el-tipo-de-entidad","title":"Crear el tipo de entidad","text":"<p>En la pantalla de tipos de entidades, haga clic en el bot\u00f3n \"CREAR\". D\u00e9 al tipo de entidad un nombre y seleccione el formulario reci\u00e9n subido como formulario de referencia:</p> <p></p> Nota: Veremos m\u00e1s tarde qu\u00e9 son \"Campos de lista\" y \"Campos de informaci\u00f3n de detalle\"."},{"location":"es/pages/users/reference/iaso_web/user_guide.html#crear-una-entidad","title":"Crear una entidad","text":"<p>En la aplicaci\u00f3n m\u00f3vil, aseg\u00farese de que los datos hayan sido refrescados y est\u00e9n actualizados con el servidor backend. Ahora podr\u00e1 ver la pantalla de entidad.</p> <p>En este momento, no es posible crear una Entidad desde una interfaz web.</p> <p>Haga clic en el bot\u00f3n \"Agregar\" en la aplicaci\u00f3n.</p> <p></p> <p>Seleccione el tipo de entidad que quiere crear.</p> <p></p> <p>Se le pedir\u00e1 confirmar su selecci\u00f3n.</p> <p></p> <p>Luego puede completar el formulario para finalizar su primera entidad.</p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#como-configurar-como-mostramos-una-entidad","title":"\u00bfC\u00f3mo configurar c\u00f3mo mostramos una entidad?","text":"<p>Dentro de la configuraci\u00f3n del tipo de entidad, es posible para los administradores definir qu\u00e9 preguntas se muestran dentro de las listas y dentro de la pantalla de detalles.</p> <p></p> <p>Esto impacta c\u00f3mo las aplicaciones web y m\u00f3vil muestran entidades, como se muestra a continuaci\u00f3n.</p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#en-la-interfaz-web","title":"En la interfaz web","text":""},{"location":"es/pages/users/reference/iaso_web/user_guide.html#en-la-lista","title":"En la lista","text":""},{"location":"es/pages/users/reference/iaso_web/user_guide.html#en-la-pantalla-de-detalles","title":"En la pantalla de detalles","text":""},{"location":"es/pages/users/reference/iaso_web/user_guide.html#en-la-aplicacion-movil","title":"En la aplicaci\u00f3n m\u00f3vil","text":""},{"location":"es/pages/users/reference/iaso_web/user_guide.html#en-la-lista_1","title":"En la lista","text":""},{"location":"es/pages/users/reference/iaso_web/user_guide.html#en-la-pantalla-de-detalles_1","title":"En la pantalla de detalles","text":""},{"location":"es/pages/users/reference/iaso_web/user_guide.html#buscar-una-entidad","title":"Buscar una entidad","text":""},{"location":"es/pages/users/reference/iaso_web/user_guide.html#en-la-web","title":"En la web","text":"<p>En la lista de beneficiarios, puede filtrar por tipo y/o ingresar una consulta para filtrar basado en el identificador o cualquiera de los valores de campos de lista.</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#en-la-aplicacion","title":"En la aplicaci\u00f3n","text":"<p>Hacer clic en el icono de lupa en la pantalla de entidad lo llevar\u00e1 a la lista de todas las entidades y le permitir\u00e1 filtrarlas r\u00e1pidamente basado en el identificador o cualquiera de los valores de campos de lista. Si necesita una selecci\u00f3n m\u00e1s refinada, puede hacer clic en el icono de embudo, seleccionar un tipo y completar el formulario de b\u00fasqueda (segunda imagen)</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#que-son-los-flujos-de-trabajo","title":"\u00bfQu\u00e9 son los flujos de trabajo?","text":"<p>Como se declar\u00f3 antes, una entidad es rastreada a trav\u00e9s del tiempo y Unidades Organizacionales. Para lograr esto, Iaso vincula los env\u00edos subsecuentes para una entidad juntos y permite que los env\u00edos subsecuentes cambien el perfil. Para que pueda elegir qu\u00e9 formularios deben presentarse a continuaci\u00f3n y qu\u00e9 valores anulan las propiedades del perfil, puede definir un flujo de trabajo.</p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#crear-un-flujo-de-trabajo","title":"Crear un flujo de trabajo","text":"<p>En la lista de tipos de entidades, haga clic en el icono de flujo de trabajo</p> <p></p> <p>En la lista de las versiones de flujo de trabajo, cree el bot\u00f3n \"CREAR\" y d\u00e9 a la versi\u00f3n un nombre:</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#seguimientos-y-cambios","title":"Seguimientos y cambios","text":""},{"location":"es/pages/users/reference/iaso_web/user_guide.html#seguimientos","title":"Seguimientos","text":"<p>Representan los pr\u00f3ximos formularios posibles basados en el estado del perfil. Est\u00e1n basados en una condici\u00f3n. En el siguiente ejemplo, la aplicaci\u00f3n m\u00f3vil ofrecer\u00e1 \"Registro U5 WFP\" como el pr\u00f3ximo formulario posible si el primer nombre es \"Bill\".</p> <p></p> Recordatorio: \"Primer Nombre\" es una de las preguntas en el formulario del Tipo de Entidad."},{"location":"es/pages/users/reference/iaso_web/user_guide.html#cambios","title":"Cambios","text":"<p>Representan el mapeo de qu\u00e9 valor de un formulario cambiar\u00e1 los valores en el perfil.</p> <p>En el ejemplo a continuaci\u00f3n, el \"Formulario objetivo\" es el formulario del Tipo de Entidad, y el \"Formulario fuente\" es el env\u00edo subsecuente. Cuando un formulario \"Registro U5 WFP\" es completado, el valor ingresado en \"Edad del ni\u00f1o en meses\" ser\u00e1 copiado en la pregunta \"Edad (Meses)\" del perfil. Y el valor ingresado en \"Nombre del ni\u00f1o\" ser\u00e1 copiado en la pregunta \"Primer Nombre\" del perfil.</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#usar-valores-del-perfil-en-formularios-subsecuentes","title":"Usar valores del perfil en formularios subsecuentes","text":"<p>Algunas veces, quiere que un formulario subsecuente use valores del perfil. Para hacer esto, simplemente agregue una pregunta con el mismo identificador y tipo que el valor del perfil.</p> <p>Es decir, Asumamos que el perfil tiene 2 preguntas de tipo \"texto\": primer_nombre y apellido. Al agregar una pregunta similar de solo lectura en sus formularios subsecuentes, el valor estar\u00e1 disponible para usted.</p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#publicar-flujos-de-trabajo","title":"Publicar flujos de trabajo","text":"<p>Una vez que una versi\u00f3n de flujo de trabajo ha sido publicada, est\u00e1 marcada como finalizada, y no puede ser editada m\u00e1s. Solo los flujos de trabajo en \"borrador\" pueden ser editados. Si quiere editar un flujo de trabajo finalizado, primero necesita duplicarlo usando el bot\u00f3n \"Copiar versi\u00f3n\". Una nueva versi\u00f3n de borrador es entonces creada con el mismo contenido.</p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#admin","title":"Admin","text":"<p>La parte Admin de IASO comprende varias partes, que aparecer\u00e1n o no dependiendo de los permisos del usuario:</p> <ul> <li>Tareas</li> <li>Monitoreo</li> <li>Proyectos</li> <li>M\u00f3dulos</li> <li>Usuarios</li> <li>Roles de usuario</li> <li>Equipos</li> </ul>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#tareas","title":"Tareas","text":"<p>Este es el registro de actualizaciones por lotes de IASO. Un registro de operaci\u00f3n contiene informaci\u00f3n sobre cu\u00e1ndo y d\u00f3nde una operaci\u00f3n corri\u00f3, el estado de la operaci\u00f3n, el n\u00famero de registros fuente y objetivo procesados, y cualquier mensaje de registro.</p> <p>Ejemplos de tareas incluyen:</p> <ul> <li>Actualizaci\u00f3n en lote de unidad organizacional</li> <li>Importaci\u00f3n de datos DHIS2</li> <li>Importaci\u00f3n de Geopackage</li> </ul> <p>Los estados son:</p> <ul> <li>Error: la Tarea no lo logr\u00f3. Se aconseja a los usuarios intentar de nuevo.</li> <li>Ejecut\u00e1ndose: la Tarea est\u00e1 en proceso</li> <li>En cola: la Tarea se ha detenido y se reiniciar\u00e1 si se cumplen las condiciones (por ejemplo, si hay mejor conectividad)</li> <li>Eliminada: la Tarea fue interrumpida por el usuario despu\u00e9s de que hab\u00eda sido iniciada</li> <li>\u00c9xito: la Tarea ha sido ejecutada exitosamente</li> </ul> <p>La lista de Tareas puede ser refrescada presionando el bot\u00f3n \"Refrescar\" en el lado superior derecho.</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#monitoreo","title":"Monitoreo","text":"<p>Esta parte permite a los supervisores monitorear dispositivos que est\u00e1n vinculados con la cuenta IASO. Desde esta p\u00e1gina, puede consultar:</p> <ul> <li>El IMEI o identificador del dispositivo</li> <li>Si este es un dispositivo de prueba o no</li> <li>el nombre del \u00faltimo propietario</li> <li>la \u00faltima vez que ha sido sincronizado</li> <li>la fecha de creaci\u00f3n (primera vez que ha sido sincronizado)</li> <li>la fecha de modificaci\u00f3n</li> </ul> <p>En el lado derecho, puede ver el n\u00famero de dispositivos que est\u00e1n conectados bajo la cuenta IASO a la que est\u00e1 conectado.</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#proyectos","title":"Proyectos","text":"<p>Un Proyecto en IASO se relaciona con una instancia de aplicaci\u00f3n m\u00f3vil. Cada Proyecto es identificado por un Nombre y un ID de App. Vea aqu\u00ed para una definici\u00f3n m\u00e1s detallada de Proyectos en IASO.</p> <p>Crear un Proyecto</p> <p>Desde el men\u00fa, Admin &gt; Proyectos &gt; Haga clic en \"Crear\"</p> <p></p> <p>Luego, agregue un nombre de Proyecto, y un ID de App. Tenga en cuenta que el ID de App tendr\u00e1 que ser ingresado por los usuarios de aplicaci\u00f3n m\u00f3vil IASO la primera vez que se conecten a la app IASO, por lo que no debe ser excesivamente complicado para evitar errores de tipeo.</p> <p>Luego puede seleccionar las banderas de caracter\u00edsticas que le gustar\u00eda aplicar a su Proyecto en la siguiente pesta\u00f1a y presionar \"Guardar\".</p> <p></p> <p>Definici\u00f3n de banderas de caracter\u00edsticas</p> <p>Vea la tabla a continuaci\u00f3n para m\u00e1s detalles sobre las banderas de caracter\u00edsticas del Proyecto:</p> Bandera de caracter\u00edstica Descripci\u00f3n Autenticaci\u00f3n Los usuarios tienen que ingresar su inicio de sesi\u00f3n y contrase\u00f1a en la aplicaci\u00f3n m\u00f3vil antes de proceder a la recolecci\u00f3n de datos. Tenga en cuenta que esto es posible en IASO proceder a la recolecci\u00f3n de datos sin autenticaci\u00f3n para procesos simplificados (tambi\u00e9n llamado \"modo an\u00f3nimo\") M\u00f3vil: mostrar pantalla de recolecci\u00f3n de datos Habilitar la caracter\u00edstica para recolectar datos desde la aplicaci\u00f3n m\u00f3vil IASO (recolecci\u00f3n de datos que no est\u00e1 vinculada a una planificaci\u00f3n o un flujo de trabajo de solicitud de cambio) GPS para cada formulario Cada vez que un formulario de recolecci\u00f3n de datos es enviado, un punto GPS es autom\u00e1ticamente tomado y asociado al env\u00edo del formulario Forzar que los usuarios est\u00e9n dentro del alcance de la unidad organizacional antes de comenzar el formulario Los usuarios de aplicaci\u00f3n m\u00f3vil IASO tienen que estar cerca (50m) del punto GPS de la unidad organizacional para la que est\u00e1n recolectando datos para que el formulario se abra M\u00f3vil. Mostrar pantalla de planificaci\u00f3n Cuando una planificaci\u00f3n ha sido hecha en IASO a trav\u00e9s de la interfaz web, los puntos de recolecci\u00f3n de datos asignados y tareas se reflejan a trav\u00e9s de esta pesta\u00f1a M\u00f3vil: limitar descarga de unidad organizacional a lo que el usuario tiene acceso Al cargar datos en la aplicaci\u00f3n m\u00f3vil, solo la zona geogr\u00e1fica que est\u00e1 asignada al usuario es descargada, para habilitar uso fuera de l\u00ednea. Esto permite una descarga m\u00e1s ligera (y entonces m\u00e1s r\u00e1pida y menos consumidora de datos) de datos al inicio de la aplicaci\u00f3n m\u00f3vil IASO M\u00f3vil. Mostrar Mapa de unidad organizacional Agrega una pesta\u00f1a en la aplicaci\u00f3n m\u00f3vil para mostrar la informaci\u00f3n geogr\u00e1fica disponible para la Unidad Organizacional seleccionada en la aplicaci\u00f3n m\u00f3vil. Por ejemplo, si una coordenada GPS est\u00e1 disponible para una instalaci\u00f3n de salud, se mostrar\u00eda en el mapa a trav\u00e9s de esta pesta\u00f1a Solicitar cambios a unidades organizacionales Habilitar la caracter\u00edstica para proponer cambios a unidades organizacionales y sus formulario(s) de referencia relacionados M\u00f3vil: Solicitudes de cambio Agrega la pesta\u00f1a que permite proponer cambios a unidades organizacionales y sus formulario(s) de referencia GPS para trayectoria Habilitar al usuario activar una funci\u00f3n que rastrea su posici\u00f3n cada 15 minutos durante un per\u00edodo de tiempo M\u00f3vil. Advertir al usuario cuando los formularios han sido actualizados Cuando nuevas versiones de formularios han sido subidas en la web, el usuario de aplicaci\u00f3n m\u00f3vil IASO es notificado. Luego el usuario puede elegir aplicarlas o no M\u00f3vil. Advertir al usuario cuando los formularios han sido actualizados y forzarlos a actualizar Cuando nuevas versiones de formularios han sido subidas en la web, el usuario de aplicaci\u00f3n m\u00f3vil IASO es notificado y la actualizaci\u00f3n ocurre autom\u00e1ticamente M\u00f3vil. Advertir al usuario cuando las unidades organizacionales han sido actualizadas Cuando cambios a las Unidades organizacionales (pir\u00e1mide de salud) han sido hechos en la web, el usuario de aplicaci\u00f3n m\u00f3vil IASO es notificado. Luego el usuario puede elegir aplicarlos o no M\u00f3vil. Advertir al usuario cuando las unidades organizacionales han sido actualizadas y forzarlos a actualizar Cuando cambios a las Unidades organizacionales (pir\u00e1mide de salud) han sido hechos en la web, el usuario de aplicaci\u00f3n m\u00f3vil IASO es notificado y la actualizaci\u00f3n ocurre autom\u00e1ticamente Subida autom\u00e1tica de formularios finalizados La sincronizaci\u00f3n de formularios que han sido completados toma lugar autom\u00e1ticamente tan pronto como el usuario tiene conectividad M\u00f3vil. Los formularios finalizados son de solo lectura Los usuarios de aplicaci\u00f3n m\u00f3vil IASO no pueden editar los formularios una vez finalizados en la aplicaci\u00f3n m\u00f3vil"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#usuarios","title":"Usuarios","text":"<p>Los usuarios pueden acceder a la aplicaci\u00f3n web y m\u00f3vil de IASO con credenciales de inicio de sesi\u00f3n. Cada usuario tiene permisos asignados y puede ser limitado por ubicaci\u00f3n.</p> <p>Los permisos son relativamente granulares: - Por pantalla/pesta\u00f1a - Diferentes permisos de lectura/escritura para dominios importantes - Restricci\u00f3n de acceso usando la pir\u00e1mide de salud - Creaci\u00f3n/modificaci\u00f3n en lote de usuarios - Roles de usuario personalizables (Administrador, Gestor de datos, etc.)</p> <p>Tenga en cuenta que los permisos asignados desde la gesti\u00f3n de Usuarios se aplican solo a IASO web. IASO no tiene un sistema de permisos para su aplicaci\u00f3n m\u00f3vil, sino m\u00e1s bien un conjunto de Banderas de Caracter\u00edsticas.</p> <p>Crear un nuevo usuario IASO</p> <p>Desde el men\u00fa Admin &gt; Usuarios, haga clic en \"Crear\".</p> <ol> <li>Complete la informaci\u00f3n del usuario</li> </ol> <p></p> <p>Tenga en cuenta que tambi\u00e9n puede indicar la siguiente informaci\u00f3n:</p> <ul> <li>ID DHIS2 del usuario: puede importar una lista de usuarios DHIS2 a IASO y mantener el registro de su id DHIS2 en IASO para vincularlos a trav\u00e9s de ambos sistemas</li> <li>P\u00e1gina de inicio: puede configurar una p\u00e1gina de aterrizaje predeterminada para ese usuario al conectarse a esta cuenta IASO</li> <li>Proyectos: seleccione uno o varios Proyecto(s) al cual el usuario reci\u00e9n creado ser\u00e1 vinculado. Si no hay Proyecto indicado aqu\u00ed, el usuario tendr\u00e1 acceso a todos los Proyectos de la cuenta IASO por defecto.</li> <li> <p>Idioma: puede especificar en qu\u00e9 idioma predeterminado este usuario usar\u00e1 IASO web. La aplicaci\u00f3n m\u00f3vil IASO est\u00e1 basada en el idioma predeterminado del dispositivo del usuario.</p> </li> <li> <p>Asignar permisos de usuario</p> </li> </ul> <p>En la siguiente pesta\u00f1a \"Permisos\", puede habilitar/deshabilitar permisos para ese usuario seg\u00fan sea necesario. Tenga en cuenta que en los \"?\" hay tooltips para explicar qu\u00e9 hacen los permisos. </p> <ol> <li>Restringir usuario a una Ubicaci\u00f3n espec\u00edfica</li> </ol> <p>En la \u00faltima pesta\u00f1a \"Ubicaci\u00f3n\", puede restringir el acceso del usuario que est\u00e1 editando a una sub-parte de la jerarqu\u00eda de Unidad Organizacional (por lo tanto el usuario solo podr\u00e1 ver datos relacionados con su Geograf\u00eda). Si no se especifica Ubicaci\u00f3n aqu\u00ed, por defecto el usuario ver\u00e1 todos los datos disponibles a trav\u00e9s de toda la jerarqu\u00eda.</p> <p></p> <p>Crear usuarios en lote</p> <p>Puede crear varios usuarios a la vez usando un archivo CSV que importa a IASO.</p> <p>Use el bot\u00f3n \"Crear desde archivo\" y luego puede importar su lista de usuarios (o descargar la plantilla relevante para hacerlo previamente).</p> <p>Gestionar usuarios IASO</p> <p>Esta vista le permite gestionar usuarios y sus permisos. Puede buscar por un usuario usando los diferentes filtros.</p> <p></p> <p>Puede editar usuarios IASO en lote usando la caracter\u00edstica de actualizaci\u00f3n en lote. Primero, marque cada usuario que le gustar\u00eda actualizar usando las casillas de verificaci\u00f3n en el lado derecho de cada l\u00ednea de usuario.</p> <p></p> <p>Luego seleccione la(s) acci\u00f3n(es) que le gustar\u00eda realizar para estos usuarios. Pueden ser:</p> <ul> <li>Agregar o quitar de rol(es) de usuario</li> <li>Agregar o quitar de Proyecto(s)</li> <li>Agregar o quitar de Equipo(s)</li> <li>Actualizar idioma predeterminado</li> <li>Agregar o Quitar Ubicaci\u00f3n (por lo tanto limitando estos usuarios a la Geograf\u00eda seleccionada)</li> </ul> <p>Haga clic en \"Validar\" cuando termine.</p> <p></p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#roles-de-usuario","title":"Roles de usuario","text":"<p>Los roles de usuario permiten agrupar usuarios que tienen un conjunto de permisos bajo el mismo rol. En el Rol de usuario, puede crear Roles de usuario con sus permisos coincidentes, a los cuales los Usuarios pueden ser asignados.</p> <p>Crear un Rol de usuario</p> <p>Desde la p\u00e1gina Admin &gt; Roles de usuario, haga clic en \"Crear\".</p> <p></p> <p>Luego puede asignar este rol de usuario a cualquier usuario a trav\u00e9s de la pesta\u00f1a Permiso en la ventana emergente de edici\u00f3n de Usuario. Tenga en cuenta que los permisos de Rol de usuario se aplicar\u00e1n al usuario, pero si el Usuario tiene m\u00e1s permisos que hab\u00edan sido previamente asignados a \u00e9l/ella, no los perder\u00e1 sino que se sumar\u00e1n.</p> <p></p> <p>Para asignar m\u00faltiples Usuarios a este rol de usuario reci\u00e9n creado en lote, regrese a la lista de Usuarios y proceda a una actualizaci\u00f3n en lote (vea Gestionar Usuarios arriba).</p>"},{"location":"es/pages/users/reference/iaso_web/user_guide.html#equipos","title":"Equipos","text":"<p>La noci\u00f3n de Equipos en IASO se usa principalmente para la caracter\u00edstica de Planificaci\u00f3n. Permite organizar Usuarios en jerarqu\u00edas de Equipo y asignar actividades de recolecci\u00f3n de datos a las geograf\u00edas relevantes seg\u00fan sea necesario para los prop\u00f3sitos de Planificaci\u00f3n.</p> <p>Hay dos tipos de Equipos:</p> <ul> <li>Equipos de Usuarios: re\u00fane Usuarios IASO bajo el mismo equipo</li> <li>Equipos de Equipos: re\u00fane varios Equipos bajo un mismo Equipo. Luego puede crear jerarqu\u00edas de Equipos</li> </ul> <p>Crear un Equipo</p> <p>Desde el men\u00fa, acceda a Admin &gt; Equipos. Haga clic en \"Crear\"</p> <p></p> <p>Complete los campos a continuaci\u00f3n:</p> <ul> <li>Nombre del equipo</li> <li>Gerente: seleccione de los Usuarios en IASO</li> <li>Proyecto: seleccione el Proyecto a ser vinculado a este Equipo</li> <li>Tipo: seleccione en el desplegable el tipo de Equipo<ul> <li>Si selecciona \"Equipo de Usuarios\" - entonces seleccione los Usuarios a ser agregados a ese Equipo</li> <li>Si selecciona \"Equipo de Equipos\" - entonces seleccione los Equipos a ser agregados a ese Equipo</li> </ul> </li> <li>Padre: seleccione el Equipo Padre para este equipo reci\u00e9n creado</li> </ul> <p>Luego puede usar el icono de engranaje o papelera en la p\u00e1gina principal para editar o eliminar Equipo(s) seg\u00fan sea necesario.</p>"}]}