# Generated by Django 3.1.14 on 2022-01-10 12:21
# corrected by Olivier Le Thanh Duong 20 Jan
# Edited by Bram Jans 11 Dec 2023

from django.conf import settings
import django.contrib.gis.db.models.fields
import django.contrib.postgres.fields.jsonb
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):
    replaces = [
        ("vector_control", "0001_initial"),
        ("vector_control", "0002_auto_20181207_1112"),
        ("vector_control", "0003_site_is_reference"),
        ("vector_control", "0004_auto_20181211_1233"),
        ("vector_control", "0005_auto_20181211_1551"),
        ("vector_control", "0006_auto_20181212_1005"),
        ("vector_control", "0007_auto_20181218_0936"),
        ("vector_control", "0008_auto_20181218_1426"),
        ("vector_control", "0009_auto_20181218_1438"),
        ("vector_control", "0010_auto_20181218_1457"),
        ("vector_control", "0011_auto_20181220_1318"),
        ("vector_control", "0012_apiimport_json_body"),
        ("vector_control", "0013_gpsimport_count"),
        ("vector_control", "0014_auto_20190104_1112"),
        ("vector_control", "0015_auto_20190104_1231"),
        ("vector_control", "0016_auto_20190109_1622"),
        ("vector_control", "0017_catch_problem"),
        ("vector_control", "0018_auto_20190221_1811"),
        ("vector_control", "0019_auto_20190225_1007"),
        ("vector_control", "0020_vector_refactor"),
        ("vector_control", "0021_auto_20190227_1737"),
        ("vector_control", "0022_site_creator"),
        ("vector_control", "0023_trap_river"),
        ("vector_control", "0024_remove_trap_is_reference"),
        ("vector_control", "0025_auto_20190530_0943"),
        ("vector_control", "0026_auto_20190531_0744"),
        ("vector_control", "0027_auto_20190628_1129"),
        ("vector_control", "0028_auto_20190628_1342"),
        ("vector_control", "0029_apiimport_has_problem"),
        ("vector_control", "0030_extra_info_api_import"),
        ("vector_control", "0031_auto_20200721_1125"),
        ("vector_control", "0032_auto_20210611_0951"),
    ]

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="APIImport",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                (
                    "user",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL
                    ),
                ),
                (
                    "import_type",
                    models.TextField(
                        blank=True,
                        choices=[("site", "Site"), ("catch", "Catch"), ("target", "Target")],
                        max_length=25,
                        null=True,
                    ),
                ),
                ("json_body", django.contrib.postgres.fields.jsonb.JSONField(default="{}")),
            ],
            options={"db_table": "vector_control_apiimport"},
        ),
        migrations.AlterField(
            model_name="apiimport",
            name="import_type",
            field=models.TextField(
                blank=True,
                choices=[("trap", "Trap"), ("site", "Site"), ("catch", "Catch"), ("target", "Target")],
                max_length=25,
                null=True,
            ),
        ),
        migrations.AlterField(
            model_name="apiimport",
            name="import_type",
            field=models.TextField(
                blank=True,
                choices=[
                    ("trap", "Trap"),
                    ("site", "Site"),
                    ("catch", "Catch"),
                    ("target", "Target"),
                    ("orgUnit", "Org Unit"),
                ],
                max_length=25,
                null=True,
            ),
        ),
        migrations.AlterField(
            model_name="apiimport",
            name="import_type",
            field=models.TextField(
                blank=True,
                choices=[
                    ("trap", "Trap"),
                    ("site", "Site"),
                    ("catch", "Catch"),
                    ("target", "Target"),
                    ("orgUnit", "Org Unit"),
                    ("instance", "Form instance"),
                ],
                max_length=25,
                null=True,
            ),
        ),
        migrations.AddField(
            model_name="apiimport",
            name="has_problem",
            field=models.BooleanField(default=False),
        ),
        migrations.AddField(
            model_name="apiimport",
            name="exception",
            field=models.TextField(blank=True, default=""),
        ),
        migrations.AddField(
            model_name="apiimport",
            name="headers",
            field=models.JSONField(blank=True, null=True),
        ),
        migrations.AlterField(
            model_name="apiimport",
            name="import_type",
            field=models.TextField(
                blank=True, choices=[("orgUnit", "Org Unit"), ("instance", "Form instance")], max_length=25, null=True
            ),
        ),
        migrations.AlterField(
            model_name="apiimport",
            name="json_body",
            field=models.JSONField(),
        ),
    ]
