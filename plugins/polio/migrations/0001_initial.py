# Generated by Django 4.2.22 on 2025-09-07 19:36

import uuid

import django.contrib.postgres.fields
import django.core.serializers.json
import django.core.validators
import django.db.models.deletion
import django.utils.timezone

from django.conf import settings
from django.db import migrations, models

import plugins.polio.budget.models
import plugins.polio.models.base


class Migration(migrations.Migration):
    initial = True

    dependencies = [
        ("iaso", "0001_initial"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="PolioPermissionSupport",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
            options={
                "permissions": (
                    ("iaso_polio", "Polio"),
                    ("iaso_polio_budget", "Budget Polio"),
                    ("iaso_polio_budget_admin", "Budget Polio Admin"),
                    ("iaso_polio_config", "Polio config"),
                    ("iaso_polio_chronogram", "Polio chronogram"),
                    (
                        "iaso_polio_chronogram_restricted_write",
                        "Polio chronogram user (restricted write)",
                    ),
                    ("iaso_polio_notifications", "Polio notifications"),
                    (
                        "iaso_polio_vaccine_authorizations_admin",
                        "Polio Vaccine Authorizations Admin",
                    ),
                    (
                        "iaso_polio_vaccine_authorizations_read_only",
                        "Polio Vaccine Authorizations Read Only",
                    ),
                    (
                        "iaso_polio_vaccine_stock_earmarks_admin",
                        "Polio Vaccine Stock Earmarks Admin",
                    ),
                    (
                        "iaso_polio_vaccine_stock_earmarks_nonadmin",
                        "Polio Vaccine Stock Earmarks Non Admin",
                    ),
                    (
                        "iaso_polio_vaccine_stock_earmarks_read_only",
                        "Polio Vaccine Stock Earmarks Read Only",
                    ),
                    (
                        "iaso_polio_vaccine_stock_management_read",
                        "Polio Vaccine Stock Management Read",
                    ),
                    (
                        "iaso_polio_vaccine_stock_management_read_only",
                        "Polio Vaccine Stock Management Read Only",
                    ),
                    (
                        "iaso_polio_vaccine_stock_management_write",
                        "Polio Vaccine Stock Management Write",
                    ),
                    (
                        "iaso_polio_vaccine_supply_chain_read",
                        "Polio Vaccine Supply Chain Read",
                    ),
                    (
                        "iaso_polio_vaccine_supply_chain_read_only",
                        "Polio Vaccine Supply Chain Read Only",
                    ),
                    (
                        "iaso_polio_vaccine_supply_chain_write",
                        "Polio Vaccine Supply Chain Write",
                    ),
                ),
                "managed": False,
                "default_permissions": [],
            },
        ),
        migrations.CreateModel(
            name="BudgetEvent",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "deleted_at",
                    models.DateTimeField(blank=True, default=None, null=True),
                ),
                (
                    "type",
                    models.CharField(
                        choices=[
                            ("submission", "Budget Submission"),
                            ("comments", "Comments"),
                            ("validation", "Approval"),
                            ("request", "Request"),
                            ("feedback", "Feedback"),
                            ("review", "Review"),
                            ("transmission", "Transmission"),
                        ],
                        max_length=200,
                    ),
                ),
                ("internal", models.BooleanField(default=False)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("validation_ongoing", "Validation Ongoing"),
                            ("validated", "Validated"),
                        ],
                        default="validation_ongoing",
                        max_length=200,
                        null=True,
                    ),
                ),
                ("cc_emails", models.CharField(blank=True, max_length=200, null=True)),
                ("comment", models.TextField(blank=True, null=True)),
                ("links", models.TextField(blank=True, null=True)),
                ("is_finalized", models.BooleanField(default=False)),
                ("is_email_sent", models.BooleanField(default=False)),
                (
                    "amount",
                    models.DecimalField(blank=True, decimal_places=2, max_digits=14, null=True),
                ),
                (
                    "author",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "abstract": False,
            },
        ),
        migrations.CreateModel(
            name="BudgetProcess",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "deleted_at",
                    models.DateTimeField(blank=True, default=None, null=True),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                ("status", models.CharField(blank=True, max_length=100, null=True)),
                ("current_state_key", models.CharField(default="-", max_length=100)),
                ("current_state_label", models.CharField(blank=True, max_length=100)),
                ("ra_completed_at_WFEDITABLE", models.DateField(blank=True, null=True)),
                (
                    "who_sent_budget_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "unicef_sent_budget_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "gpei_consolidated_budgets_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "submitted_to_rrt_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "feedback_sent_to_gpei_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "re_submitted_to_rrt_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "submitted_to_orpg_operations1_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "feedback_sent_to_rrt1_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "re_submitted_to_orpg_operations1_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "submitted_to_orpg_wider_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "submitted_to_orpg_operations2_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "feedback_sent_to_rrt2_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "re_submitted_to_orpg_operations2_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "submitted_for_approval_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "feedback_sent_to_orpg_operations_unicef_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "feedback_sent_to_orpg_operations_who_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "approved_by_who_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "approved_by_unicef_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                ("approved_at_WFEDITABLE", models.DateField(blank=True, null=True)),
                (
                    "approval_confirmed_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "payment_mode",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("DIRECT", "Direct"),
                            ("DFC", "DFC"),
                            ("MOBILE_PAYMENT", "Mobile Payment"),
                        ],
                        max_length=30,
                    ),
                ),
                ("district_count", models.IntegerField(blank=True, null=True)),
                (
                    "who_disbursed_to_co_at",
                    models.DateField(blank=True, null=True, verbose_name="Disbursed to CO (WHO)"),
                ),
                (
                    "who_disbursed_to_moh_at",
                    models.DateField(blank=True, null=True, verbose_name="Disbursed to MOH (WHO)"),
                ),
                (
                    "unicef_disbursed_to_co_at",
                    models.DateField(blank=True, null=True, verbose_name="Disbursed to CO (UNICEF)"),
                ),
                (
                    "unicef_disbursed_to_moh_at",
                    models.DateField(blank=True, null=True, verbose_name="Disbursed to MOH (UNICEF)"),
                ),
                (
                    "no_regret_fund_amount",
                    models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Budget Process",
                "verbose_name_plural": "Budget Processes",
            },
        ),
        migrations.CreateModel(
            name="BudgetStep",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "deleted_at",
                    models.DateTimeField(blank=True, default=None, null=True),
                ),
                ("transition_key", models.CharField(max_length=100)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                ("comment", models.TextField(blank=True, null=True)),
                (
                    "amount",
                    models.DecimalField(blank=True, decimal_places=2, max_digits=14, null=True),
                ),
                ("is_email_sent", models.BooleanField(default=False)),
                (
                    "node_key_from",
                    models.CharField(blank=True, max_length=100, null=True),
                ),
                (
                    "node_key_to",
                    models.CharField(blank=True, max_length=100, null=True),
                ),
                (
                    "budget_process",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="budget_steps",
                        to="polio.budgetprocess",
                    ),
                ),
            ],
            options={
                "ordering": ["-updated_at"],
            },
        ),
        migrations.CreateModel(
            name="Campaign",
            fields=[
                (
                    "deleted_at",
                    models.DateTimeField(blank=True, default=None, null=True),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "epid",
                    models.CharField(blank=True, default=None, max_length=255, null=True),
                ),
                ("obr_name", models.CharField(max_length=255, unique=True)),
                (
                    "is_preventive",
                    models.BooleanField(default=False, help_text="Preventive campaign"),
                ),
                ("is_test", models.BooleanField(default=False)),
                ("on_hold", models.BooleanField(default=False)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "gpei_coordinator",
                    models.CharField(blank=True, max_length=255, null=True),
                ),
                (
                    "gpei_email",
                    models.EmailField(blank=True, max_length=254, null=True),
                ),
                ("description", models.TextField(blank=True, null=True)),
                ("separate_scopes_per_round", models.BooleanField(default=False)),
                (
                    "enable_send_weekly_email",
                    models.BooleanField(
                        default=False,
                        help_text="Activate the sending of a reminder email every week.",
                    ),
                ),
                (
                    "geojson",
                    models.JSONField(
                        blank=True,
                        editable=False,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        help_text="GeoJson representing the scope of the campaign",
                        null=True,
                    ),
                ),
                (
                    "creation_email_send_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="When and if we sent an email for creation",
                        null=True,
                    ),
                ),
                (
                    "onset_at",
                    models.DateField(blank=True, help_text="When the campaign starts", null=True),
                ),
                (
                    "outbreak_declaration_date",
                    models.DateField(blank=True, null=True, verbose_name="Outbreak declaration date"),
                ),
                (
                    "cvdpv2_notified_at",
                    models.DateField(blank=True, null=True, verbose_name="cVDPV2 Notification"),
                ),
                (
                    "pv_notified_at",
                    models.DateField(blank=True, null=True, verbose_name="PV Notification"),
                ),
                (
                    "pv2_notified_at",
                    models.DateField(blank=True, null=True, verbose_name="PV2 Notification"),
                ),
                (
                    "virus",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("PV1", "PV1"),
                            ("PV2", "PV2"),
                            ("PV3", "PV3"),
                            ("cVDPV2", "cVDPV2"),
                            ("WPV1", "WPV1"),
                            ("PV1 & cVDPV2", "PV1 & cVDPV2"),
                            ("cVDPV1 & cVDPV2", "cVDPV1 & cVDPV2"),
                        ],
                        max_length=15,
                        null=True,
                    ),
                ),
                (
                    "detection_status",
                    models.CharField(
                        choices=[
                            ("PENDING", "Pending"),
                            ("ONGOING", "Ongoing"),
                            ("FINISHED", "Finished"),
                        ],
                        default="PENDING",
                        max_length=10,
                    ),
                ),
                (
                    "detection_responsible",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("WHO", "WHO"),
                            ("UNICEF", "UNICEF"),
                            ("NAT", "National"),
                            ("MOH", "MOH"),
                            ("PROV", "PROVINCE"),
                            ("DIST", "District"),
                        ],
                        max_length=10,
                        null=True,
                    ),
                ),
                (
                    "detection_first_draft_submitted_at",
                    models.DateField(blank=True, null=True, verbose_name="1st Draft Submission"),
                ),
                (
                    "risk_assessment_status",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("APPROVED", "Approved"),
                            ("TO_SUBMIT", "To Submit"),
                            ("SUBMITTED", "Submitted"),
                            ("REVIEWED", "Reviewed by RRT"),
                        ],
                        max_length=10,
                        null=True,
                    ),
                ),
                (
                    "risk_assessment_responsible",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("WHO", "WHO"),
                            ("UNICEF", "UNICEF"),
                            ("NAT", "National"),
                            ("MOH", "MOH"),
                            ("PROV", "PROVINCE"),
                            ("DIST", "District"),
                        ],
                        max_length=10,
                        null=True,
                    ),
                ),
                (
                    "investigation_at",
                    models.DateField(blank=True, null=True, verbose_name="Field Investigation Date"),
                ),
                (
                    "risk_assessment_first_draft_submitted_at",
                    models.DateField(blank=True, null=True, verbose_name="1st Draft Submission"),
                ),
                (
                    "risk_assessment_rrt_oprtt_approval_at",
                    models.DateField(blank=True, null=True, verbose_name="RRT/OPRTT Approval"),
                ),
                (
                    "ag_nopv_group_met_at",
                    models.DateField(blank=True, null=True, verbose_name="AG/nOPV Group"),
                ),
                (
                    "dg_authorized_at",
                    models.DateField(blank=True, null=True, verbose_name="DG Authorization"),
                ),
                ("verification_score", models.IntegerField(blank=True, null=True)),
                (
                    "budget_status",
                    models.CharField(blank=True, max_length=100, null=True),
                ),
                (
                    "budget_current_state_key",
                    models.CharField(default="-", max_length=100),
                ),
                (
                    "budget_current_state_label",
                    models.CharField(blank=True, max_length=100, null=True),
                ),
                ("ra_completed_at_WFEDITABLE", models.DateField(blank=True, null=True)),
                (
                    "who_sent_budget_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "unicef_sent_budget_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "gpei_consolidated_budgets_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "submitted_to_rrt_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "feedback_sent_to_gpei_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "re_submitted_to_rrt_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "submitted_to_orpg_operations1_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "feedback_sent_to_rrt1_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "re_submitted_to_orpg_operations1_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "submitted_to_orpg_wider_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "submitted_to_orpg_operations2_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "feedback_sent_to_rrt2_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "re_submitted_to_orpg_operations2_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "submitted_for_approval_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "feedback_sent_to_orpg_operations_unicef_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "feedback_sent_to_orpg_operations_who_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "approved_by_who_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "approved_by_unicef_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                ("approved_at_WFEDITABLE", models.DateField(blank=True, null=True)),
                (
                    "approval_confirmed_at_WFEDITABLE",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "who_disbursed_to_co_at",
                    models.DateField(blank=True, null=True, verbose_name="Disbursed to CO (WHO)"),
                ),
                (
                    "who_disbursed_to_moh_at",
                    models.DateField(blank=True, null=True, verbose_name="Disbursed to MOH (WHO)"),
                ),
                (
                    "unicef_disbursed_to_co_at",
                    models.DateField(blank=True, null=True, verbose_name="Disbursed to CO (UNICEF)"),
                ),
                (
                    "unicef_disbursed_to_moh_at",
                    models.DateField(blank=True, null=True, verbose_name="Disbursed to MOH (UNICEF)"),
                ),
                (
                    "no_regret_fund_amount",
                    models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True),
                ),
                (
                    "payment_mode",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("DIRECT", "Direct"),
                            ("DFC", "DFC"),
                            ("MOBILE_PAYMENT", "Mobile Payment"),
                        ],
                        max_length=30,
                        null=True,
                    ),
                ),
                ("district_count", models.IntegerField(blank=True, null=True)),
                (
                    "account",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="campaigns",
                        to="iaso.account",
                    ),
                ),
            ],
            options={
                "ordering": ["obr_name"],
            },
        ),
        migrations.CreateModel(
            name="CampaignType",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=100, unique=True)),
                ("slug", models.SlugField(blank=True, max_length=100, unique=True)),
            ],
        ),
        migrations.CreateModel(
            name="Chronogram",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "deleted_at",
                    models.DateTimeField(blank=True, default=None, null=True),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="created_chronograms",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Chronogram",
            },
        ),
        migrations.CreateModel(
            name="MailTemplate",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("slug", models.SlugField(unique=True)),
                (
                    "subject_template",
                    models.TextField(
                        default="Budget for campaign {{campaign.obr_name}} updated to {{node.label}}",
                        help_text="Template for the Email subject, use the Django Template language, see https://docs.djangoproject.com/en/4.1/ref/templates/language/ for reference. Please keep it as one line.",
                        validators=[plugins.polio.budget.models.validator_template],
                    ),
                ),
                (
                    "html_template",
                    models.TextField(
                        help_text="HTML Template for the Email body, use the Django Template language, see https://docs.djangoproject.com/en/4.1/ref/templates/language/ for reference",
                        validators=[plugins.polio.budget.models.validator_template],
                    ),
                ),
                (
                    "text_template",
                    models.TextField(
                        help_text="Plain text Template for the Email body, use the Django Template language, see https://docs.djangoproject.com/en/4.1/ref/templates/language/ for reference",
                        validators=[plugins.polio.budget.models.validator_template],
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name="ReasonForDelay",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "deleted_at",
                    models.DateTimeField(blank=True, default=None, null=True),
                ),
                (
                    "name_fr",
                    models.CharField(blank=True, max_length=200, verbose_name="name"),
                ),
                ("name_en", models.CharField(max_length=200, verbose_name="name")),
                (
                    "key_name",
                    models.CharField(
                        blank=True,
                        max_length=200,
                        validators=[django.core.validators.RegexValidator("^[A-Z_]+$")],
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "account",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="reasons_for_delay",
                        to="iaso.account",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="Round",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("started_at", models.DateField(blank=True, null=True)),
                ("number", models.IntegerField(blank=True, null=True)),
                ("ended_at", models.DateField(blank=True, null=True)),
                ("age_min", models.IntegerField(blank=True, null=True)),
                ("age_max", models.IntegerField(blank=True, null=True)),
                (
                    "age_type",
                    models.TextField(
                        blank=True,
                        choices=[("YEARS", "years"), ("MONTHS", "months")],
                        null=True,
                    ),
                ),
                ("mop_up_started_at", models.DateField(blank=True, null=True)),
                ("mop_up_ended_at", models.DateField(blank=True, null=True)),
                ("im_started_at", models.DateField(blank=True, null=True)),
                ("im_ended_at", models.DateField(blank=True, null=True)),
                ("lqas_started_at", models.DateField(blank=True, null=True)),
                ("lqas_ended_at", models.DateField(blank=True, null=True)),
                ("target_population", models.IntegerField(blank=True, null=True)),
                ("doses_requested", models.IntegerField(blank=True, null=True)),
                (
                    "cost",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        default=0.0,
                        max_digits=10,
                        null=True,
                    ),
                ),
                (
                    "im_percentage_children_missed_in_household",
                    models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True),
                ),
                (
                    "im_percentage_children_missed_out_household",
                    models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True),
                ),
                (
                    "im_percentage_children_missed_in_plus_out_household",
                    models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True),
                ),
                (
                    "awareness_of_campaign_planning",
                    models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True),
                ),
                (
                    "main_awareness_problem",
                    models.CharField(blank=True, max_length=255, null=True),
                ),
                ("lqas_district_passing", models.IntegerField(blank=True, null=True)),
                ("lqas_district_failing", models.IntegerField(blank=True, null=True)),
                ("on_hold", models.BooleanField(default=False)),
                (
                    "preparedness_spreadsheet_url",
                    models.URLField(blank=True, null=True),
                ),
                (
                    "preparedness_sync_status",
                    models.CharField(
                        choices=[
                            ("QUEUED", "Queued"),
                            ("ONGOING", "Ongoing"),
                            ("FAILURE", "Failed"),
                            ("FINISHED", "Finished"),
                        ],
                        default="FINISHED",
                        max_length=10,
                    ),
                ),
                ("date_signed_vrf_received", models.DateField(blank=True, null=True)),
                ("date_destruction", models.DateField(blank=True, null=True)),
                ("vials_destroyed", models.IntegerField(blank=True, null=True)),
                (
                    "reporting_delays_hc_to_district",
                    models.IntegerField(blank=True, null=True),
                ),
                (
                    "reporting_delays_district_to_region",
                    models.IntegerField(blank=True, null=True),
                ),
                (
                    "reporting_delays_region_to_national",
                    models.IntegerField(blank=True, null=True),
                ),
                ("forma_reception", models.DateField(blank=True, null=True)),
                ("forma_missing_vials", models.IntegerField(blank=True, null=True)),
                ("forma_usable_vials", models.IntegerField(blank=True, null=True)),
                ("forma_unusable_vials", models.IntegerField(blank=True, null=True)),
                ("forma_date", models.DateField(blank=True, null=True)),
                ("forma_comment", models.TextField(blank=True, null=True)),
                (
                    "percentage_covered_target_population",
                    models.IntegerField(blank=True, null=True),
                ),
                (
                    "budget_process",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="rounds",
                        to="polio.budgetprocess",
                    ),
                ),
                (
                    "campaign",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="rounds",
                        to="polio.campaign",
                    ),
                ),
            ],
            options={
                "ordering": ["number", "started_at"],
            },
        ),
        migrations.CreateModel(
            name="SpreadSheetImport",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("url", models.URLField()),
                ("content", models.JSONField()),
                ("spread_id", models.CharField(db_index=True, max_length=60)),
            ],
        ),
        migrations.CreateModel(
            name="SubActivity",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=255)),
                (
                    "age_unit",
                    models.CharField(
                        blank=True,
                        choices=[("m", "Months"), ("y", "Years")],
                        max_length=3,
                        null=True,
                    ),
                ),
                ("age_min", models.IntegerField(blank=True, null=True)),
                ("age_max", models.IntegerField(blank=True, null=True)),
                ("start_date", models.DateField(blank=True, null=True)),
                ("end_date", models.DateField(blank=True, null=True)),
                ("im_started_at", models.DateField(blank=True, null=True)),
                ("im_ended_at", models.DateField(blank=True, null=True)),
                ("lqas_started_at", models.DateField(blank=True, null=True)),
                ("lqas_ended_at", models.DateField(blank=True, null=True)),
                (
                    "round",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="sub_activities",
                        to="polio.round",
                    ),
                ),
            ],
            options={
                "verbose_name_plural": "subactivities",
            },
        ),
        migrations.CreateModel(
            name="VaccineStock",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "vaccine",
                    models.CharField(
                        choices=[
                            ("mOPV2", "mOPV2"),
                            ("nOPV2", "nOPV2"),
                            ("bOPV", "bOPV"),
                            ("nOPV2 & bOPV", "nOPV2 & bOPV"),
                        ],
                        max_length=12,
                    ),
                ),
                (
                    "account",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="vaccine_stocks",
                        to="iaso.account",
                    ),
                ),
                (
                    "country",
                    models.ForeignKey(
                        blank=True,
                        help_text="Unique (Country, Vaccine) pair",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="vaccine_stocks",
                        to="iaso.orgunit",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="WorkflowModel",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                ("definition", models.JSONField()),
            ],
        ),
        migrations.CreateModel(
            name="VaccineRequestForm",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "deleted_at",
                    models.DateTimeField(blank=True, default=None, null=True),
                ),
                ("file_last_scan", models.DateTimeField(blank=True, null=True)),
                (
                    "file_scan_status",
                    models.CharField(
                        choices=[
                            ("CLEAN", "Clean"),
                            ("PENDING", "Pending"),
                            ("INFECTED", "Infected"),
                            ("ERROR", "Error"),
                        ],
                        default="PENDING",
                        max_length=10,
                    ),
                ),
                (
                    "file",
                    models.FileField(
                        blank=True,
                        null=True,
                        storage=plugins.polio.models.base.CustomPublicStorage(),
                        upload_to="public_documents/vrf/",
                    ),
                ),
                (
                    "vaccine_type",
                    models.CharField(
                        choices=[
                            ("mOPV2", "mOPV2"),
                            ("nOPV2", "nOPV2"),
                            ("bOPV", "bOPV"),
                        ],
                        max_length=30,
                    ),
                ),
                ("date_vrf_signature", models.DateField(blank=True, null=True)),
                ("date_vrf_reception", models.DateField(blank=True, null=True)),
                ("date_dg_approval", models.DateField(blank=True, null=True)),
                (
                    "quantities_ordered_in_doses",
                    models.PositiveIntegerField(blank=True, default=0, null=True),
                ),
                (
                    "vrf_type",
                    models.CharField(
                        choices=[
                            ("Normal", "Normal"),
                            ("Missing", "Missing"),
                            ("Not Required", "Not Required"),
                        ],
                        default="Normal",
                        max_length=20,
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "wastage_rate_used_on_vrf",
                    models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True),
                ),
                (
                    "date_vrf_submission_to_orpg",
                    models.DateField(blank=True, null=True),
                ),
                (
                    "quantities_approved_by_orpg_in_doses",
                    models.PositiveIntegerField(blank=True, null=True),
                ),
                ("date_rrt_orpg_approval", models.DateField(blank=True, null=True)),
                ("date_vrf_submitted_to_dg", models.DateField(blank=True, null=True)),
                (
                    "quantities_approved_by_dg_in_doses",
                    models.PositiveIntegerField(blank=True, null=True),
                ),
                ("comment", models.TextField(blank=True, null=True)),
                (
                    "target_population",
                    models.PositiveIntegerField(blank=True, null=True),
                ),
                (
                    "campaign",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="polio.campaign"),
                ),
                ("rounds", models.ManyToManyField(db_index=True, to="polio.round")),
            ],
        ),
        migrations.CreateModel(
            name="VaccinePreAlert",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("file_last_scan", models.DateTimeField(blank=True, null=True)),
                (
                    "file_scan_status",
                    models.CharField(
                        choices=[
                            ("CLEAN", "Clean"),
                            ("PENDING", "Pending"),
                            ("INFECTED", "Infected"),
                            ("ERROR", "Error"),
                        ],
                        default="PENDING",
                        max_length=10,
                    ),
                ),
                (
                    "file",
                    models.FileField(
                        blank=True,
                        null=True,
                        storage=plugins.polio.models.base.CustomPublicStorage(),
                        upload_to="public_documents/prealert/",
                    ),
                ),
                ("date_pre_alert_reception", models.DateField()),
                (
                    "po_number",
                    models.CharField(blank=True, default=None, max_length=200, null=True, unique=True),
                ),
                (
                    "estimated_arrival_time",
                    models.DateField(blank=True, default=None, null=True),
                ),
                (
                    "lot_numbers",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(blank=True, max_length=200),
                        default=list,
                        size=None,
                    ),
                ),
                (
                    "expiration_date",
                    models.DateField(blank=True, default=None, null=True),
                ),
                (
                    "doses_shipped",
                    models.PositiveIntegerField(blank=True, default=None, null=True),
                ),
                (
                    "doses_per_vial",
                    models.PositiveIntegerField(blank=True, default=None, null=True),
                ),
                (
                    "vials_shipped",
                    models.PositiveIntegerField(blank=True, default=None, null=True),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "request_form",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="polio.vaccinerequestform",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="VaccineAuthorization",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "deleted_at",
                    models.DateTimeField(blank=True, default=None, null=True),
                ),
                ("start_date", models.DateField(blank=True, null=True)),
                ("expiration_date", models.DateField()),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                ("quantity", models.IntegerField(blank=True, null=True)),
                (
                    "status",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("ONGOING", "Ongoing"),
                            ("VALIDATED", "Validated"),
                            ("SIGNATURE", "Sent for signature"),
                            ("EXPIRED", "Expired"),
                        ],
                        max_length=200,
                        null=True,
                    ),
                ),
                ("comment", models.TextField(blank=True, max_length=250, null=True)),
                (
                    "account",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.DO_NOTHING,
                        related_name="vaccineauthorization",
                        to="iaso.account",
                    ),
                ),
                (
                    "country",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="vaccineauthorization",
                        to="iaso.orgunit",
                    ),
                ),
            ],
            options={
                "abstract": False,
            },
        ),
        migrations.CreateModel(
            name="VaccineArrivalReport",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("arrival_report_date", models.DateField()),
                ("doses_received", models.PositiveIntegerField()),
                (
                    "po_number",
                    models.CharField(blank=True, default=None, max_length=200, null=True, unique=True),
                ),
                (
                    "lot_numbers",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(blank=True, max_length=200),
                        default=list,
                        size=None,
                    ),
                ),
                (
                    "expiration_date",
                    models.DateField(blank=True, default=None, null=True),
                ),
                (
                    "doses_shipped",
                    models.PositiveIntegerField(blank=True, default=None, null=True),
                ),
                (
                    "doses_per_vial",
                    models.PositiveIntegerField(blank=True, default=None, null=True),
                ),
                (
                    "vials_shipped",
                    models.PositiveIntegerField(blank=True, default=None, null=True),
                ),
                (
                    "vials_received",
                    models.PositiveIntegerField(blank=True, default=None, null=True),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "request_form",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="polio.vaccinerequestform",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="URLCache",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("url", models.URLField(unique=True)),
                ("content", models.TextField()),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="SubActivityScope",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "vaccine",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("mOPV2", "mOPV2"),
                            ("nOPV2", "nOPV2"),
                            ("bOPV", "bOPV"),
                            ("nOPV2 & bOPV", "nOPV2 & bOPV"),
                        ],
                        max_length=12,
                    ),
                ),
                (
                    "group",
                    models.OneToOneField(
                        default=plugins.polio.models.base.make_group_subactivity_scope,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="subactivityScope",
                        to="iaso.group",
                    ),
                ),
                (
                    "subactivity",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="scopes",
                        to="polio.subactivity",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="RoundScope",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "vaccine",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("mOPV2", "mOPV2"),
                            ("nOPV2", "nOPV2"),
                            ("bOPV", "bOPV"),
                            ("nOPV2 & bOPV", "nOPV2 & bOPV"),
                        ],
                        max_length=12,
                    ),
                ),
                (
                    "group",
                    models.OneToOneField(
                        default=plugins.polio.models.base.make_group_round_scope,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="roundScope",
                        to="iaso.group",
                    ),
                ),
                (
                    "round",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="scopes",
                        to="polio.round",
                    ),
                ),
            ],
            options={
                "ordering": ["round", "vaccine"],
            },
        ),
        migrations.CreateModel(
            name="RoundDateHistoryEntry",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("previous_started_at", models.DateField(blank=True, null=True)),
                ("previous_ended_at", models.DateField(blank=True, null=True)),
                ("started_at", models.DateField(blank=True, null=True)),
                ("ended_at", models.DateField(blank=True, null=True)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                (
                    "modified_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.PROTECT,
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "reason_for_delay",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="round_history_entries",
                        to="polio.reasonfordelay",
                    ),
                ),
                (
                    "round",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="datelogs",
                        to="polio.round",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="Preparedness",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                ("spreadsheet_url", models.URLField()),
                (
                    "national_score",
                    models.DecimalField(decimal_places=2, max_digits=10, verbose_name="National Score"),
                ),
                (
                    "regional_score",
                    models.DecimalField(decimal_places=2, max_digits=10, verbose_name="Regional Score"),
                ),
                (
                    "district_score",
                    models.DecimalField(decimal_places=2, max_digits=10, verbose_name="District Score"),
                ),
                ("payload", models.JSONField()),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                (
                    "campaign",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="polio.campaign"),
                ),
            ],
        ),
        migrations.CreateModel(
            name="OutgoingStockMovement",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("file_last_scan", models.DateTimeField(blank=True, null=True)),
                (
                    "file_scan_status",
                    models.CharField(
                        choices=[
                            ("CLEAN", "Clean"),
                            ("PENDING", "Pending"),
                            ("INFECTED", "Infected"),
                            ("ERROR", "Error"),
                        ],
                        default="PENDING",
                        max_length=10,
                    ),
                ),
                (
                    "file",
                    models.FileField(
                        blank=True,
                        null=True,
                        storage=plugins.polio.models.base.CustomPublicStorage(),
                        upload_to="public_documents/forma/",
                    ),
                ),
                ("report_date", models.DateField()),
                ("form_a_reception_date", models.DateField()),
                ("usable_vials_used", models.PositiveIntegerField()),
                (
                    "lot_numbers",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(blank=True, max_length=200),
                        default=list,
                        size=None,
                    ),
                ),
                ("comment", models.TextField(blank=True, null=True)),
                ("non_obr_name", models.CharField(blank=True)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "campaign",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        to="polio.campaign",
                    ),
                ),
                (
                    "round",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        to="polio.round",
                    ),
                ),
                (
                    "vaccine_stock",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="polio.vaccinestock",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="NotificationImport",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("file_last_scan", models.DateTimeField(blank=True, null=True)),
                (
                    "file_scan_status",
                    models.CharField(
                        choices=[
                            ("CLEAN", "Clean"),
                            ("PENDING", "Pending"),
                            ("INFECTED", "Infected"),
                            ("ERROR", "Error"),
                        ],
                        default="PENDING",
                        max_length=10,
                    ),
                ),
                (
                    "file",
                    models.FileField(upload_to="uploads/polio_notifications/%Y-%m-%d-%H-%M/"),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("new", "New"),
                            ("pending", "Pending"),
                            ("done", "Done"),
                        ],
                        default="new",
                        max_length=10,
                    ),
                ),
                (
                    "errors",
                    models.JSONField(
                        blank=True,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        null=True,
                    ),
                ),
                ("created_at", models.DateTimeField(default=django.utils.timezone.now)),
                ("updated_at", models.DateTimeField(blank=True, null=True)),
                (
                    "account",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="iaso.account"),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="polio_notification_import_created_set",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Notification import",
            },
        ),
        migrations.CreateModel(
            name="Notification",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("epid_number", models.CharField(max_length=50, unique=True)),
                (
                    "vdpv_category",
                    models.CharField(
                        choices=[
                            ("avdpv", "aVDPV"),
                            ("cvdpv1", "cVDPV1"),
                            ("cvdpv2", "cVDPV2"),
                            ("nopv2", "nOPV2"),
                            ("sabin", "Sabin"),
                            ("sabin1", "SABIN 1"),
                            ("sabin2", "SABIN 2"),
                            ("sabin3", "SABIN 3"),
                            ("vdpv", "VDPV"),
                            ("vdpv1", "VDPV1"),
                            ("vdpv2", "VDPV2"),
                            ("vdpv3", "VDPV3"),
                            ("vpv2", "VPV2"),
                            ("wpv1", "WPV1"),
                        ],
                        default="avdpv",
                        max_length=20,
                    ),
                ),
                (
                    "source",
                    models.CharField(
                        choices=[
                            ("accute_flaccid_paralysis", "Accute Flaccid Paralysis"),
                            ("contact_case", "Contact Case"),
                            ("community", "Community"),
                            ("contact", "Contact"),
                            ("environmental", "Environmental"),
                            ("healthy_children", "Healthy Children"),
                            ("other", "Other"),
                        ],
                        default="accute_flaccid_paralysis",
                        max_length=50,
                    ),
                ),
                (
                    "vdpv_nucleotide_diff_sabin2",
                    models.CharField(blank=True, max_length=10),
                ),
                ("lineage", models.CharField(blank=True, max_length=150)),
                ("closest_match_vdpv2", models.CharField(blank=True, max_length=150)),
                ("date_of_onset", models.DateField(blank=True, null=True)),
                ("date_results_received", models.DateField(blank=True, null=True)),
                ("site_name", models.CharField(blank=True, max_length=255)),
                ("created_at", models.DateTimeField(default=django.utils.timezone.now)),
                ("updated_at", models.DateTimeField(blank=True, null=True)),
                (
                    "import_raw_data",
                    models.JSONField(
                        blank=True,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        null=True,
                    ),
                ),
                (
                    "account",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="iaso.account"),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="polio_notification_created_set",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "import_source",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="polio.notificationimport",
                    ),
                ),
                (
                    "org_unit",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="polio_notifications",
                        to="iaso.orgunit",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="polio_notification_updated_set",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Notification",
            },
        ),
        migrations.CreateModel(
            name="LqasRoundData",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("lqas_failed", models.IntegerField()),
                ("lqas_passed", models.IntegerField()),
                ("lqas_no_data", models.IntegerField()),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("1lqasOK", "1lqasOK"),
                            ("2lqasDisqualified", "2lqasDisqualified"),
                            ("3lqaspoor", "3lqaspoor"),
                            ("3lqasverypoor", "3lqasverypoor"),
                            ("3lqasFail", "3lqasFail"),
                            ("3lqasmoderate", "3lqasmoderate"),
                            ("3lqasundersampled", "3lqasundersampled"),
                            ("3lqasoversampled", "3lqasoversampled"),
                            ("inScope", "inScope"),
                        ],
                        default="inScope",
                        max_length=20,
                    ),
                ),
                ("nfm_other", models.IntegerField()),
                ("nfm_child_absent", models.IntegerField()),
                ("nfm_non_compliance", models.IntegerField()),
                ("nfm_child_was_asleep", models.IntegerField()),
                ("nfm_house_not_visited", models.IntegerField()),
                ("nfm_child_is_a_visitor", models.IntegerField()),
                ("nfm_vaccinated_but_not_fm", models.IntegerField()),
                ("abs_farm", models.IntegerField()),
                ("abs_other", models.IntegerField()),
                ("abs_market", models.IntegerField()),
                ("abs_school", models.IntegerField()),
                ("abs_travelled", models.IntegerField()),
                ("abs_in_playground", models.IntegerField()),
                ("abs_unknown", models.IntegerField()),
                (
                    "round",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="polio.round"),
                ),
                (
                    "subactivity",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        to="polio.subactivity",
                    ),
                ),
            ],
            options={
                "verbose_name": "LQAS Round Data",
                "verbose_name_plural": "LQAS Round Data",
            },
        ),
        migrations.CreateModel(
            name="LqasDistrictData",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("total_children_fmd", models.IntegerField()),
                ("total_children_checked", models.IntegerField()),
                ("total_sites_visited", models.IntegerField()),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("1lqasOK", "1lqasOK"),
                            ("2lqasDisqualified", "2lqasDisqualified"),
                            ("3lqaspoor", "3lqaspoor"),
                            ("3lqasverypoor", "3lqasverypoor"),
                            ("3lqasFail", "3lqasFail"),
                            ("3lqasmoderate", "3lqasmoderate"),
                            ("3lqasundersampled", "3lqasundersampled"),
                            ("3lqasoversampled", "3lqasoversampled"),
                            ("inScope", "inScope"),
                        ],
                        default="inScope",
                        max_length=20,
                    ),
                ),
                ("cg_ratio", models.FloatField(blank=True, null=True)),
                ("cg_best_info_source", models.CharField(blank=True)),
                ("cg_best_info_ratio", models.FloatField(blank=True, null=True)),
                ("cg_caregivers_informed", models.IntegerField(blank=True, null=True)),
                (
                    "cg_caregivers_informed_ratio",
                    models.FloatField(blank=True, null=True),
                ),
                (
                    "district",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="iaso.orgunit"),
                ),
                (
                    "round",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="polio.round"),
                ),
                (
                    "subactivity",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        to="polio.subactivity",
                    ),
                ),
            ],
            options={
                "verbose_name": "LQAS Entry",
                "verbose_name_plural": "LQAS Entries",
            },
        ),
        migrations.CreateModel(
            name="IncidentReport",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("file_last_scan", models.DateTimeField(blank=True, null=True)),
                (
                    "file_scan_status",
                    models.CharField(
                        choices=[
                            ("CLEAN", "Clean"),
                            ("PENDING", "Pending"),
                            ("INFECTED", "Infected"),
                            ("ERROR", "Error"),
                        ],
                        default="PENDING",
                        max_length=10,
                    ),
                ),
                (
                    "file",
                    models.FileField(
                        blank=True,
                        null=True,
                        storage=plugins.polio.models.base.CustomPublicStorage(),
                        upload_to="public_documents/incidentreport/",
                    ),
                ),
                (
                    "stock_correction",
                    models.CharField(
                        choices=[
                            (
                                "vvm_reached_discard_point",
                                "VVM reached the discard point",
                            ),
                            ("vaccine_expired", "Vaccine expired"),
                            ("missing", "Missing"),
                            ("return", "Return"),
                            ("stealing", "Stealing"),
                            ("physical_inventory_add", "Add to Physical Inventory"),
                            (
                                "physical_inventory_remove",
                                "remove from Physical Inventory",
                            ),
                            ("broken", "Broken"),
                            ("unreadable_label", "Unreadable label"),
                        ],
                        default="vvm_reached_discard_point",
                        max_length=50,
                    ),
                ),
                ("title", models.CharField(max_length=255, null=True)),
                ("comment", models.TextField(blank=True, null=True)),
                ("date_of_incident_report", models.DateField()),
                ("incident_report_received_by_rrt", models.DateField()),
                ("unusable_vials", models.PositiveIntegerField()),
                ("usable_vials", models.PositiveIntegerField()),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "vaccine_stock",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="polio.vaccinestock",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="EarmarkedStock",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "earmarked_stock_type",
                    models.CharField(
                        choices=[
                            ("created", "Created"),
                            ("used", "Used"),
                            ("returned", "Returned"),
                        ],
                        default="created",
                        max_length=20,
                    ),
                ),
                (
                    "temporary_campaign_name",
                    models.CharField(blank=True, max_length=255),
                ),
                ("vials_earmarked", models.PositiveIntegerField()),
                ("doses_earmarked", models.PositiveIntegerField()),
                ("comment", models.TextField(blank=True)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "campaign",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        to="polio.campaign",
                    ),
                ),
                (
                    "form_a",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="earmarked_stocks",
                        to="polio.outgoingstockmovement",
                    ),
                ),
                (
                    "round",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        to="polio.round",
                    ),
                ),
                (
                    "vaccine_stock",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="earmarked_stocks",
                        to="polio.vaccinestock",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="DestructionReport",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("file_last_scan", models.DateTimeField(blank=True, null=True)),
                (
                    "file_scan_status",
                    models.CharField(
                        choices=[
                            ("CLEAN", "Clean"),
                            ("PENDING", "Pending"),
                            ("INFECTED", "Infected"),
                            ("ERROR", "Error"),
                        ],
                        default="PENDING",
                        max_length=10,
                    ),
                ),
                (
                    "file",
                    models.FileField(
                        blank=True,
                        null=True,
                        storage=plugins.polio.models.base.CustomPublicStorage(),
                        upload_to="public_documents/destructionreport/",
                    ),
                ),
                ("action", models.TextField()),
                ("rrt_destruction_report_reception_date", models.DateField()),
                ("destruction_report_date", models.DateField()),
                ("unusable_vials_destroyed", models.PositiveIntegerField()),
                (
                    "lot_numbers",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(blank=True, max_length=200),
                        default=list,
                        size=None,
                    ),
                ),
                ("comment", models.TextField(blank=True, null=True)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "vaccine_stock",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="polio.vaccinestock",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="CountryUsersGroup",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "language",
                    models.CharField(
                        choices=[
                            ("FR", "Franais"),
                            ("EN", "English"),
                            ("PT", "Portugus"),
                        ],
                        default="EN",
                        max_length=32,
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "country",
                    models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to="iaso.orgunit"),
                ),
                (
                    "teams",
                    models.ManyToManyField(
                        blank=True,
                        help_text="Teams used by the country",
                        to="iaso.team",
                    ),
                ),
                (
                    "users",
                    models.ManyToManyField(blank=True, to=settings.AUTH_USER_MODEL),
                ),
            ],
        ),
        migrations.CreateModel(
            name="ChronogramTemplateTask",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "deleted_at",
                    models.DateTimeField(blank=True, default=None, null=True),
                ),
                (
                    "period",
                    models.CharField(
                        choices=[
                            ("BEFORE", "Before"),
                            ("DURING", "During"),
                            ("AFTER", "After"),
                        ],
                        default="BEFORE",
                        max_length=15,
                    ),
                ),
                (
                    "description_fr",
                    models.TextField(blank=True, max_length=300, verbose_name="description"),
                ),
                (
                    "description_en",
                    models.TextField(max_length=300, verbose_name="description"),
                ),
                ("start_offset_in_days", models.IntegerField(default=0)),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "account",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="iaso.account"),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="created_chronogram_templates",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="updated_chronogram_templates",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Chronogram Template Task",
            },
        ),
        migrations.CreateModel(
            name="ChronogramTask",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "deleted_at",
                    models.DateTimeField(blank=True, default=None, null=True),
                ),
                (
                    "period",
                    models.CharField(
                        choices=[
                            ("BEFORE", "Before"),
                            ("DURING", "During"),
                            ("AFTER", "After"),
                        ],
                        default="BEFORE",
                        max_length=15,
                    ),
                ),
                (
                    "description_fr",
                    models.TextField(blank=True, max_length=300, verbose_name="description"),
                ),
                (
                    "description_en",
                    models.TextField(max_length=300, verbose_name="description"),
                ),
                ("start_offset_in_days", models.IntegerField(default=0)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("PENDING", "Not started"),
                            ("IN_PROGRESS", "In progress"),
                            ("DONE", "Done"),
                            ("NON_APPLICABLE", "N/A"),
                        ],
                        default="PENDING",
                        max_length=15,
                    ),
                ),
                ("user_in_charge", models.CharField(blank=True, max_length=255)),
                ("comment", models.TextField(blank=True, max_length=300)),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "chronogram",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="tasks",
                        to="polio.chronogram",
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="created_chronogram_tasks",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="updated_chronogram_tasks",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Chronogram Task",
            },
        ),
        migrations.AddField(
            model_name="chronogram",
            name="round",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="chronograms",
                to="polio.round",
            ),
        ),
        migrations.AddField(
            model_name="chronogram",
            name="updated_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="updated_chronograms",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.CreateModel(
            name="CampaignScope",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "vaccine",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("mOPV2", "mOPV2"),
                            ("nOPV2", "nOPV2"),
                            ("bOPV", "bOPV"),
                            ("nOPV2 & bOPV", "nOPV2 & bOPV"),
                        ],
                        max_length=12,
                    ),
                ),
                (
                    "campaign",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="scopes",
                        to="polio.campaign",
                    ),
                ),
                (
                    "group",
                    models.OneToOneField(
                        default=plugins.polio.models.base.make_group_campaign_scope,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="campaignScope",
                        to="iaso.group",
                    ),
                ),
            ],
            options={
                "ordering": ["campaign", "vaccine"],
            },
        ),
        migrations.CreateModel(
            name="CampaignGroup",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "deleted_at",
                    models.DateTimeField(blank=True, default=None, null=True),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                ("name", models.CharField(max_length=200)),
                (
                    "campaigns",
                    models.ManyToManyField(related_name="grouped_campaigns", to="polio.campaign"),
                ),
            ],
            options={
                "abstract": False,
            },
        ),
        migrations.AddField(
            model_name="campaign",
            name="campaign_types",
            field=models.ManyToManyField(blank=True, related_name="campaigns", to="polio.campaigntype"),
        ),
        migrations.AddField(
            model_name="campaign",
            name="country",
            field=models.ForeignKey(
                blank=True,
                help_text="Country for campaign, set automatically from initial_org_unit",
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="campaigns_country",
                to="iaso.orgunit",
            ),
        ),
        migrations.AddField(
            model_name="campaign",
            name="group",
            field=models.ForeignKey(
                blank=True,
                default=None,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="campaigns",
                to="iaso.group",
            ),
        ),
        migrations.AddField(
            model_name="campaign",
            name="initial_org_unit",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="campaigns",
                to="iaso.orgunit",
            ),
        ),
        migrations.CreateModel(
            name="BudgetStepLink",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "deleted_at",
                    models.DateTimeField(blank=True, default=None, null=True),
                ),
                ("url", models.CharField(max_length=500)),
                ("alias", models.CharField(max_length=500)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                (
                    "step",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="links",
                        to="polio.budgetstep",
                    ),
                ),
            ],
            options={
                "verbose_name": "Budget Step Link",
                "verbose_name_plural": "Budget Step Link",
            },
        ),
        migrations.CreateModel(
            name="BudgetStepFile",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("file", models.FileField(upload_to="")),
                ("filename", models.CharField(blank=True, max_length=100, null=True)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "step",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="files",
                        to="polio.budgetstep",
                    ),
                ),
            ],
            options={
                "verbose_name": "Budget Step File",
                "verbose_name_plural": "Budget Step Files",
            },
        ),
        migrations.AddField(
            model_name="budgetstep",
            name="campaign",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.PROTECT,
                related_name="budget_steps",
                to="polio.campaign",
            ),
        ),
        migrations.AddField(
            model_name="budgetstep",
            name="created_by",
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name="budgetstep",
            name="created_by_team",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.PROTECT,
                to="iaso.team",
            ),
        ),
        migrations.CreateModel(
            name="BudgetFiles",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("file", models.FileField(upload_to="")),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "event",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="event_files",
                        to="polio.budgetevent",
                    ),
                ),
            ],
            options={
                "verbose_name": "Budget File",
                "verbose_name_plural": "Budget Files",
            },
        ),
        migrations.AddField(
            model_name="budgetevent",
            name="campaign",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="budget_events",
                to="polio.campaign",
            ),
        ),
        migrations.AddField(
            model_name="budgetevent",
            name="target_teams",
            field=models.ManyToManyField(to="iaso.team"),
        ),
        migrations.CreateModel(
            name="VaccineStockHistory",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("unusable_vials_in", models.IntegerField(null=True)),
                ("unusable_vials_out", models.IntegerField(null=True)),
                ("unusable_doses_in", models.IntegerField(null=True)),
                ("unusable_doses_out", models.IntegerField(null=True)),
                ("usable_vials_in", models.IntegerField(null=True)),
                ("usable_vials_out", models.IntegerField(null=True)),
                ("usable_doses_in", models.IntegerField(null=True)),
                ("usable_doses_out", models.IntegerField(null=True)),
                (
                    "round",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="stock_on_closing",
                        to="polio.round",
                    ),
                ),
                (
                    "vaccine_stock",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="history",
                        to="polio.vaccinestock",
                    ),
                ),
            ],
            options={
                "unique_together": {("round", "vaccine_stock")},
            },
        ),
        migrations.AddIndex(
            model_name="vaccinestock",
            index=models.Index(fields=["country", "vaccine"], name="polio_vacci_country_91274d_idx"),
        ),
        migrations.AddIndex(
            model_name="vaccinestock",
            index=models.Index(fields=["account"], name="polio_vacci_account_f1f77e_idx"),
        ),
        migrations.AlterUniqueTogether(
            name="vaccinestock",
            unique_together={("country", "vaccine")},
        ),
        migrations.AddIndex(
            model_name="vaccinerequestform",
            index=models.Index(
                fields=["campaign", "vaccine_type"],
                name="polio_vacci_campaig_f43af8_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="vaccinerequestform",
            index=models.Index(fields=["vrf_type"], name="polio_vacci_vrf_typ_2acd7d_idx"),
        ),
        migrations.AddIndex(
            model_name="vaccinerequestform",
            index=models.Index(fields=["created_at"], name="polio_vacci_created_8563f0_idx"),
        ),
        migrations.AddIndex(
            model_name="vaccinerequestform",
            index=models.Index(fields=["updated_at"], name="polio_vacci_updated_fd171a_idx"),
        ),
        migrations.AddIndex(
            model_name="vaccineprealert",
            index=models.Index(
                fields=["request_form", "estimated_arrival_time"],
                name="polio_vacci_request_4c2b0b_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="vaccineprealert",
            index=models.Index(fields=["po_number"], name="polio_vacci_po_numb_511963_idx"),
        ),
        migrations.AddIndex(
            model_name="vaccineprealert",
            index=models.Index(
                fields=["date_pre_alert_reception"],
                name="polio_vacci_date_pr_b7d59e_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="vaccinearrivalreport",
            index=models.Index(
                fields=["request_form", "arrival_report_date"],
                name="polio_vacci_request_48e891_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="vaccinearrivalreport",
            index=models.Index(fields=["po_number"], name="polio_vacci_po_numb_bd6c9f_idx"),
        ),
        migrations.AddIndex(
            model_name="vaccinearrivalreport",
            index=models.Index(fields=["doses_received"], name="polio_vacci_doses_r_d2cd9d_idx"),
        ),
        migrations.AlterUniqueTogether(
            name="roundscope",
            unique_together={("round", "vaccine")},
        ),
        migrations.AlterUniqueTogether(
            name="reasonfordelay",
            unique_together={("key_name", "account")},
        ),
        migrations.AddIndex(
            model_name="outgoingstockmovement",
            index=models.Index(
                fields=["vaccine_stock", "campaign"],
                name="polio_outgo_vaccine_fa2e84_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="outgoingstockmovement",
            index=models.Index(fields=["form_a_reception_date"], name="polio_outgo_form_a__b64b56_idx"),
        ),
        migrations.AddIndex(
            model_name="outgoingstockmovement",
            index=models.Index(fields=["report_date"], name="polio_outgo_report__44ffe2_idx"),
        ),
        migrations.AddConstraint(
            model_name="outgoingstockmovement",
            constraint=models.CheckConstraint(
                check=models.Q(
                    ("campaign__isnull", False),
                    models.Q(("non_obr_name", ""), _negated=True),
                    _connector="OR",
                ),
                name="campaign_or_pseudo_campaign_not_null",
            ),
        ),
        migrations.AddConstraint(
            model_name="outgoingstockmovement",
            constraint=models.CheckConstraint(
                check=models.Q(
                    models.Q(
                        ("campaign__isnull", False),
                        models.Q(("non_obr_name", ""), _negated=True),
                    ),
                    _negated=True,
                ),
                name="campaign_and_pseudo_campaign_cannot_both_have_value",
            ),
        ),
        migrations.AddConstraint(
            model_name="lqasrounddata",
            constraint=models.UniqueConstraint(
                condition=models.Q(("subactivity__isnull", False)),
                fields=("round", "subactivity"),
                name="unique_lqasactivitystats_round_subactivity",
            ),
        ),
        migrations.AddConstraint(
            model_name="lqasrounddata",
            constraint=models.UniqueConstraint(
                condition=models.Q(("subactivity__isnull", True)),
                fields=("round",),
                name="unique_lqasactivitystats_round_no_subactivity",
            ),
        ),
        migrations.AddConstraint(
            model_name="lqasdistrictdata",
            constraint=models.UniqueConstraint(
                condition=models.Q(("subactivity__isnull", False)),
                fields=("round", "subactivity", "district"),
                name="unique_lqasentry_round_subactivity_district",
            ),
        ),
        migrations.AddConstraint(
            model_name="lqasdistrictdata",
            constraint=models.UniqueConstraint(
                condition=models.Q(("subactivity__isnull", True)),
                fields=("round", "district"),
                name="unique_lqasentry_round_district_no_subactivity",
            ),
        ),
        migrations.AddIndex(
            model_name="incidentreport",
            index=models.Index(
                fields=["vaccine_stock", "date_of_incident_report"],
                name="polio_incid_vaccine_b012dc_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="incidentreport",
            index=models.Index(
                fields=["incident_report_received_by_rrt"],
                name="polio_incid_inciden_067b16_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="earmarkedstock",
            index=models.Index(
                fields=["vaccine_stock", "campaign"],
                name="polio_earma_vaccine_0a002f_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="earmarkedstock",
            index=models.Index(fields=["created_at"], name="polio_earma_created_54ada5_idx"),
        ),
        migrations.AddIndex(
            model_name="earmarkedstock",
            index=models.Index(fields=["round"], name="polio_earma_round_i_a163e4_idx"),
        ),
        migrations.AddIndex(
            model_name="destructionreport",
            index=models.Index(
                fields=["vaccine_stock", "destruction_report_date"],
                name="polio_destr_vaccine_e5b90d_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="destructionreport",
            index=models.Index(
                fields=["rrt_destruction_report_reception_date"],
                name="polio_destr_rrt_des_449e4f_idx",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="campaignscope",
            unique_together={("campaign", "vaccine")},
        ),
    ]
