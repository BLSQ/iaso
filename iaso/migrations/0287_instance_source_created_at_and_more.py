# Generated by Django 4.2.13 on 2024-07-04 15:07

from django.db import migrations, models


class Migration(migrations.Migration):
    atomic = False

    dependencies = [
        ("iaso", "0281_alter_account_modules"),
    ]

    operations = [
        migrations.AddField(
            model_name="instance",
            name="source_created_at",
            field=models.DateTimeField(blank=True, help_text="Creation time on the device", null=True),
        ),
        migrations.AddField(
            model_name="instance",
            name="source_updated_at",
            field=models.DateTimeField(blank=True, help_text="Update time on the device", null=True),
        ),
        migrations.AddField(
            model_name="orgunit",
            name="source_created_at",
            field=models.DateTimeField(blank=True, help_text="Creation time on the client device", null=True),
        ),
        migrations.RunSQL(
            sql="SET work_mem = '1GB';",
            reverse_sql=migrations.RunSQL.noop,
        ),
        migrations.RunSQL(
            sql="UPDATE iaso_instance SET source_created_at = created_at WHERE source_created_at IS NULL;",
            reverse_sql=migrations.RunSQL.noop,
        ),
        migrations.RunSQL(
            sql="UPDATE iaso_instance SET source_updated_at = updated_at WHERE source_updated_at IS NULL;",
            reverse_sql=migrations.RunSQL.noop,
        ),
        migrations.RunSQL(
            sql="UPDATE iaso_orgunit SET source_created_at = created_at WHERE source_created_at IS NULL;",
            reverse_sql=migrations.RunSQL.noop,
        ),
    ]
